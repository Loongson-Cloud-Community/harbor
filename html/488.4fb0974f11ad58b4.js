"use strict";(self.webpackChunkharbor_portal=self.webpackChunkharbor_portal||[]).push([[488],{4296:(S,I,c)=>{c.d(I,{k:()=>y});var l=c(9862),v=c(3586),E=c(2181),f=c(7398),A=c(5879),Z=c(9462);let y=(()=>{var e;class O extends v.b{constructor(i,d){super(i,d)}listRegistryProviderTypesResponse(i){let d=this.newParams(),p=new l.WM;null!=i&&(p=p.set("X-Request-Id",i.toString()));let _=new l.aW("GET",this.rootUrl+"/replication/adapters",null,{headers:p,params:d,responseType:"json"});return this.http.request(_).pipe((0,E.h)(h=>h instanceof l.Zn),(0,f.U)(h=>h))}listRegistryProviderTypes(i){return this.listRegistryProviderTypesResponse(i).pipe((0,f.U)(d=>d.body))}listRegistryProviderInfosResponse(i){let d=this.newParams(),p=new l.WM;null!=i&&(p=p.set("X-Request-Id",i.toString()));let _=new l.aW("GET",this.rootUrl+"/replication/adapterinfos",null,{headers:p,params:d,responseType:"json"});return this.http.request(_).pipe((0,E.h)(h=>h instanceof l.Zn),(0,f.U)(h=>h))}listRegistryProviderInfos(i){return this.listRegistryProviderInfosResponse(i).pipe((0,f.U)(d=>d.body))}createRegistryResponse(i){let d=this.newParams(),p=new l.WM,g=null;g=i.registry,null!=i.XRequestId&&(p=p.set("X-Request-Id",i.XRequestId.toString()));let _=new l.aW("POST",this.rootUrl+"/registries",g,{headers:p,params:d,responseType:"json"});return this.http.request(_).pipe((0,E.h)(h=>h instanceof l.Zn),(0,f.U)(h=>h))}createRegistry(i){return this.createRegistryResponse(i).pipe((0,f.U)(d=>d.body))}listRegistriesResponse(i){let d=this.newParams(),p=new l.WM;null!=i.sort&&(d=d.set("sort",i.sort.toString())),null!=i.q&&(d=d.set("q",i.q.toString())),null!=i.pageSize&&(d=d.set("page_size",i.pageSize.toString())),null!=i.page&&(d=d.set("page",i.page.toString())),null!=i.name&&(d=d.set("name",i.name.toString())),null!=i.XRequestId&&(p=p.set("X-Request-Id",i.XRequestId.toString()));let _=new l.aW("GET",this.rootUrl+"/registries",null,{headers:p,params:d,responseType:"json"});return this.http.request(_).pipe((0,E.h)(h=>h instanceof l.Zn),(0,f.U)(h=>h))}listRegistries(i){return this.listRegistriesResponse(i).pipe((0,f.U)(d=>d.body))}pingRegistryResponse(i){let d=this.newParams(),p=new l.WM,g=null;g=i.registry,null!=i.XRequestId&&(p=p.set("X-Request-Id",i.XRequestId.toString()));let _=new l.aW("POST",this.rootUrl+"/registries/ping",g,{headers:p,params:d,responseType:"json"});return this.http.request(_).pipe((0,E.h)(h=>h instanceof l.Zn),(0,f.U)(h=>h))}pingRegistry(i){return this.pingRegistryResponse(i).pipe((0,f.U)(d=>d.body))}getRegistryResponse(i){let d=this.newParams(),p=new l.WM;null!=i.XRequestId&&(p=p.set("X-Request-Id",i.XRequestId.toString()));let _=new l.aW("GET",this.rootUrl+`/registries/${i.id}`,null,{headers:p,params:d,responseType:"json"});return this.http.request(_).pipe((0,E.h)(h=>h instanceof l.Zn),(0,f.U)(h=>h))}getRegistry(i){return this.getRegistryResponse(i).pipe((0,f.U)(d=>d.body))}deleteRegistryResponse(i){let d=this.newParams(),p=new l.WM;null!=i.XRequestId&&(p=p.set("X-Request-Id",i.XRequestId.toString()));let _=new l.aW("DELETE",this.rootUrl+`/registries/${i.id}`,null,{headers:p,params:d,responseType:"json"});return this.http.request(_).pipe((0,E.h)(h=>h instanceof l.Zn),(0,f.U)(h=>h))}deleteRegistry(i){return this.deleteRegistryResponse(i).pipe((0,f.U)(d=>d.body))}updateRegistryResponse(i){let d=this.newParams(),p=new l.WM,g=null;g=i.registry,null!=i.XRequestId&&(p=p.set("X-Request-Id",i.XRequestId.toString()));let _=new l.aW("PUT",this.rootUrl+`/registries/${i.id}`,g,{headers:p,params:d,responseType:"json"});return this.http.request(_).pipe((0,E.h)(h=>h instanceof l.Zn),(0,f.U)(h=>h))}updateRegistry(i){return this.updateRegistryResponse(i).pipe((0,f.U)(d=>d.body))}getRegistryInfoResponse(i){let d=this.newParams(),p=new l.WM;null!=i.XRequestId&&(p=p.set("X-Request-Id",i.XRequestId.toString()));let _=new l.aW("GET",this.rootUrl+`/registries/${i.id}/info`,null,{headers:p,params:d,responseType:"json"});return this.http.request(_).pipe((0,E.h)(h=>h instanceof l.Zn),(0,f.U)(h=>h))}getRegistryInfo(i){return this.getRegistryInfoResponse(i).pipe((0,f.U)(d=>d.body))}}return(e=O).listRegistryProviderTypesPath="/replication/adapters",e.listRegistryProviderInfosPath="/replication/adapterinfos",e.createRegistryPath="/registries",e.listRegistriesPath="/registries",e.pingRegistryPath="/registries/ping",e.getRegistryPath="/registries/{id}",e.deleteRegistryPath="/registries/{id}",e.updateRegistryPath="/registries/{id}",e.getRegistryInfoPath="/registries/{id}/info",e.\u0275fac=function(i){return new(i||e)(A.LFG(Z.p),A.LFG(l.eN))},e.\u0275prov=A.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),O})()},488:(S,I,c)=>{c.r(I),c.d(I,{EndpointModule:()=>ce});var l=c(2787),v=c(4554),E=c(9315),f=c(8504),A=c(4716),Z=c(7398),y=c(6306),e=c(5879),O=c(208),m=c(1691),i=c(8280),d=c(8482),p=c(7655),g=c(9515),_=c(9862),h=c(6682),C=c(6223),N=c(6814);const P=["targetForm"];function L(s,u){1&s&&(e.TgZ(0,"div",37)(1,"div",38)(2,"span",39),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&s&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"DESTINATION.CANNOT_EDIT")," "))}function U(s,u){if(1&s&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&s){const a=u.$implicit,n=e.oxw(2);e.s9C("value",a),e.xp6(1),e.hij(" ",n.getAdapterText(a)," ")}}function q(s,u){if(1&s&&(e.ynx(0),e.YNc(1,U,2,2,"option",40),e.BQk()),2&s){const a=e.oxw();e.xp6(1),e.Q6J("ngForOf",a.adapterList)}}function w(s,u){if(1&s&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&s){const a=u.$implicit,n=e.oxw(2);e.s9C("value",a),e.xp6(1),e.hij(" ",n.getAdapterText(a)," ")}}const F=function(s){return[s]};function J(s,u){if(1&s&&(e.ynx(0),e.YNc(1,w,2,2,"option",40),e.BQk()),2&s){const a=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.VKq(1,F,a.target.type))}}function k(s,u){1&s&&(e.TgZ(0,"clr-control-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"DESTINATION.NAME_IS_REQUIRED")," "))}function Q(s,u){if(1&s){const a=e.EpF();e.TgZ(0,"clr-icon",42),e.NdJ("click",function(){e.CHM(a);const t=e.oxw();return e.KtG(t.showEndpointList=!0)}),e.qZA()}}function B(s,u){if(1&s){const a=e.EpF();e.TgZ(0,"li",45),e.NdJ("click",function(){const o=e.CHM(a).$implicit,r=e.oxw(2);return e.KtG(r.selectedEndpoint(o.value))}),e._uU(1),e.qZA()}if(2&s){const a=u.$implicit;e.xp6(1),e.hij(" ",a.key," ")}}function G(s,u){if(1&s){const a=e.EpF();e.TgZ(0,"div",43),e.NdJ("mouseleave",function(){e.CHM(a);const t=e.oxw();return e.KtG(t.endpointOnHover=!1)})("mouseover",function(){e.CHM(a);const t=e.oxw();return e.KtG(t.endpointOnHover=!0)}),e.TgZ(1,"ul"),e.YNc(2,B,2,1,"li",44),e.qZA()()}if(2&s){const a=e.oxw();e.xp6(2),e.Q6J("ngForOf",a.endpointList)}}function Y(s,u){1&s&&e._UZ(0,"clr-icon",46)}function j(s,u){1&s&&(e.TgZ(0,"clr-control-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"DESTINATION.URL_IS_REQUIRED")," "))}function H(s,u){if(1&s){const a=e.EpF();e.TgZ(0,"input",47,48),e.NdJ("ngModelChange",function(t){e.CHM(a);const o=e.oxw();return e.KtG(o.target.credential.access_secret=t)}),e.qZA()}if(2&s){const a=e.oxw();e.Q6J("disabled",a.testOngoing)("readonly",!a.editable)("ngModel",a.target.credential.access_secret)}}function z(s,u){if(1&s){const a=e.EpF();e.TgZ(0,"textarea",49,48),e.NdJ("ngModelChange",function(t){e.CHM(a);const o=e.oxw();return e.KtG(o.target.credential.access_secret=t)}),e.qZA()}if(2&s){const a=e.oxw();e.Q6J("disabled",a.testOngoing)("readonly",!a.editable)("ngModel",a.target.credential.access_secret)}}function W(s,u){1&s&&(e.TgZ(0,"clr-tooltip-content",50),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CONFIG.TOOLTIP.VERIFY_REMOTE_CERT")," "))}const M="rjGcfuRu",R="No Change",V=m.S$+"/replication/adapterinfos",x="EndpointPatternTypeFix";let D=(()=>{var s;class u{constructor(n,t,o,r,T){this.endpointService=n,this.errorHandler=t,this.translateService=o,this.http=r,this.appConfigService=T,this.urlDisabled=!1,this.editDisabled=!1,this.staticBackdrop=!0,this.closable=!1,this.endpointList=[],this.target=this.initEndpoint(),this.reload=new e.vpe,this.showEndpointList=!1,this.endpointOnHover=!1,this.testButtonState=i.xp5.DEFAULT,this.okButtonState=i.xp5.DEFAULT}ngOnInit(){this.getAdapters(),this.getAdapterInfo()}getAdapters(){this.endpointService.getAdapters().subscribe(n=>{this.adapterList=n||[]},n=>{this.errorHandler.error(n)})}getAdapterInfo(){this.http.get(V).pipe((0,y.K)(n=>(0,f._)(n))).subscribe(n=>{this.adapterInfo=n},n=>{this.errorHandler.error(n)})}isNormalCredential(){return!(this.adapterInfo&&this.target&&this.target.type&&this.adapterInfo[this.target.type]&&this.adapterInfo[this.target.type].credential_pattern)}selectedEndpoint(n){this.targetForm.controls.endpointUrl.reset(n),this.showEndpointList=!1,this.endpointOnHover=!1}blur(){this.endpointOnHover||(this.showEndpointList=!1)}get isValid(){return!this.testOngoing&&!this.onGoing&&this.targetForm&&this.targetForm.valid&&this.editable&&!(0,m.jy)(this.target,this.initVal)}get inProgress(){return this.onGoing||this.testOngoing}setInsecureValue(n){this.target.insecure=!n}ngOnDestroy(){this.valueChangesSub&&this.valueChangesSub.unsubscribe()}initEndpoint(){return{credential:{access_key:"",access_secret:"",type:"basic"},description:"",insecure:!1,name:"",type:"harbor",url:""}}initPingEndpoint(){return{access_key:"",access_secret:"",description:"",insecure:!1,name:"",type:"harbor",url:""}}open(){this.createEditDestinationOpened=!0}close(){this.createEditDestinationOpened=!1}reset(){this.testOngoing=!1,this.onGoing=!1,this.targetForm&&this.targetForm.controls&&this.targetForm.controls.targetName&&this.targetForm.controls.targetName.reset(),this.target=this.initEndpoint(),this.initVal=this.initEndpoint(),this.formValues=null,this.endpointId="",this.inlineAlert.close()}openCreateEditTarget(n,t){this.editable=n,this.reset(),t?(this.endpointId=t,this.translateService.get("DESTINATION.TITLE_EDIT").subscribe(o=>this.modalTitle=o),this.endpointService.getEndpoint(t).subscribe(o=>{this.target=o,this.urlDisabled=this.adapterInfo&&this.adapterInfo[this.target.type]&&this.adapterInfo[this.target.type].endpoint_pattern&&this.adapterInfo[this.target.type].endpoint_pattern.endpoint_type===x,this.initVal=(0,m.d9)(o),this.initVal.credential.access_secret="google-gcr"===this.target.type?R:M,this.target.credential.access_secret="google-gcr"===this.target.type?R:M,this.open(),this.editDisabled=!0},o=>this.errorHandler.error(o))):(this.urlDisabled=!1,this.endpointId="",this.translateService.get("DESTINATION.TITLE_ADD").subscribe(o=>this.modalTitle=o),this.open(),this.editDisabled=!1)}adapterChange(n){this.targetForm.controls.endpointUrl.reset("");let t=this.targetForm.controls.adapter.value;this.urlDisabled=!1,this.isNormalCredential()?this.targetForm.controls.access_key.setValue(""):this.targetForm.controls.access_key.setValue(this.adapterInfo[this.target.type].credential_pattern.access_key_data),this.adapterInfo&&this.adapterInfo[t]&&this.adapterInfo[t].endpoint_pattern&&this.adapterInfo[t].endpoint_pattern.endpoints?(this.endpointList=this.adapterInfo[t].endpoint_pattern.endpoints,1===this.endpointList.length&&(this.target.url=this.endpointList[0].value),this.adapterInfo[t].endpoint_pattern.endpoint_type===x&&(this.urlDisabled=!0)):this.endpointList=[]}testConnection(){let n=this.initPingEndpoint();if(this.endpointId){let t=this.getChanges();for(let o of Object.keys(n))delete n[o];n.id=this.target.id,(0,m.Qr)(t)||Object.keys(this.getChanges()).forEach(r=>{n[r]=t[r]})}else n.name=this.target.name,n.description=this.target.description,n.type=this.target.type,n.url=this.target.url,n.access_key=this.target.credential.access_key,n.access_secret=this.target.credential.access_secret,n.insecure=this.target.insecure;this.testOngoing=!0,this.testButtonState=i.xp5.LOADING,this.endpointService.pingEndpoint(n).subscribe(t=>{this.inlineAlert.showInlineSuccess({message:"DESTINATION.TEST_CONNECTION_SUCCESS"}),this.testOngoing=!1,this.testButtonState=i.xp5.SUCCESS},t=>{this.inlineAlert.showInlineError("DESTINATION.TEST_CONNECTION_FAILURE"),this.testOngoing=!1,this.testButtonState=i.xp5.ERROR})}onSubmit(){this.endpointId?this.updateEndpoint():this.addEndpoint()}addEndpoint(){this.onGoing||(this.onGoing=!0,this.okButtonState=i.xp5.LOADING,this.endpointService.createEndpoint(this.target).subscribe(n=>{this.translateService.get("DESTINATION.CREATED_SUCCESS").subscribe(t=>this.errorHandler.info(t)),this.reload.emit(!0),this.onGoing=!1,this.okButtonState=i.xp5.SUCCESS,this.close()},n=>{this.onGoing=!1,this.okButtonState=i.xp5.ERROR,this.inlineAlert.showInlineError(n)}))}updateEndpoint(){if(this.onGoing)return;let n=this.initEndpoint();for(let r of Object.keys(n))delete n[r];let t=this.getChanges();(0,m.Qr)(t)||(Object.keys(t).forEach(r=>{n[r]=t[r]}),!this.target.id)||(this.onGoing=!0,this.okButtonState=i.xp5.LOADING,this.endpointService.updateEndpoint(this.target.id,n).subscribe(r=>{this.translateService.get("DESTINATION.UPDATED_SUCCESS").subscribe(T=>this.errorHandler.info(T)),this.reload.emit(!0),this.close(),this.onGoing=!1,this.okButtonState=i.xp5.SUCCESS},r=>{this.inlineAlert.showInlineError(r),this.onGoing=!1,this.okButtonState=i.xp5.ERROR}))}onCancel(){let n=this.getChanges();(0,m.Qr)(n)?(this.close(),this.targetForm&&this.targetForm.reset()):this.inlineAlert.showInlineConfirmation({message:"ALERT.FORM_CHANGE_CONFIRMATION"})}confirmCancel(n){this.inlineAlert.close(),this.close()}ngAfterViewChecked(){this.targetForm!==this.currentForm&&(this.targetForm=this.currentForm,this.targetForm&&(this.valueChangesSub=this.targetForm.valueChanges.subscribe(n=>{if(n){let t=0;for(let o in n)null!==n[o]&&t++;if(5!==t)return;(0,m.jy)(this.formValues,n)||(this.formValues=n)}})))}getChanges(){let n={};if(!this.target||!this.initVal)return n;for(let t of Object.keys(Object.assign({},this.target,this.initVal))){let o=this.initVal[t];if("object"!=typeof o)(0,m.jy)(o,this.target[t])||(n[t]=this.target[t],"number"==typeof o&&(n[t]=+n[t]),"string"==typeof o&&(n[t]=(""+n[t]).trim()));else for(let r of Object.keys(Object.assign({},o,this.target[t])))(0,m.jy)(o[r],this.target[t][r])||(n[r]=this.target[t][r],"number"==typeof o[r]&&(n[r]=+n[r]),"string"==typeof o[r]&&(n[r]=(""+n[r]).trim()))}return n}getAdapterText(n){return this.endpointService.getAdapterText(n)}}return(s=u).\u0275fac=function(n){return new(n||s)(e.Y36(d.BO),e.Y36(p.q),e.Y36(g.sK),e.Y36(_.eN),e.Y36(h._))},s.\u0275cmp=e.Xpm({type:s,selectors:[["hbr-create-edit-endpoint"]],viewQuery:function(n,t){if(1&n&&(e.Gf(P,5),e.Gf(O.l,5)),2&n){let o;e.iGM(o=e.CRH())&&(t.currentForm=o.first),e.iGM(o=e.CRH())&&(t.inlineAlert=o.first)}},outputs:{reload:"reload"},decls:75,vars:65,consts:[[3,"clrModalOpen","clrModalStaticBackdrop","clrModalClosable","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body","overflow-visible"],[1,"modal-title",3,"confirmEvt"],["class","alert alert-warning",4,"ngIf"],[1,"clr-form","clr-form-horizontal"],["targetForm","ngForm"],[1,"required"],["clrSelect","","name","adapter","id","adapter",3,"ngModel","disabled","change","ngModelChange"],[4,"ngIf"],["autocomplete","off","clrInput","","type","text","id","destination_name","name","targetName","size","30","required","",3,"disabled","readonly","ngModel","ngModelChange"],["targetName","ngModel"],["clrTextarea","","type","text","row","3","name","description",1,"inputWidth",3,"ngModel","ngModelChange"],[1,"clr-form-control"],["for","destination_url",1,"required","clr-control-label"],[1,"clr-control-container"],[1,"clr-input-wrapper","position-relative"],["class","down","shape","caret","dir","down",3,"click",4,"ngIf"],["autocomplete","off","type","text","id","destination_url","size","28","name","endpointUrl","required","","placeholder","http(s)://192.168.1.1",1,"clr-input","endpoint-input",3,"disabled","readonly","ngModel","blur","focus","ngModelChange"],["targetEndpoint","ngModel"],["class","selectBox",3,"mouseleave","mouseover",4,"ngIf"],["class","clr-validate-icon","shape","exclamation-circle",4,"ngIf"],["autocomplete","off","clrInput","","type","text","placeholder","Access ID","id","destination_access_key","size","30","name","access_key",3,"disabled","readonly","ngModel","ngModelChange"],["access_key","ngModel"],["for","destination_password",1,"clr-control-label"],[1,"clr-textarea-wrapper","mt-0"],["autocomplete","off","class","clr-input","type","password","placeholder","Access Secret","id","destination_password","size","30","name","access_secret",3,"disabled","readonly","ngModel","ngModelChange",4,"ngIf","ngIfElse"],["gcr_secret",""],["id","destination_insecure_checkbox","for","destination_insecure",1,"destination-insecure-label"],["clrTooltipTrigger","","shape","info-circle","size","24"],["clrPosition","top-right","clrSize","md",4,"clrIfOpen"],["type","checkbox","clrCheckbox","","id","destination_insecure","name","insecure",3,"disabled","ngModel","ngModelChange"],["insecure",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"clrLoading","disabled","click"],["type","button",1,"btn","btn-outline",3,"disabled","click"],["type","submit",1,"btn","btn-primary",3,"clrLoading","disabled","click"],[1,"alert","alert-warning"],[1,"alert-item","static"],[1,"alert-text"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["shape","caret","dir","down",1,"down",3,"click"],[1,"selectBox",3,"mouseleave","mouseover"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["shape","exclamation-circle",1,"clr-validate-icon"],["autocomplete","off","type","password","placeholder","Access Secret","id","destination_password","size","30","name","access_secret",1,"clr-input",3,"disabled","readonly","ngModel","ngModelChange"],["access_secret","ngModel"],["autocomplete","off","type","text","row","3","placeholder","Json Secret","id","destination_password","name","access_secret",1,"clr-textarea",3,"disabled","readonly","ngModel","ngModelChange"],["clrPosition","top-right","clrSize","md"]],template:function(n,t){if(1&n&&(e.TgZ(0,"clr-modal",0),e.NdJ("clrModalOpenChange",function(r){return t.createEditDestinationOpened=r}),e.TgZ(1,"h3",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"inline-alert",3),e.NdJ("confirmEvt",function(r){return t.confirmCancel(r)}),e.qZA(),e.YNc(5,L,5,3,"div",4),e.TgZ(6,"form",5,6)(8,"clr-select-container")(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"select",8),e.NdJ("change",function(r){return t.adapterChange(r)})("ngModelChange",function(r){return t.target.type=r}),e.YNc(13,q,2,1,"ng-container",9),e.YNc(14,J,2,3,"ng-container",9),e.qZA()(),e.TgZ(15,"clr-input-container")(16,"label",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"input",10,11),e.NdJ("ngModelChange",function(r){return t.target.name=r}),e.qZA(),e.YNc(21,k,3,3,"clr-control-error",9),e.qZA(),e.TgZ(22,"clr-textarea-container")(23,"label"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"textarea",12),e.NdJ("ngModelChange",function(r){return t.target.description=r}),e.qZA()(),e.TgZ(27,"div",13)(28,"label",14),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",15)(32,"div",16),e.YNc(33,Q,1,0,"clr-icon",17),e.TgZ(34,"input",18,19),e.NdJ("blur",function(){return t.blur()})("focus",function(){return t.showEndpointList=!0})("ngModelChange",function(r){return t.target.url=r}),e.qZA(),e.YNc(36,G,3,1,"div",20),e.YNc(37,Y,1,0,"clr-icon",21),e.qZA(),e.YNc(38,j,3,3,"clr-control-error",9),e.qZA()(),e.TgZ(39,"clr-input-container")(40,"label"),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"input",22,23),e.NdJ("ngModelChange",function(r){return t.target.credential.access_key=r}),e.qZA()(),e.TgZ(45,"div",13)(46,"label",24),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"div",15)(50,"div",25),e.YNc(51,H,2,3,"input",26),e.YNc(52,z,2,3,"ng-template",null,27,e.W1O),e.qZA()()(),e.TgZ(54,"clr-checkbox-container")(55,"label",28)(56,"span"),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.TgZ(59,"clr-tooltip"),e._UZ(60,"clr-icon",29),e.YNc(61,W,3,3,"clr-tooltip-content",30),e.qZA()(),e.TgZ(62,"clr-checkbox-wrapper")(63,"input",31,32),e.NdJ("ngModelChange",function(r){return t.setInsecureValue(r)}),e.qZA()()()()(),e.TgZ(65,"div",33)(66,"button",34),e.NdJ("click",function(){return t.testConnection()}),e._uU(67),e.ALo(68,"translate"),e.qZA(),e.TgZ(69,"button",35),e.NdJ("click",function(){return t.onCancel()}),e._uU(70),e.ALo(71,"translate"),e.qZA(),e.TgZ(72,"button",36),e.NdJ("click",function(){return t.onSubmit()}),e._uU(73),e.ALo(74,"translate"),e.qZA()()()),2&n){const o=e.MAs(20),r=e.MAs(35),T=e.MAs(53);e.Q6J("clrModalOpen",t.createEditDestinationOpened)("clrModalStaticBackdrop",t.staticBackdrop)("clrModalClosable",t.closable),e.xp6(2),e.Oqu(t.modalTitle),e.xp6(3),e.Q6J("ngIf",!t.editable),e.xp6(5),e.Oqu(e.lcZ(11,45,"DESTINATION.PROVIDER")),e.xp6(2),e.Q6J("ngModel",t.target.type)("disabled",t.testOngoing||t.editDisabled),e.xp6(1),e.Q6J("ngIf",!t.editDisabled),e.xp6(1),e.Q6J("ngIf",t.editDisabled),e.xp6(3),e.Oqu(e.lcZ(18,47,"DESTINATION.NAME")),e.xp6(2),e.Q6J("disabled",t.testOngoing)("readonly",!t.editable)("ngModel",t.target.name),e.xp6(2),e.Q6J("ngIf",o.errors&&o.errors.required&&(o.dirty||o.touched)),e.xp6(3),e.Oqu(e.lcZ(25,49,"REPLICATION.DESCRIPTION")),e.xp6(2),e.Q6J("ngModel",t.target.description),e.xp6(3),e.Oqu(e.lcZ(30,51,"DESTINATION.URL")),e.xp6(2),e.ekj("clr-error",(null==r?null:r.errors)&&r.errors.required&&(r.dirty||r.touched)),e.xp6(2),e.Q6J("ngIf",!(!t.showEndpointList&&null!=r&&r.errors&&r.errors.required&&(r.dirty||r.touched))&&(null==t.endpointList?null:t.endpointList.length)),e.xp6(1),e.Q6J("disabled",t.testOngoing||t.urlDisabled)("readonly",!t.editable)("ngModel",t.target.url),e.xp6(2),e.Q6J("ngIf",(null==t.endpointList?null:t.endpointList.length)&&t.showEndpointList),e.xp6(1),e.Q6J("ngIf",!t.showEndpointList&&(null==r?null:r.errors)&&r.errors.required&&(r.dirty||r.touched)),e.xp6(1),e.Q6J("ngIf",!t.showEndpointList&&(null==r?null:r.errors)&&r.errors.required&&(r.dirty||r.touched)),e.xp6(3),e.Oqu(e.lcZ(42,53,"DESTINATION.ACCESS_ID")),e.xp6(2),e.Q6J("disabled",t.testOngoing)("readonly","google-gcr"===t.target.type||!t.editable)("ngModel",t.target.credential.access_key),e.xp6(4),e.Oqu(e.lcZ(48,55,"DESTINATION.ACCESS_SECRET")),e.xp6(4),e.Q6J("ngIf",t.isNormalCredential())("ngIfElse",T),e.xp6(6),e.Oqu(e.lcZ(58,57,"CONFIG.VERIFY_REMOTE_CERT")),e.xp6(6),e.Q6J("disabled",t.testOngoing||!t.editable)("ngModel",!t.target.insecure),e.xp6(3),e.Q6J("clrLoading",t.testButtonState)("disabled",t.inProgress||(null==r?null:r.errors)),e.xp6(1),e.hij(" ",e.lcZ(68,59,"DESTINATION.TEST_CONNECTION")," "),e.xp6(2),e.Q6J("disabled",t.inProgress),e.xp6(1),e.hij(" ",e.lcZ(71,61,"BUTTON.CANCEL")," "),e.xp6(2),e.Q6J("clrLoading",t.okButtonState)("disabled",!t.isValid),e.xp6(1),e.hij(" ",e.lcZ(74,63,"BUTTON.OK")," ")}},dependencies:[C._Y,C.YN,C.Kr,C.Fj,C.Wl,C.EJ,C.JJ,C.JL,C.Q7,C.On,C.F,i.I9z,i.qvL,i.qAN,i.VLi,i.cCV,i.nqY,i.MPb,i.MgK,i.VqA,i.KKC,i.Y_4,i.PEh,i.xRP,i.G55,i.otW,i.dTv,i.XE5,i.LAP,i.Jmj,i.bMv,i.zDF,N.sg,N.O5,O.l,g.X$],styles:[".form-group-label-override[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.form-height[_ngcontent-%COMP%]{height:30px}.inputWidth[_ngcontent-%COMP%]{width:216px}.display-none[_ngcontent-%COMP%]{display:none}.selectBox[_ngcontent-%COMP%]{position:absolute;width:173px;height:auto;border:1px solid #ccc;background-color:#fff;border-right-width:2px;border-bottom-width:2px;border-radius:6px;box-shadow:0 5px 10px #0003;z-index:100}.selectBox[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{overflow-y:auto;max-height:260px}.selectBox[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;padding:0 18px;height:20px;line-height:18px;cursor:pointer}.selectBox[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#262626;background-image:linear-gradient(180deg,#f5f5f5 0,#e8e8e8);background-repeat:repeat-x}.position-relative[_ngcontent-%COMP%]{position:relative}.overflow-visible[_ngcontent-%COMP%]{overflow:visible}.down[_ngcontent-%COMP%]{position:absolute;top:.2917rem;right:0;margin:0;width:12px;height:12px;color:#a4a4a4;cursor:pointer}.endpoint-input[_ngcontent-%COMP%]{padding-right:21px}.destination-insecure-label[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),u})();var b=c(6126),K=c(3924),X=c(6266),$=c(4296),ee=c(7546),te=c(927),ne=c(7625),ie=c(4410);const re=["confirmationDialog"];function oe(s,u){1&s&&(e.TgZ(0,"span",33),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"SCANNER.HEALTHY")))}function se(s,u){1&s&&(e.TgZ(0,"span",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"SCANNER.UNHEALTHY")))}function le(s,u){if(1&s&&(e.TgZ(0,"clr-dg-row",29)(1,"clr-dg-cell",17),e._uU(2),e.qZA(),e.TgZ(3,"clr-dg-cell",17),e.YNc(4,oe,3,3,"span",30),e.YNc(5,se,3,3,"ng-template",null,31,e.W1O),e.qZA(),e.TgZ(7,"clr-dg-cell",17),e._uU(8),e.qZA(),e.TgZ(9,"clr-dg-cell")(10,"span",32),e._uU(11),e.qZA()(),e.TgZ(12,"clr-dg-cell"),e._uU(13),e.qZA(),e.TgZ(14,"clr-dg-cell"),e._uU(15),e.qZA(),e.TgZ(16,"clr-dg-cell"),e._uU(17),e.ALo(18,"harborDatetime"),e.qZA(),e.TgZ(19,"clr-dg-cell"),e._uU(20),e.qZA()()),2&s){const a=u.$implicit,n=e.MAs(6),t=e.oxw();e.Q6J("clrDgItem",a),e.xp6(2),e.Oqu(a.name),e.xp6(2),e.Q6J("ngIf","healthy"===a.status)("ngIfElse",n),e.xp6(4),e.Oqu(a.url),e.xp6(3),e.Oqu(t.getAdapterText(a.type)),e.xp6(2),e.hij(" ",!a.insecure," "),e.xp6(2),e.Oqu(a.credential.type),e.xp6(2),e.Oqu(e.xi3(18,10,a.creation_time,"short")),e.xp6(3),e.Oqu(a.description)}}function ae(s,u){if(1&s&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){e.oxw();const a=e.MAs(57);e.xp6(1),e.lnq("",a.firstItem+1," - ",a.lastItem+1," ",e.lcZ(2,3,"DESTINATION.OF"),"")}}const de=function(){return[15,25,50]},pe=[{path:"",component:(()=>{var s;class u{get initEndpoint(){return{credential:{access_key:"",access_secret:"",type:""},description:"",insecure:!1,name:"",type:"",url:""}}constructor(n,t,o,r,T){this.endpointService=n,this.errorHandlerEntity=t,this.translateService=o,this.operationService=r,this.oldEndpointService=T,this.loading=!0,this.creationTimeComparator=new m.sH("creation_time","date"),this.selectedRow=[],this.pageSize=(0,m.tb)(m.V2.SYSTEM_ENDPOINT_COMPONENT),this.page=1,this.total=0}ngOnInit(){this.targetName=""}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}retrieve(n){this.selectedRow=[];let o,t="";n&&n.filters&&n.filters.length?(this.targetName="",t=encodeURIComponent(`${n.filters[0].property}=~${n.filters[0].value}`)):this.targetName&&(t=`name=~${this.targetName}`),n&&n.page&&(this.pageSize=n.page.size,(0,m.Pe)(m.V2.SYSTEM_ENDPOINT_COMPONENT,this.pageSize)),o=n&&n.sort&&n.sort.by?(0,m.td)(n):"-creation_time",this.loading=!0,this.endpointService.listRegistriesResponse({q:t,pageSize:this.pageSize,page:this.page,sort:o}).pipe((0,A.x)(()=>{this.loading=!1})).subscribe(r=>{if(r.headers){let T=r.headers.get("X-Total-Count");T&&(this.total=parseInt(T,0))}this.targets=r.body||[]},r=>{this.errorHandlerEntity.error(r)})}doSearchTargets(n){this.targetName=n,this.page=1,this.total=0,this.selectedRow=[],this.retrieve()}refreshTargets(){this.targetName="",this.page=1,this.total=0,this.selectedRow=[],this.retrieve()}openModal(){this.createEditEndpointComponent.openCreateEditTarget(!0),this.target=this.initEndpoint}editTargets(n){if(n&&1===n.length){let t=n[0];if(!t.id)return;this.createEditEndpointComponent.openCreateEditTarget(!0,t.id)}}deleteTargets(n){if(n&&n.length){let t=[];n.forEach(r=>{t.push(r.name)});let o=new X.c("REPLICATION.DELETION_TITLE_TARGET","REPLICATION.DELETION_SUMMARY_TARGET",t.join(", ")||"",n,7,2);this.confirmationDialogComponent.open(o)}}confirmDeletion(n){if(n&&7===n.source&&1===n.state){let t=n.data;if(t&&t.length){let o=[];t.forEach(r=>{o.push(this.delOperate(r))}),(0,E.D)(...o).pipe((0,A.x)(()=>{this.refreshTargets()})).subscribe(r=>{},r=>{this.errorHandlerEntity.error(r)})}}}delOperate(n){let t=new b.gB;return t.name="OPERATION.DELETE_REGISTRY",t.data.id=n.id,t.state=b.yb.progressing,t.data.name=n.name,this.operationService.publishInfo(t),this.endpointService.deleteRegistry({id:n.id}).pipe((0,Z.U)(o=>{this.translateService.get("BATCH.DELETED_SUCCESS").subscribe(r=>{(0,b.hm)(t,b.yb.success)})}),(0,y.K)(o=>{const r=(0,K.Po)(o);return this.translateService.get(r).subscribe(T=>(0,b.hm)(t,b.yb.failure,T)),(0,f._)(o)}))}getAdapterText(n){return this.oldEndpointService.getAdapterText(n)}}return(s=u).\u0275fac=function(n){return new(n||s)(e.Y36($.k),e.Y36(p.q),e.Y36(g.sK),e.Y36(ee.f9),e.Y36(d.BO))},s.\u0275cmp=e.Xpm({type:s,selectors:[["hbr-endpoint"]],viewQuery:function(n,t){if(1&n&&(e.Gf(D,5),e.Gf(re,5)),2&n){let o;e.iGM(o=e.CRH())&&(t.createEditEndpointComponent=o.first),e.iGM(o=e.CRH())&&(t.confirmationDialogComponent=o.first)}},decls:67,vars:67,consts:[[1,"custom-h2"],[1,"content-top"],[1,"row","endpoint-view"],[1,"row","flex-items-xs-between","rightPos"],[1,"flex-items-xs-middle","option-right"],[3,"withDivider","filterPlaceholder","currentValue","filterEvt"],[1,"refresh-btn",3,"click"],["shape","refresh"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[3,"clrDgLoading","clrDgSelected","clrDgRefresh","clrDgSelectedChange"],["id","add","type","button",1,"btn","btn-secondary",3,"click"],["shape","plus","size","16"],["id","edit","type","button",1,"btn","btn-secondary",3,"disabled","click"],["shape","pencil","size","16"],["id","delete","type","button",1,"btn","btn-secondary",3,"disabled","click"],["shape","times","size","16"],[1,"flex-min-width",3,"clrDgSortBy"],[1,"flex-min-width"],[1,"flex-min-width",3,"clrDgField"],[3,"clrDgSortBy"],[3,"clrDgField"],[3,"clrDgItem",4,"ngFor","ngForOf"],[3,"clrDgPageSize","clrDgPage","clrDgTotalItems","clrDgPageChange"],["pagination",""],[3,"clrPageSizeOptions"],[4,"ngIf"],[3,"confirmAction"],["confirmationDialog",""],[3,"reload"],[3,"clrDgItem"],["class","label label-success",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"margin-right-2px"],[1,"label","label-success"],[1,"label","label-danger"]],template:function(n,t){1&n&&(e.TgZ(0,"h2",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"div",1)(4,"div",2)(5,"div")(6,"div",3)(7,"div",4)(8,"hbr-filter",5),e.NdJ("filterEvt",function(r){return t.doSearchTargets(r)}),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"span",6),e.NdJ("click",function(){return t.refreshTargets()}),e._UZ(11,"clr-icon",7),e.qZA()()()(),e.TgZ(12,"div",8)(13,"clr-datagrid",9),e.NdJ("clrDgRefresh",function(r){return t.retrieve(r)})("clrDgSelectedChange",function(r){return t.selectedRow=r}),e.TgZ(14,"clr-dg-action-bar")(15,"button",10),e.NdJ("click",function(){return t.openModal()}),e._UZ(16,"clr-icon",11),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return t.editTargets(t.selectedRow)}),e._UZ(20,"clr-icon",13),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"button",14),e.NdJ("click",function(){return t.deleteTargets(t.selectedRow)}),e._UZ(24,"clr-icon",15),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"clr-dg-column",16),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"clr-dg-column",17),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"clr-dg-column",18),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"clr-dg-column"),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"clr-dg-column",19),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"clr-dg-column"),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"clr-dg-column",19),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"clr-dg-column",20),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"clr-dg-placeholder"),e._uU(52),e.ALo(53,"translate"),e.qZA(),e.YNc(54,le,21,13,"clr-dg-row",21),e.TgZ(55,"clr-dg-footer")(56,"clr-dg-pagination",22,23),e.NdJ("clrDgPageChange",function(r){return t.page=r}),e.TgZ(58,"clr-dg-page-size",24),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.YNc(61,ae,3,5,"span",25),e._uU(62),e.ALo(63,"translate"),e.qZA()()()()(),e.TgZ(64,"confirmation-dialog",26,27),e.NdJ("confirmAction",function(r){return t.confirmDeletion(r)}),e.qZA(),e.TgZ(66,"hbr-create-edit-endpoint",28),e.NdJ("reload",function(){return t.refreshTargets()}),e.qZA()()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,34,"SIDE_NAV.SYSTEM_MGMT.REGISTRY")),e.xp6(7),e.s9C("filterPlaceholder",e.lcZ(9,36,"REPLICATION.FILTER_TARGETS_PLACEHOLDER")),e.Q6J("withDivider",!0)("currentValue",t.targetName),e.xp6(5),e.Q6J("clrDgLoading",t.loading)("clrDgSelected",t.selectedRow),e.xp6(4),e.hij("\xa0",e.lcZ(18,38,"DESTINATION.NEW_ENDPOINT")," "),e.xp6(2),e.Q6J("disabled",1!==t.selectedRow.length),e.xp6(2),e.hij("\xa0",e.lcZ(22,40,"DESTINATION.EDIT")," "),e.xp6(2),e.Q6J("disabled",!t.selectedRow.length),e.xp6(2),e.hij("\xa0",e.lcZ(26,42,"DESTINATION.DELETE")," "),e.xp6(2),e.Q6J("clrDgSortBy","name"),e.xp6(1),e.Oqu(e.lcZ(29,44,"DESTINATION.NAME")),e.xp6(3),e.Oqu(e.lcZ(32,46,"DESTINATION.STATUS")),e.xp6(2),e.Q6J("clrDgField","url"),e.xp6(1),e.Oqu(e.lcZ(35,48,"DESTINATION.URL")),e.xp6(3),e.Oqu(e.lcZ(38,50,"DESTINATION.PROVIDER")),e.xp6(2),e.Q6J("clrDgSortBy","insecure"),e.xp6(1),e.Oqu(e.lcZ(41,52,"CONFIG.VERIFY_REMOTE_CERT")),e.xp6(3),e.Oqu(e.lcZ(44,54,"DESTINATION.AUTHENTICATION")),e.xp6(2),e.Q6J("clrDgSortBy","creation_time"),e.xp6(1),e.Oqu(e.lcZ(47,56,"DESTINATION.CREATION_TIME")),e.xp6(2),e.Q6J("clrDgField","description"),e.xp6(1),e.Oqu(e.lcZ(50,58,"REPLICATION.DESCRIPTION")),e.xp6(3),e.Oqu(e.lcZ(53,60,"DESTINATION.PLACEHOLDER")),e.xp6(2),e.Q6J("ngForOf",t.targets),e.xp6(2),e.Q6J("clrDgPageSize",t.pageSize)("clrDgPage",t.page)("clrDgTotalItems",t.total),e.xp6(2),e.Q6J("clrPageSizeOptions",e.DdM(66,de)),e.xp6(1),e.Oqu(e.lcZ(60,62,"PAGINATION.PAGE_SIZE")),e.xp6(2),e.Q6J("ngIf",t.total),e.xp6(1),e.AsE(" ",t.total," ",e.lcZ(63,64,"DESTINATION.ITEMS")," "))},dependencies:[i.C9t,i.Gwl,i.fv_,i.m4W,i.dRQ,i.YYR,i.Ltv,i.F7K,i.Z4N,i.jND,i.KHL,i.PDs,i.Gcc,i.dml,i.Nh1,i.K8c,i.qvL,N.sg,N.O5,te.z,ne.z,D,g.X$,ie.Z],styles:[".option-left[_ngcontent-%COMP%]{padding-left:16px;margin-top:-6px}.option-right[_ngcontent-%COMP%]{padding-right:16px}.refresh-btn[_ngcontent-%COMP%]{cursor:pointer}.refresh-btn[_ngcontent-%COMP%]:hover{color:#007cbb}.rightPos[_ngcontent-%COMP%]{position:absolute;z-index:100;right:35px;margin-top:14px;height:24px}.endpoint-view[_ngcontent-%COMP%]{position:relative}.flex-min-width[_ngcontent-%COMP%]{min-width:180px}.margin-right-2px[_ngcontent-%COMP%]{margin-right:2px}.content-top[_ngcontent-%COMP%]{margin-top:4px}"]}),u})()}];let ce=(()=>{var s;class u{}return(s=u).\u0275fac=function(n){return new(n||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[v.m,l.Bz.forChild(pe)]}),u})()},927:(S,I,c)=>{c.d(I,{z:()=>O});var l=c(5879),v=c(8645),E=c(3620),f=c(6223),A=c(6814),Z=c(8280);const y=["inputElement"];function e(m,i){1&m&&l._UZ(0,"span",4)}let O=(()=>{var m;class i{set filterPlaceholder(p){this.placeHolder=p}constructor(p){this.cd=p,this.placeHolder="",this.filterTerms=new v.x,this.isExpanded=!1,this.filterEvt=new l.vpe,this.openFlag=new l.vpe,this.readonly=null,this.expandMode=!1,this.withDivider=!1}ngOnInit(){this.filterTerms.pipe((0,E.b)(500)).subscribe(p=>{this.filterEvt.emit(p)})}valueChange(){this.filterTerms.next(this.currentValue&&this.currentValue.trim())}inputFocus(){this.openFlag.emit(this.isExpanded)}onClick(){this.expandMode||(this.isExpanded=!this.isExpanded,this.isExpanded&&(this.cd.detectChanges(),this.inputElement.nativeElement.focus()),this.openFlag.emit(this.isExpanded))}get isShowSearchBox(){return this.expandMode||!this.expandMode&&this.isExpanded}}return(m=i).\u0275fac=function(p){return new(p||m)(l.Y36(l.sBO))},m.\u0275cmp=l.Xpm({type:m,selectors:[["hbr-filter"]],viewQuery:function(p,g){if(1&p&&l.Gf(y,5),2&p){let _;l.iGM(_=l.CRH())&&(g.inputElement=_.first)}},inputs:{readonly:"readonly",currentValue:"currentValue",filterPlaceholder:"filterPlaceholder",expandMode:"expandMode",withDivider:"withDivider",width:"width"},outputs:{filterEvt:"filterEvt",openFlag:"openFlag"},decls:5,vars:9,consts:[["shape","search","size","20",1,"search-btn",3,"click"],["type","text","autofocus","",1,"filter-input","clr-input",3,"hidden","placeholder","ngModel","keyup","focus","ngModelChange"],["inputElement",""],["class","filter-divider",4,"ngIf"],[1,"filter-divider"]],template:function(p,g){1&p&&(l.TgZ(0,"span")(1,"clr-icon",0),l.NdJ("click",function(){return g.onClick()}),l.qZA(),l.TgZ(2,"input",1,2),l.NdJ("keyup",function(){return g.valueChange()})("focus",function(){return g.inputFocus()})("ngModelChange",function(h){return g.currentValue=h}),l.qZA(),l.YNc(4,e,1,0,"span",3),l.qZA()),2&p&&(l.xp6(1),l.ekj("filter-icon",g.isShowSearchBox),l.xp6(1),l.Udp("width",g.width,"px"),l.s9C("placeholder",g.placeHolder),l.Q6J("hidden",!g.isShowSearchBox)("ngModel",g.currentValue),l.uIk("readOnly",g.readonly),l.xp6(2),l.Q6J("ngIf",g.withDivider))},dependencies:[f.Fj,f.JJ,f.On,A.O5,Z.qvL],styles:[".filter-icon[_ngcontent-%COMP%]{position:relative;right:-20px}.filter-divider[_ngcontent-%COMP%]{display:inline-block;height:16px;width:1px;padding-top:12px;padding-bottom:12px;position:relative;top:9px;margin-right:6px;margin-left:6px}.search-btn[_ngcontent-%COMP%]{cursor:pointer}.search-btn[_ngcontent-%COMP%]:hover{color:#007cbb}.filter-input[_ngcontent-%COMP%]{padding-left:24px}"]}),i})()}}]);