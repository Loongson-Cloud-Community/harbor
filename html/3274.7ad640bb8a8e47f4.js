"use strict";(self.webpackChunkharbor_portal=self.webpackChunkharbor_portal||[]).push([[3274],{6637:(q,E,a)=>{a.d(E,{b:()=>Z});var p=a(9862),A=a(3586),e=a(2181),C=a(7398),S=a(5879),O=a(9462);let Z=(()=>{var y;class I extends A.b{constructor(s,c){super(s,c)}listAllRepositoriesResponse(s){let c=this.newParams(),d=new p.WM;null!=s.sort&&(c=c.set("sort",s.sort.toString())),null!=s.q&&(c=c.set("q",s.q.toString())),null!=s.pageSize&&(c=c.set("page_size",s.pageSize.toString())),null!=s.page&&(c=c.set("page",s.page.toString())),null!=s.XRequestId&&(d=d.set("X-Request-Id",s.XRequestId.toString()));let _=new p.aW("GET",this.rootUrl+"/repositories",null,{headers:d,params:c,responseType:"json"});return this.http.request(_).pipe((0,e.h)(m=>m instanceof p.Zn),(0,C.U)(m=>m))}listAllRepositories(s){return this.listAllRepositoriesResponse(s).pipe((0,C.U)(c=>c.body))}listRepositoriesResponse(s){let c=this.newParams(),d=new p.WM;null!=s.sort&&(c=c.set("sort",s.sort.toString())),null!=s.q&&(c=c.set("q",s.q.toString())),null!=s.pageSize&&(c=c.set("page_size",s.pageSize.toString())),null!=s.page&&(c=c.set("page",s.page.toString())),null!=s.XRequestId&&(d=d.set("X-Request-Id",s.XRequestId.toString()));let _=new p.aW("GET",this.rootUrl+`/projects/${s.projectName}/repositories`,null,{headers:d,params:c,responseType:"json"});return this.http.request(_).pipe((0,e.h)(m=>m instanceof p.Zn),(0,C.U)(m=>m))}listRepositories(s){return this.listRepositoriesResponse(s).pipe((0,C.U)(c=>c.body))}getRepositoryResponse(s){let c=this.newParams(),d=new p.WM;null!=s.XRequestId&&(d=d.set("X-Request-Id",s.XRequestId.toString()));let _=new p.aW("GET",this.rootUrl+`/projects/${s.projectName}/repositories/${s.repositoryName}`,null,{headers:d,params:c,responseType:"json"});return this.http.request(_).pipe((0,e.h)(m=>m instanceof p.Zn),(0,C.U)(m=>m))}getRepository(s){return this.getRepositoryResponse(s).pipe((0,C.U)(c=>c.body))}updateRepositoryResponse(s){let c=this.newParams(),d=new p.WM,h=null;h=s.repository,null!=s.XRequestId&&(d=d.set("X-Request-Id",s.XRequestId.toString()));let _=new p.aW("PUT",this.rootUrl+`/projects/${s.projectName}/repositories/${s.repositoryName}`,h,{headers:d,params:c,responseType:"json"});return this.http.request(_).pipe((0,e.h)(m=>m instanceof p.Zn),(0,C.U)(m=>m))}updateRepository(s){return this.updateRepositoryResponse(s).pipe((0,C.U)(c=>c.body))}deleteRepositoryResponse(s){let c=this.newParams(),d=new p.WM;null!=s.XRequestId&&(d=d.set("X-Request-Id",s.XRequestId.toString()));let _=new p.aW("DELETE",this.rootUrl+`/projects/${s.projectName}/repositories/${s.repositoryName}`,null,{headers:d,params:c,responseType:"json"});return this.http.request(_).pipe((0,e.h)(m=>m instanceof p.Zn),(0,C.U)(m=>m))}deleteRepository(s){return this.deleteRepositoryResponse(s).pipe((0,C.U)(c=>c.body))}}return(y=I).listAllRepositoriesPath="/repositories",y.listRepositoriesPath="/projects/{project_name}/repositories",y.getRepositoryPath="/projects/{project_name}/repositories/{repository_name}",y.updateRepositoryPath="/projects/{project_name}/repositories/{repository_name}",y.deleteRepositoryPath="/projects/{project_name}/repositories/{repository_name}",y.\u0275fac=function(s){return new(s||y)(S.LFG(O.p),S.LFG(p.eN))},y.\u0275prov=S.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),I})()},3274:(q,E,a)=>{a.r(E),a.d(E,{RepositoryModule:()=>ze});var p=a(2787),A=a(4554),e=a(5879),C=a(9315),S=a(2096),O=a(3620),Z=a(3997),y=a(4664),I=a(4716),T=a(7398),s=a(6306),c=a(2141),d=a(927),h=a(1691),_=a(27),m=a(6126),ee=a(9862),F=a(3924),te=a(6266),J=a(3555),ie=a(7655),b=a(9515),oe=a(6637),ne=a(7546),re=a(1575),u=a(8280),x=a(6814),se=a(7625),le=a(208),ae=a(1183);const pe=["tagCopyImage"],ce=["pushCopyImage"],de=["tagCopyChart"],he=["pushCopyChart"],ge=["pushCopyCnab"],ue=["copyAlert"];function me(r,g){1&r&&(e.TgZ(0,"clr-tooltip-content",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.Q6J("clrPosition","top-right")("clrSize","md"),e.xp6(1),e.hij(" ",e.lcZ(2,3,"PUSH_IMAGE.TOOLTIP")," "))}function _e(r,g){if(1&r){const n=e.EpF();e.TgZ(0,"clr-dropdown-menu",3)(1,"div",4)(2,"section")(3,"span")(4,"h4",5),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"span")(8,"clr-tooltip"),e._UZ(9,"clr-icon",6),e.YNc(10,me,3,5,"clr-tooltip-content",7),e.qZA()(),e.TgZ(11,"div"),e._uU(12," - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - "),e.qZA()(),e.TgZ(13,"section"),e._UZ(14,"inline-alert",null,8),e.qZA(),e.TgZ(16,"section")(17,"h5",9),e._uU(18),e.ALo(19,"translate"),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"article",10)(22,"hbr-copy-input",11,12),e.NdJ("onCopyError",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.onCpError(i))}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"article",10)(26,"hbr-copy-input",11,13),e.NdJ("onCopyError",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.onCpError(i))}),e.ALo(28,"translate"),e.qZA()()(),e.TgZ(29,"section")(30,"h5",9),e._uU(31),e.ALo(32,"translate"),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"article",10)(35,"hbr-copy-input",11),e.NdJ("onCopyError",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.onCpError(i))}),e.ALo(36,"translate"),e.qZA()()(),e.TgZ(37,"section")(38,"h5"),e._uU(39),e.ALo(40,"translate"),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"article",10)(43,"hbr-copy-input",11,14),e.NdJ("onCopyError",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.onCpError(i))}),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"article",10)(47,"hbr-copy-input",11,15),e.NdJ("onCopyError",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.onCpError(i))}),e.ALo(49,"translate"),e.qZA()()(),e.TgZ(50,"section")(51,"h5"),e._uU(52),e.ALo(53,"translate"),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"article",10)(56,"hbr-copy-input",11,16),e.NdJ("onCopyError",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.onCpError(i))}),e.ALo(58,"translate"),e.qZA()()()()()}if(2&r){const n=e.oxw();e.Q6J("clrPosition","bottom-right"),e.xp6(5),e.hij(" ",e.lcZ(6,22,"PUSH_IMAGE.TITLE")," "),e.xp6(13),e.AsE(" ",e.lcZ(19,24,"PUSH_IMAGE.DOCKER")," ",e.lcZ(20,26,"PUSH_IMAGE.TITLE")," "),e.xp6(4),e.s9C("headerTitle",e.lcZ(24,28,"PUSH_IMAGE.TAG_COMMAND")),e.s9C("defaultValue",n.tagCommandImage),e.xp6(4),e.s9C("headerTitle",e.lcZ(28,30,"PUSH_IMAGE.PUSH_COMMAND")),e.s9C("defaultValue",n.pushCommandImage),e.xp6(5),e.AsE(" ",e.lcZ(32,32,"PUSH_IMAGE.PODMAN")," ",e.lcZ(33,34,"PUSH_IMAGE.TITLE")," "),e.xp6(4),e.s9C("headerTitle",e.lcZ(36,36,"PUSH_IMAGE.PUSH_COMMAND")),e.s9C("defaultValue",n.podmanPushCommand),e.xp6(4),e.AsE(" ",e.lcZ(40,38,"PUSH_IMAGE.HELM")," ",e.lcZ(41,40,"PUSH_IMAGE.TITLE")," "),e.xp6(4),e.s9C("headerTitle",e.lcZ(45,42,"PUSH_IMAGE.TAG_COMMAND_CHART")),e.s9C("defaultValue",n.tagCommandChart),e.xp6(4),e.s9C("headerTitle",e.lcZ(49,44,"PUSH_IMAGE.PUSH_COMMAND_CHART")),e.s9C("defaultValue",n.pushCommandChart),e.xp6(5),e.AsE(" ",e.lcZ(53,46,"PUSH_IMAGE.CNAB")," ",e.lcZ(54,48,"PUSH_IMAGE.TITLE")," "),e.xp6(4),e.s9C("headerTitle",e.lcZ(58,50,"PUSH_IMAGE.PUSH_COMMAND_CNAB")),e.s9C("defaultValue",n.pushCommandCnab)}}let fe=(()=>{var r;class g{constructor(){this.registryUrl="unknown",this.projectName="unknown"}get tagCommandImage(){return`docker tag SOURCE_IMAGE[:TAG] ${this.registryUrl}/${this.projectName}/REPOSITORY[:TAG]`}get pushCommandImage(){return`docker push ${this.registryUrl}/${this.projectName}/REPOSITORY[:TAG]`}get podmanPushCommand(){return`podman push IMAGE_ID ${this.registryUrl}/${this.projectName}/REPOSITORY[:TAG]`}get tagCommandChart(){return"helm package CHART_PATH"}get pushCommandChart(){return`helm push CHART_PACKAGE oci://${this.registryUrl}/${this.projectName}`}get pushCommandCnab(){return`cnab-to-oci push CNAB_PATH --target ${this.registryUrl}/${this.projectName}/REPOSITORY[:TAG] --auto-update-bundle`}onclick(){this.tagCopyImageInput&&this.tagCopyImageInput.reset(),this.pushCopImageyInput&&this.pushCopImageyInput.reset(),this.tagCopyChartInput&&this.tagCopyChartInput.reset(),this.pushCopyChartInput&&this.pushCopyChartInput.reset(),this.pushCopCnabyInput&&this.pushCopCnabyInput.reset(),this.copyAlert&&this.copyAlert.close()}onCpError(t){this.copyAlert&&this.copyAlert.showInlineError("PUSH_IMAGE.COPY_ERROR")}}return(r=g).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["hbr-push-image-button"]],viewQuery:function(t,i){if(1&t&&(e.Gf(pe,5),e.Gf(ce,5),e.Gf(de,5),e.Gf(he,5),e.Gf(ge,5),e.Gf(ue,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.tagCopyImageInput=o.first),e.iGM(o=e.CRH())&&(i.pushCopImageyInput=o.first),e.iGM(o=e.CRH())&&(i.tagCopyChartInput=o.first),e.iGM(o=e.CRH())&&(i.pushCopyChartInput=o.first),e.iGM(o=e.CRH())&&(i.pushCopCnabyInput=o.first),e.iGM(o=e.CRH())&&(i.copyAlert=o.first)}},inputs:{registryUrl:"registryUrl",projectName:"projectName"},features:[e._Bn([])],decls:8,vars:5,consts:[["clrDropdownToggle","",1,"btn","btn-link","btn-font",3,"click"],["shape","caret down"],["class","dropdown-width",3,"clrPosition",4,"clrIfOpen"],[1,"dropdown-width",3,"clrPosition"],[1,"commands-container"],[1,"h5-override"],["clrTooltipTrigger","","shape","info-circle","size","24",1,"info-tips-icon"],[3,"clrPosition","clrSize",4,"clrIfOpen"],["copyAlert",""],[1,"mt-0"],[1,"commands-section"],["inputSize","65",3,"headerTitle","defaultValue","onCopyError"],["tagCopyImage",""],["pushCopyImage",""],["tagCopyChart",""],["pushCopyChart",""],["pushCopyCnab",""],[3,"clrPosition","clrSize"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"clr-dropdown")(2,"button",0),e.NdJ("click",function(){return i.onclick()}),e._uU(3),e.ALo(4,"uppercase"),e.ALo(5,"translate"),e._UZ(6,"clr-icon",1),e.qZA(),e.YNc(7,_e,59,52,"clr-dropdown-menu",2),e.qZA()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,e.lcZ(5,3,"PUSH_IMAGE.TITLE"))," "))},dependencies:[u.qvL,u.nqY,u.f_W,u.zwp,u.ZUS,u.Jmj,u.bMv,u.zDF,le.l,ae.s,b.X$,x.gd],styles:[".commands-container[_ngcontent-%COMP%]{min-width:360px;max-width:720px;padding-left:24px}.h5-override[_ngcontent-%COMP%]{display:inline-block!important;margin-top:0!important;margin-bottom:12px}.commands-section[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:24px}.info-tips-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.command-title[_ngcontent-%COMP%]{font-size:14px}.command-input[_ngcontent-%COMP%]{font-size:14px;font-weight:500;border:0}[_nghost-%COMP%]  .dropdown-menu{min-width:360px;max-width:720px}.btn-font[_ngcontent-%COMP%]{font-size:14px!important}.hide[_ngcontent-%COMP%]{display:none}.inputTarget[_ngcontent-%COMP%]{width:1px;min-width:0;padding:0;opacity:.01}.dropdown-width[_ngcontent-%COMP%]{min-width:600px}"]}),g})();const Ce=["itemsHolder"],ve=["cardItem"];function ye(r,g){}const Pe=function(r){return{item:r}};function Te(r,g){if(1&r){const n=e.EpF();e.TgZ(0,"span",6,7),e.NdJ("mouseenter",function(){const o=e.CHM(n).index,l=e.oxw();return e.KtG(l.onCardEnter(o))})("mouseleave",function(){const o=e.CHM(n).index,l=e.oxw();return e.KtG(l.onCardLeave(o))}),e.YNc(2,ye,0,0,"ng-template",8),e.qZA()}if(2&r){const n=g.$implicit,t=g.index,i=e.oxw();e.Q6J("ngStyle",i.cardStyles[t]),e.xp6(2),e.Q6J("ngTemplateOutlet",i.gridItemTmpl)("ngTemplateOutletContext",e.VKq(3,Pe,n))}}function xe(r,g){1&r&&(e.TgZ(0,"span",9),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"REPOSITORY.NO_ITEMS")," "))}const we=function(r,g){return{"central-block-loading":r,"central-block-loading-more":g}};function Re(r,g){if(1&r&&(e.TgZ(0,"div",10),e._UZ(1,"span",11)(2,"div",12),e.qZA()),2&r){const n=e.oxw();e.Q6J("ngClass",e.WLB(1,we,n.isFirstPage,!n.isFirstPage))}}let Ie=(()=>{var r;class g{set items(t){let i=t.map((o,l)=>l<this.cardStyles.length?this.cardStyles[l]:{opacity:"0",overflow:"hidden"});this.cardStyles=i,this._items=t}constructor(t){this.translate=t,this.expectScrollPercent=70,this.loadNextPageEvent=new e.vpe,this._items=[],this.cardStyles=[],this.itemsHolderStyle={},this.loadedPages=0,this.hidePartialRows=!1,this.CurrentScrollPosition={sH:0,sT:0,cH:0},this.preScrollPosition=null}ngAfterViewInit(){this.cards.changes.subscribe(()=>{this.throttleLayout()}),this.throttleLayout()}get items(){return this._items}onScroll(t){this.preScrollPosition=this.CurrentScrollPosition,this.CurrentScrollPosition={sH:t.target.scrollHeight,sT:t.target.scrollTop,cH:t.target.clientHeight},!this.loading&&this.isScrollDown()&&this.isScrollExpectPercent()&&this.currentPage*this.pageSize<this.totalCount&&this.loadNextPageEvent.emit()}isScrollDown(){return this.preScrollPosition.sT<this.CurrentScrollPosition.sT}isScrollExpectPercent(){return(this.CurrentScrollPosition.sT+this.CurrentScrollPosition.cH)/this.CurrentScrollPosition.sH>this.expectScrollPercent/100}onResize(t){this.throttleLayout()}throttleLayout(){clearTimeout(this.layoutTimeout),this.layoutTimeout=setTimeout(()=>{this.layout.call(this)},40)}get isFirstPage(){return this.currentPage<=1}layout(){let t=this.itemsHolder.nativeElement,i=t.offsetWidth,o=t.querySelectorAll(".card-item"),l=o.length;if(0===l)return void(t.height=0);let f=[];for(let v=0;v<l;v++)f[v]=o[v].offsetHeight;let w=Math.max.apply(null,f),P=window.getComputedStyle(o[0]),L=P.maxWidth,G=parseInt(P.minWidth,10),D=parseInt(L,10),z=parseInt(P.marginTop,10)+parseInt(P.marginBottom,10),U=parseInt(P.marginLeft,10)+parseInt(P.marginRight,10),V=Math.floor(i/(G+U)),R=Math.max(Math.min(V,l),1),Ve=Math.floor(l/R),N=Math.min(Math.floor(i/R)-U,D),k=1===R||V>l?U:(i-U-R*N)/(R-1);this.withAdmiral||(k=U,N=G);let H=l;this.hidePartialRows&&this.totalItemsCount&&l!==this.totalItemsCount&&(H=Ve*R);let j=0;for(let v=0;v<H;v++){let Q=o[v],B=window.getComputedStyle(Q),W=v%R*(N+k),K=Math.floor(j/R)*(w+z),$=B.transform;if($&&"none"!==$?(this.cardStyles[v]={transform:"translate("+W+"px,"+K+"px) scale(1)",width:N+"px",transition:null,overflow:"hidden"},this.throttleLayout()):(this.cardStyles[v]={transform:"translate("+W+"px,"+K+"px) scale(0)",width:N+"px",transition:"none",overflow:"hidden"},this.throttleLayout()),!Q.classList.contains("context-selected")){let X=f[v];"none"===B.display&&0!==X&&(this.cardStyles[v].display=null),0!==X&&j++}}for(let v=H;v<l;v++)this.cardStyles[v]={display:"none"};this.itemsHolderStyle={height:Math.ceil(j/R)*(w+z)+"px"}}onCardEnter(t){this.cardStyles[t].overflow="visible"}onCardLeave(t){this.cardStyles[t].overflow="hidden"}trackByFn(t,i){return t}}return(r=g).\u0275fac=function(t){return new(t||r)(e.Y36(b.sK))},r.\u0275cmp=e.Xpm({type:r,selectors:[["hbr-gridview"]],contentQueries:function(t,i,o){if(1&t&&e.Suo(o,e.Rgc,5),2&t){let l;e.iGM(l=e.CRH())&&(i.gridItemTmpl=l.first)}},viewQuery:function(t,i){if(1&t&&(e.Gf(Ce,5),e.Gf(ve,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.itemsHolder=o.first),e.iGM(o=e.CRH())&&(i.cards=o)}},hostBindings:function(t,i){1&t&&e.NdJ("scroll",function(l){return i.onScroll(l)})("resize",function(l){return i.onResize(l)},!1,e.Jf7)},inputs:{loading:"loading",totalCount:"totalCount",currentPage:"currentPage",pageSize:"pageSize",expectScrollPercent:"expectScrollPercent",withAdmiral:"withAdmiral",items:"items"},outputs:{loadNextPageEvent:"loadNextPageEvent"},decls:6,vars:5,consts:[[1,"grid-content",3,"scroll"],[1,"items",3,"ngStyle"],["itemsHolder",""],["class","card-item",3,"ngStyle","mouseenter","mouseleave",4,"ngFor","ngForOf","ngForTrackBy"],["class","content-empty",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"card-item",3,"ngStyle","mouseenter","mouseleave"],["cardItem",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"content-empty"],[3,"ngClass"],[1,"vertical-helper"],[1,"spinner"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("scroll",function(l){return i.onScroll(l)}),e.TgZ(1,"div",1,2),e.YNc(3,Te,3,5,"span",3),e.YNc(4,xe,3,3,"span",4),e.qZA(),e.YNc(5,Re,3,4,"div",5),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngStyle",i.itemsHolderStyle),e.xp6(2),e.Q6J("ngForOf",i.items)("ngForTrackBy",i.trackByFn),e.xp6(1),e.Q6J("ngIf",0===i.items.length&&!i.loading),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[u.q0d,x.mk,x.sg,x.O5,x.tP,x.PC,b.X$],styles:[".grid-content{position:relative;inset:66px 0 0;overflow:auto;max-height:65vh}.card-item{display:block;max-width:400px;min-width:300px;position:absolute;margin-right:40px;transition:width .4s,transform .4s}.content-empty{text-align:center;display:block;margin-top:100px}.central-block-loading{position:absolute;z-index:10;inset:0;text-align:center}.central-block-loading-more{inset:0;text-align:center}.central-block-loading-more .spinner{width:1rem;height:1rem}.vertical-helper{display:inline-block;height:100%;vertical-align:middle}.spinner{width:100px;height:100px;vertical-align:middle}\n"],encapsulation:2}),g})();var Se=a(4410);const Ee=["confirmationDialog"],Ae=["gridView"];function Oe(r,g){if(1&r&&(e.TgZ(0,"a",21,22),e._UZ(2,"clr-icon",23),e._uU(3),e.ALo(4,"uppercase"),e.ALo(5,"translate"),e.qZA()),2&r){const n=e.oxw();e.Q6J("href",n.downloadLink,e.LSH),e.xp6(3),e.hij(" ",e.lcZ(4,2,e.lcZ(5,4,"CONFIG.REGISTRY_CERTIFICATE"))," ")}}function Ze(r,g){if(1&r&&e._UZ(0,"hbr-push-image-button",24),2&r){const n=e.oxw();e.Q6J("registryUrl",n.registryUrl)("projectName",n.projectName)}}function be(r,g){if(1&r&&(e.TgZ(0,"span",39),e._UZ(1,"img",40),e.qZA()),2&r){const n=e.oxw().$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("src",t.getImgLink(n),e.LSH)}}function Me(r,g){if(1&r&&(e.TgZ(0,"clr-dg-row",36)(1,"clr-dg-cell")(2,"a",37),e.YNc(3,be,2,1,"span",38),e._uU(4),e.qZA()(),e.TgZ(5,"clr-dg-cell"),e._uU(6),e.qZA(),e.TgZ(7,"clr-dg-cell"),e._uU(8),e.qZA(),e.TgZ(9,"clr-dg-cell"),e._uU(10),e.ALo(11,"harborDatetime"),e.qZA()()),2&r){const n=g.$implicit,t=e.oxw(2);e.Q6J("clrDgItem",n),e.xp6(2),e.Q6J("routerLink",t.getLink(n)),e.xp6(1),e.Q6J("ngIf",t.withAdmiral),e.xp6(1),e.Oqu(n.name),e.xp6(2),e.Oqu(n.artifact_count),e.xp6(2),e.Oqu(n.pull_count),e.xp6(2),e.Oqu(e.xi3(11,7,n.update_time,"short"))}}function Ue(r,g){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){e.oxw();const n=e.MAs(25);e.xp6(1),e.lnq("",n.firstItem+1," - ",n.lastItem+1," ",e.lcZ(2,3,"REPOSITORY.OF"),"")}}const Ne=function(){return[15,25,50]};function Ge(r,g){if(1&r){const n=e.EpF();e.TgZ(0,"div",25)(1,"clr-datagrid",26),e.NdJ("clrDgRefresh",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.clrLoad(i))})("clrDgSelectedChange",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.selectedRow=i)}),e.TgZ(2,"clr-dg-action-bar")(3,"button",27),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.deleteRepos(i.selectedRow))}),e._UZ(4,"clr-icon",28),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"clr-dg-column",29),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"clr-dg-column"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"clr-dg-column",30),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"clr-dg-column",30),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"clr-dg-placeholder"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.YNc(22,Me,12,10,"clr-dg-row",31),e.TgZ(23,"clr-dg-footer")(24,"clr-dg-pagination",32,33),e.NdJ("clrDgPageChange",function(i){e.CHM(n);const o=e.oxw();return e.KtG(o.currentPage=i)}),e.TgZ(26,"clr-dg-page-size",34),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.YNc(29,Ue,3,5,"span",35),e._uU(30),e.ALo(31,"translate"),e.qZA()()()()}if(2&r){const n=e.oxw();e.xp6(1),e.Q6J("clrDgLoading",n.loading)("clrDgSelected",n.selectedRow),e.xp6(2),e.Q6J("disabled",!n.selectedRow.length||!n.hasDeleteRepositoryPermission),e.xp6(2),e.hij("\xa0",e.lcZ(6,21,"REPOSITORY.DELETE")," "),e.xp6(2),e.Q6J("clrDgField","name"),e.xp6(1),e.Oqu(e.lcZ(9,23,"REPOSITORY.NAME")),e.xp6(3),e.Oqu(e.lcZ(12,25,"REPOSITORY.ARTIFACTS_COUNT")),e.xp6(2),e.Q6J("clrDgSortBy","pull_count"),e.xp6(1),e.Oqu(e.lcZ(15,27,"REPOSITORY.PULL_COUNT")),e.xp6(2),e.Q6J("clrDgSortBy","update_time"),e.xp6(1),e.Oqu(e.lcZ(18,29,"REPOSITORY.LAST_MODIFIED")),e.xp6(3),e.Oqu(e.lcZ(21,31,"REPOSITORY.PLACEHOLDER")),e.xp6(2),e.Q6J("ngForOf",n.repositories),e.xp6(2),e.Q6J("clrDgPage",n.currentPage)("clrDgPageSize",n.pageSize)("clrDgTotalItems",n.totalCount),e.xp6(2),e.Q6J("clrPageSizeOptions",e.DdM(37,Ne)),e.xp6(1),e.Oqu(e.lcZ(28,33,"PAGINATION.PAGE_SIZE")),e.xp6(2),e.Q6J("ngIf",n.totalCount),e.xp6(1),e.AsE(" ",n.totalCount," ",e.lcZ(31,35,"REPOSITORY.ITEMS")," ")}}function Le(r,g){if(1&r&&e._UZ(0,"img",40),2&r){const n=e.oxw().item,t=e.oxw(2);e.Q6J("src",t.getImgLink(n),e.LSH)}}function De(r,g){if(1&r){const n=e.EpF();e.TgZ(0,"button",60),e.NdJ("click",function(i){e.CHM(n);const o=e.oxw(2).item;return e.oxw(2).itemAddInfoEvent(i,o),i.stopPropagation(),e.KtG(i.preventDefault())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const n=e.oxw(4);e.Q6J("disabled",!n.hasProjectAdminRole),e.xp6(1),e.hij(" ",e.lcZ(2,2,"REPOSITORY.ADDITIONAL_INFO")," ")}}function He(r,g){if(1&r){const n=e.EpF();e.TgZ(0,"clr-dropdown-menu",58),e.YNc(1,De,3,4,"button",59),e.TgZ(2,"button",60),e.NdJ("click",function(i){e.CHM(n);const o=e.oxw().item;return e.oxw(2).deleteItemEvent(i,o),i.stopPropagation(),e.KtG(i.preventDefault())}),e._uU(3),e.ALo(4,"translate"),e.qZA()()}if(2&r){const n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.withAdmiral),e.xp6(1),e.Q6J("disabled",!n.hasDeleteRepositoryPermission),e.xp6(1),e.hij(" ",e.lcZ(4,3,"REPOSITORY.DELETE")," ")}}const je=function(r){return{"card-media-block":!0,wrap:r}};function qe(r,g){if(1&r&&(e.TgZ(0,"a",43)(1,"div",44)(2,"div",45),e.YNc(3,Le,1,1,"img",46),e.TgZ(4,"div",47)(5,"span",48),e._uU(6),e.qZA(),e.TgZ(7,"p",49),e._uU(8),e.qZA()()()(),e.TgZ(9,"div",50)(10,"div",51),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",52)(14,"label"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"div",52)(20,"label"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"div"),e._uU(24),e.qZA()(),e.TgZ(25,"div",52)(26,"label"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"div"),e._uU(30),e.ALo(31,"harborDatetime"),e.qZA()()(),e.TgZ(32,"div",53)(33,"clr-dropdown",54)(34,"button",55),e.NdJ("click",function(t){return t.stopPropagation(),t.preventDefault()}),e._uU(35),e.ALo(36,"translate"),e._UZ(37,"clr-icon",56),e.qZA(),e.YNc(38,He,5,5,"clr-dropdown-menu",57),e.qZA()()()),2&r){const n=g.item,t=e.oxw(2);e.Q6J("routerLink",t.getLink(n)),e.xp6(2),e.Q6J("ngClass",e.VKq(29,je,!t.withAdmiral)),e.xp6(1),e.Q6J("ngIf",t.withAdmiral),e.xp6(2),e.Q6J("title",n.name),e.xp6(1),e.Oqu(n.name),e.xp6(2),e.Oqu(t.registryUrl),e.xp6(3),e.hij(" ",n.description||e.lcZ(12,16,"REPOSITORY.NO_INFO")," "),e.xp6(4),e.Oqu(e.lcZ(16,18,"REPOSITORY.ARTIFACTS_COUNT")),e.xp6(3),e.Oqu(n.artifact_count),e.xp6(3),e.Oqu(e.lcZ(22,20,"REPOSITORY.PULL_COUNT")),e.xp6(3),e.Oqu(n.pull_count),e.xp6(3),e.Oqu(e.lcZ(28,22,"REPOSITORY.LAST_MODIFIED")),e.xp6(3),e.hij(" ",e.xi3(31,24,n.update_time,"short")," "),e.xp6(3),e.Q6J("clrCloseMenuOnItemClick",!1),e.xp6(1),e.Q6J("disabled",!t.hasDeleteRepositoryPermission),e.xp6(1),e.hij(" ",e.lcZ(36,27,"REPOSITORY.ACTION")," ")}}function Fe(r,g){if(1&r){const n=e.EpF();e.TgZ(0,"hbr-gridview",41,42),e.NdJ("loadNextPageEvent",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.loadNextPage())}),e.YNc(2,qe,39,31,"ng-template"),e.qZA()}if(2&r){const n=e.oxw();e.Q6J("items",n.repositories)("loading",n.loading)("pageSize",n.pageSize)("currentPage",n.currentPage)("totalCount",n.totalCount)("expectScrollPercent",90)("withAdmiral",n.withAdmiral)}}function Je(r,g){1&r&&(e.TgZ(0,"div",61),e._UZ(1,"div",62),e.qZA())}const Y=function(r){return{"is-highlight":r}},Ye=[{path:"",component:(()=>{var r;class g{constructor(t,i,o,l,f,w,P,M,L,G,D){this.errorHandlerService=t,this.translateService=i,this.newRepoService=o,this.systemInfoService=l,this.operationService=f,this.userPermissionService=w,this.route=P,this.session=M,this.router=L,this.event=G,this.cd=D,this.isFirstLoadingGridView=!1,this.signedCon={},this.mode="standalone",this.repoProvisionEvent=new e.vpe,this.addInfoEvent=new e.vpe,this.repositories=[],this.repositoriesCopy=[],this.selectedRow=[],this.loading=!0,this.cardHover=!1,this.listHover=!1,this.pageSize=(0,h.tb)(h.V2.REPOSITORY_GRIDVIEW_COMPONENT),this.currentPage=1,this.totalCount=0,this.isProxyCacheProject=!1,localStorage&&(this.isCardView=localStorage.getItem(_.O9)===_.sN),this.downloadLink=h.S$+"/systeminfo/getcert"}get registryUrl(){return this.systemInfo?this.systemInfo.registry_url:""}get withAdmiral(){return"admiral"===this.mode}get canDownloadCert(){return this.systemInfo&&this.systemInfo.has_ca_root}getLink(t){return["/harbor/projects",t.project_id,"repositories",t.name.substr(this.projectName.length+1)]}ngOnChanges(t){t.projectId&&t.projectId.currentValue&&this.refresh()}ngOnInit(){this.projectId=this.route.snapshot.parent.parent.params.id;let t=this.route.snapshot.parent.parent.data;if(t){let i=t.projectResolver;this.hasProjectAdminRole=i.has_project_admin_role,this.projectName=i.name,i.registry_id&&(this.isProxyCacheProject=!0)}this.hasSignedIn=null!==this.session.getCurrentUser(),this.getSystemInfo(),this.isCardView&&this.doSearchRepoNames("",!0),this.lastFilteredRepoName="",this.getHelmChartVersionPermission(this.projectId),this.searchSub||(this.searchSub=this.filterComponent.filterTerms.pipe((0,O.b)(500),(0,Z.x)(),(0,y.w)(i=>{this.lastFilteredRepoName=i,this.currentPage=1;let o={projectName:this.projectName,page:this.currentPage,pageSize:this.pageSize};return this.lastFilteredRepoName&&(o.q=encodeURIComponent(`name=~${this.lastFilteredRepoName}`)),this.loading=!0,this.newRepoService.listRepositoriesResponse(o).pipe((0,I.x)(()=>this.loading=!1))})).subscribe(i=>{this.totalCount=+i.headers.get("x-total-count"),this.repositories=i.body},i=>{this.errorHandlerService.error(i)}))}getSystemInfo(){this.systemInfoService.getSystemInfo().subscribe(t=>this.systemInfo=t,t=>this.errorHandlerService.error(t))}ngOnDestroy(){this.searchSub&&(this.searchSub.unsubscribe(),this.searchSub=null)}confirmDeletion(t){if(t&&8===t.source&&1===t.state){let i=t.data;if(i&&i.length){let o=[];i.forEach(l=>{o.push(this.delOperate(l))}),(0,C.D)(o).subscribe(l=>{let f;l&&l.length&&l.forEach(P=>{P instanceof ee.UA&&(f=(0,F.Po)(P))}),f?this.errorHandlerService.error(f):this.translateService.get("BATCH.DELETED_SUCCESS").subscribe(P=>{this.errorHandlerService.info(P)}),this.selectedRow=[];let w=this.getStateAfterDeletion();w?this.clrLoad(w):this.refresh()})}}}delOperate(t){let i=new m.gB;return i.name="OPERATION.DELETE_REPO",i.data.id=t.id,i.state=m.yb.progressing,t.name=t.name.substr(this.projectName.length+1),i.data.name=t.name,this.operationService.publishInfo(i),this.newRepoService.deleteRepository({repositoryName:(0,h.gI)(t.name),projectName:this.projectName}).pipe((0,T.U)(o=>{this.translateService.get("BATCH.DELETED_SUCCESS").subscribe(l=>{(0,m.hm)(i,m.yb.success)})}),(0,s.K)(o=>{const l=(0,F.Po)(o);return this.translateService.get(l).subscribe(f=>{(0,m.hm)(i,m.yb.failure,f)}),(0,S.of)(o)}))}doSearchRepoNames(t,i){this.lastFilteredRepoName=t,this.currentPage=1;let o=this.currentState;(!o||!o.page)&&(o={page:{}}),o.page.size=this.pageSize,o.page.from=0,o.page.to=this.pageSize-1,this.clrLoad(o,i)}deleteRepos(t){if(t&&t.length){let i=[];t.forEach(o=>{i.push(o.name)}),this.confirmationDialogSet("REPOSITORY.DELETION_TITLE_REPO","",i.join(","),t,"REPOSITORY.DELETION_SUMMARY_REPO",2)}}confirmationDialogSet(t,i,o,l,f,w){this.translateService.get(f,{repoName:o,signedImages:i}).subscribe(P=>{let M=new te.c(t,f=P,o,l,8,w);this.confirmationDialog.open(M)})}itemAddInfoEvent(t,i){t.stopPropagation();let o=(0,h.d9)(i);o.name=this.registryUrl+":443/"+o.name,this.addInfoEvent.emit(o)}deleteItemEvent(t,i){t.stopPropagation(),this.deleteRepos([i])}refresh(){this.doSearchRepoNames(""),this.event.publish(J.n.REFRESH_PROJECT_INFO)}loadNextPage(){this.currentPage=this.currentPage+1;let t={projectName:this.projectName,page:this.currentPage,pageSize:this.pageSize};this.lastFilteredRepoName&&(t.q=encodeURIComponent(`name=~${this.lastFilteredRepoName}`)),this.loading=!0,this.newRepoService.listRepositoriesResponse(t).pipe((0,I.x)(()=>this.loading=!1)).subscribe(i=>{this.totalCount=+i.headers.get("x-total-count"),this.repositoriesCopy=i.body,this.repositories=this.repositories.concat(this.repositoriesCopy)},i=>{this.errorHandlerService.error(i)})}clrLoad(t,i){if(!t||!t.page)return;this.pageSize=t.page.size,(0,h.Pe)(h.V2.REPOSITORY_GRIDVIEW_COMPONENT,this.pageSize),this.selectedRow=[],this.currentState=t;let o=(0,h.wy)(t);o<=0&&(o=1);let l={projectName:this.projectName,page:o,pageSize:this.pageSize};this.lastFilteredRepoName&&(l.q=encodeURIComponent(`name=~${this.lastFilteredRepoName}`)),t.filters&&t.filters.length&&t.filters.forEach(f=>{l[f.property]=f.value}),t.sort&&t.sort.by&&(l.sort=(0,h.td)(t)),this.loading=!0,i&&(this.isFirstLoadingGridView=!0),this.newRepoService.listRepositoriesResponse(l).pipe((0,I.x)(()=>{this.loading=!1,this.isFirstLoadingGridView=!1})).subscribe(f=>{this.totalCount=+f.headers.get("x-total-count"),this.repositories=f.body,this.repositories=(0,h.Dd)(this.repositories,t),this.signedCon={}},f=>{this.errorHandlerService.error(f)})}getStateAfterDeletion(){let t=this.totalCount-1;if(t<=0)return null;let i=Math.ceil(t/this.pageSize),o=this.currentPage;this.currentPage>i&&(o=i);let l=this.currentState;return l||(l={page:{}}),l.page.size=this.pageSize,l.page.from=(o-1)*this.pageSize,l.page.to=o*this.pageSize-1,l}getImgLink(t){return"/container-image-icons?container-image="+t.name}showCard(t){this.isCardView!==t&&(this.isCardView=t,this.cd.detectChanges(),localStorage&&(this.isCardView?localStorage.setItem(_.O9,_.sN):localStorage.setItem(_.O9,_.rz)),this.isCardView&&this.refresh())}mouseEnter(t){"card"===t?this.cardHover=!0:this.listHover=!0}mouseLeave(t){"card"===t?this.cardHover=!1:this.listHover=!1}isHovering(t){return"card"===t?this.cardHover:this.listHover}getHelmChartVersionPermission(t){let i=this.userPermissionService.getPermission(this.projectId,c._W.REPOSITORY.KEY,c._W.REPOSITORY.VALUE.CREATE),o=this.userPermissionService.getPermission(this.projectId,c._W.REPOSITORY.KEY,c._W.REPOSITORY.VALUE.DELETE);(0,C.D)(i,o).subscribe(l=>{this.hasCreateRepositoryPermission=l[0],this.hasDeleteRepositoryPermission=l[1]},l=>this.errorHandlerService.error(l))}}return(r=g).\u0275fac=function(t){return new(t||r)(e.Y36(ie.q),e.Y36(b.sK),e.Y36(oe.b),e.Y36(c.Ob),e.Y36(ne.f9),e.Y36(c.Hx),e.Y36(p.gz),e.Y36(re.m),e.Y36(p.F0),e.Y36(J.P),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["hbr-repository-gridview"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Ee,5),e.Gf(Ae,5),e.Gf(d.z,7)),2&t){let o;e.iGM(o=e.CRH())&&(i.confirmationDialog=o.first),e.iGM(o=e.CRH())&&(i.gridView=o.first),e.iGM(o=e.CRH())&&(i.filterComponent=o.first)}},inputs:{urlPrefix:"urlPrefix"},outputs:{repoProvisionEvent:"repoProvisionEvent",addInfoEvent:"addInfoEvent"},features:[e.TTD],decls:22,vars:16,consts:[[1,"repository-box"],[1,"row","position-relative"],[1,"toolbar"],[1,"row","flex-items-xs-right","option-right","rightPos"],[1,"flex-xs-middle"],["rel","noopener noreferrer","target","_blank","class","btn btn-link btn-font download-link",3,"href",4,"ngIf"],["class","push-image-button",3,"registryUrl","projectName",4,"ngIf"],[3,"withDivider","filterPlaceholder","currentValue"],[1,"card-btn",3,"click","mouseenter","mouseleave"],["shape","view-cards",3,"ngClass"],[1,"list-btn",3,"click","mouseenter","mouseleave"],["shape","view-list",3,"ngClass"],[1,"filter-divider"],[1,"refresh-btn",3,"click"],["shape","refresh"],[1,"row"],["class","col-lg-12 col-md-12 col-sm-12 col-xs-12",4,"ngIf"],["class","position-relative",3,"items","loading","pageSize","currentPage","totalCount","expectScrollPercent","withAdmiral","loadNextPageEvent",4,"ngIf"],["class","first-loading",4,"ngIf"],[3,"confirmAction"],["confirmationDialog",""],["rel","noopener noreferrer","target","_blank",1,"btn","btn-link","btn-font","download-link",3,"href"],["certDownloadLink",""],["shape","download"],[1,"push-image-button",3,"registryUrl","projectName"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[3,"clrDgLoading","clrDgSelected","clrDgRefresh","clrDgSelectedChange"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],["shape","times","size","16"],[3,"clrDgField"],[3,"clrDgSortBy"],[3,"clrDgItem",4,"ngFor","ngForOf"],[3,"clrDgPage","clrDgPageSize","clrDgTotalItems","clrDgPageChange"],["pagination",""],[3,"clrPageSizeOptions"],[4,"ngIf"],[3,"clrDgItem"],["href","javascript:void(0)",3,"routerLink"],["class","list-img",4,"ngIf"],[1,"list-img"],[3,"src"],[1,"position-relative",3,"items","loading","pageSize","currentPage","totalCount","expectScrollPercent","withAdmiral","loadNextPageEvent"],["gridView",""],[1,"card","clickable",3,"routerLink"],[1,"card-header"],[3,"ngClass"],[3,"src",4,"ngIf"],[1,"card-media-description"],[1,"card-media-title",3,"title"],[1,"card-media-text"],[1,"card-block"],[1,"card-text"],[1,"form-group"],[1,"card-footer"],[3,"clrCloseMenuOnItemClick"],["type","button","clrDropdownTrigger","",1,"btn","btn-link",3,"disabled","click"],["shape","caret down"],["clrPosition","top-left",4,"clrIfOpen"],["clrPosition","top-left"],["type","button","class","btn btn-link","clrDropdownItem","",3,"disabled","click",4,"ngIf"],["type","button","clrDropdownItem","",1,"btn","btn-link",3,"disabled","click"],[1,"first-loading"],[1,"spinner"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.YNc(5,Oe,6,6,"a",5),e.YNc(6,Ze,1,2,"hbr-push-image-button",6),e._UZ(7,"hbr-filter",7),e.ALo(8,"translate"),e.TgZ(9,"span",8),e.NdJ("click",function(){return i.showCard(!0)})("mouseenter",function(){return i.mouseEnter("card")})("mouseleave",function(){return i.mouseLeave("card")}),e._UZ(10,"clr-icon",9),e.qZA(),e.TgZ(11,"span",10),e.NdJ("click",function(){return i.showCard(!1)})("mouseenter",function(){return i.mouseEnter("list")})("mouseleave",function(){return i.mouseLeave("list")}),e._UZ(12,"clr-icon",11),e.qZA(),e._UZ(13,"span",12),e.TgZ(14,"span",13),e.NdJ("click",function(){return i.refresh()}),e._UZ(15,"clr-icon",14),e.qZA()()()()(),e.TgZ(16,"div",15),e.YNc(17,Ge,32,38,"div",16),e.qZA(),e.YNc(18,Fe,3,7,"hbr-gridview",17),e.YNc(19,Je,2,0,"div",18),e.TgZ(20,"confirmation-dialog",19,20),e.NdJ("confirmAction",function(l){return i.confirmDeletion(l)}),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("ngIf",i.canDownloadCert),e.xp6(1),e.Q6J("ngIf",i.hasCreateRepositoryPermission&&!i.isProxyCacheProject),e.xp6(1),e.s9C("filterPlaceholder",e.lcZ(8,10,"REPOSITORY.FILTER_FOR_REPOSITORIES")),e.Q6J("withDivider",!0)("currentValue",i.lastFilteredRepoName),e.xp6(3),e.Q6J("ngClass",e.VKq(12,Y,i.isCardView||i.isHovering("card"))),e.xp6(2),e.Q6J("ngClass",e.VKq(14,Y,!i.isCardView||i.isHovering("list"))),e.xp6(5),e.Q6J("ngIf",!i.isCardView),e.xp6(1),e.Q6J("ngIf",i.isCardView),e.xp6(1),e.Q6J("ngIf",i.isFirstLoadingGridView&&i.isCardView))},dependencies:[p.rH,u.C9t,u.Gwl,u.fv_,u.m4W,u.dRQ,u.YYR,u.Ltv,u.F7K,u.Z4N,u.jND,u.KHL,u.PDs,u.Gcc,u.dml,u.Nh1,u.K8c,u.qvL,u.nqY,u.MgK,u.f_W,u.zwp,u.ZUS,u.lU3,x.mk,x.sg,x.O5,d.z,se.z,fe,Ie,b.X$,x.gd,Se.Z],styles:[".rightPos[_ngcontent-%COMP%]{position:absolute;z-index:100;right:35px;margin-top:4px;top:18px}.toolbar[_ngcontent-%COMP%]{overflow:hidden}.download-link[_ngcontent-%COMP%]{margin-bottom:8px;font-size:14px}.filter-divider[_ngcontent-%COMP%]{display:inline-block;height:16px;width:1px;padding-top:12px;padding-bottom:12px;position:relative;top:9px;margin-right:6px;margin-left:6px}.card-block[_ngcontent-%COMP%]{margin-top:24px;min-height:100px}.form-group[_ngcontent-%COMP%]{display:flex}.form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:142px}.card-media-block[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:45px;width:45px}.card-media-title[_ngcontent-%COMP%]{height:24px;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word;white-space:nowrap}.card-media-text[_ngcontent-%COMP%]{overflow:hidden;height:21px}.card-media-description[_ngcontent-%COMP%]{height:45px}.card-media-description[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-top:0}.card-text[_ngcontent-%COMP%]{height:45px;overflow:hidden;margin-bottom:18px}.card-block[_ngcontent-%COMP%]{margin-top:0}.card-footer[_ngcontent-%COMP%]{padding-top:6px;padding-bottom:6px}.list-img[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:24px;width:24px;margin-right:12px}.position-relative[_ngcontent-%COMP%]{position:relative}.push-image-button[_ngcontent-%COMP%]{display:inline-block}.repository-box[_ngcontent-%COMP%]{margin-top:5px}.first-loading[_ngcontent-%COMP%]{width:100%;height:65vh;display:flex;align-items:center;justify-content:center}"]}),g})()}];let ze=(()=>{var r;class g{}return(r=g).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[p.Bz.forChild(Ye),A.m]}),g})()},927:(q,E,a)=>{a.d(E,{z:()=>I});var p=a(5879),A=a(8645),e=a(3620),C=a(6223),S=a(6814),O=a(8280);const Z=["inputElement"];function y(T,s){1&T&&p._UZ(0,"span",4)}let I=(()=>{var T;class s{set filterPlaceholder(d){this.placeHolder=d}constructor(d){this.cd=d,this.placeHolder="",this.filterTerms=new A.x,this.isExpanded=!1,this.filterEvt=new p.vpe,this.openFlag=new p.vpe,this.readonly=null,this.expandMode=!1,this.withDivider=!1}ngOnInit(){this.filterTerms.pipe((0,e.b)(500)).subscribe(d=>{this.filterEvt.emit(d)})}valueChange(){this.filterTerms.next(this.currentValue&&this.currentValue.trim())}inputFocus(){this.openFlag.emit(this.isExpanded)}onClick(){this.expandMode||(this.isExpanded=!this.isExpanded,this.isExpanded&&(this.cd.detectChanges(),this.inputElement.nativeElement.focus()),this.openFlag.emit(this.isExpanded))}get isShowSearchBox(){return this.expandMode||!this.expandMode&&this.isExpanded}}return(T=s).\u0275fac=function(d){return new(d||T)(p.Y36(p.sBO))},T.\u0275cmp=p.Xpm({type:T,selectors:[["hbr-filter"]],viewQuery:function(d,h){if(1&d&&p.Gf(Z,5),2&d){let _;p.iGM(_=p.CRH())&&(h.inputElement=_.first)}},inputs:{readonly:"readonly",currentValue:"currentValue",filterPlaceholder:"filterPlaceholder",expandMode:"expandMode",withDivider:"withDivider",width:"width"},outputs:{filterEvt:"filterEvt",openFlag:"openFlag"},decls:5,vars:9,consts:[["shape","search","size","20",1,"search-btn",3,"click"],["type","text","autofocus","",1,"filter-input","clr-input",3,"hidden","placeholder","ngModel","keyup","focus","ngModelChange"],["inputElement",""],["class","filter-divider",4,"ngIf"],[1,"filter-divider"]],template:function(d,h){1&d&&(p.TgZ(0,"span")(1,"clr-icon",0),p.NdJ("click",function(){return h.onClick()}),p.qZA(),p.TgZ(2,"input",1,2),p.NdJ("keyup",function(){return h.valueChange()})("focus",function(){return h.inputFocus()})("ngModelChange",function(m){return h.currentValue=m}),p.qZA(),p.YNc(4,y,1,0,"span",3),p.qZA()),2&d&&(p.xp6(1),p.ekj("filter-icon",h.isShowSearchBox),p.xp6(1),p.Udp("width",h.width,"px"),p.s9C("placeholder",h.placeHolder),p.Q6J("hidden",!h.isShowSearchBox)("ngModel",h.currentValue),p.uIk("readOnly",h.readonly),p.xp6(2),p.Q6J("ngIf",h.withDivider))},dependencies:[C.Fj,C.JJ,C.On,S.O5,O.qvL],styles:[".filter-icon[_ngcontent-%COMP%]{position:relative;right:-20px}.filter-divider[_ngcontent-%COMP%]{display:inline-block;height:16px;width:1px;padding-top:12px;padding-bottom:12px;position:relative;top:9px;margin-right:6px;margin-left:6px}.search-btn[_ngcontent-%COMP%]{cursor:pointer}.search-btn[_ngcontent-%COMP%]:hover{color:#007cbb}.filter-input[_ngcontent-%COMP%]{padding-left:24px}"]}),s})()}}]);