"use strict";(self.webpackChunkharbor_portal=self.webpackChunkharbor_portal||[]).push([[7939],{7939:(I,E,n)=>{n.r(E),n.d(E,{ProjectModule:()=>G});var m=n(2787),O=n(4554),P=n(8645),L=n(9315),s=n(2141),C=n(3620);const g="down";var p=n(27),l=n(1691),u=n(3555),d=n(8778),t=n(5879),b=n(5738),R=n(1575),S=n(6682),x=n(7655),f=n(8280),j=n(6814),N=n(9515);function M(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"a",22),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.backToProject())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"PROJECT_DETAIL.PROJECTS")))}function Q(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",0),t._uU(2,"<"),t.qZA(),t.TgZ(3,"a",22),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.backToWebhook())}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.BQk()}2&o&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"PROJECT_DETAIL.WEBHOOKS")))}function W(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",0),t._uU(2,"<"),t.qZA(),t.TgZ(3,"a",22),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.backToP2pPreheat())}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.BQk()}2&o&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"P2P_PROVIDER.P2P_PROVIDER")))}const U=function(){return["/harbor","sign-in"]};function D(o,a){1&o&&(t.TgZ(0,"a",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.Q6J("routerLink",t.DdM(4,U)),t.xp6(1),t.hij(" ",t.lcZ(2,2,"SEARCH.BACK"),""))}function Z(o,a){1&o&&t._UZ(0,"clr-icon",24)}function Y(o,a){1&o&&t._UZ(0,"clr-icon",25)}function B(o,a){1&o&&t._UZ(0,"div",26)}function y(o,a){if(1&o&&(t.TgZ(0,"span",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,e.roleName))}}function K(o,a){1&o&&(t.TgZ(0,"div",28)(1,"span",29),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"PROJECT.PROXY_CACHE")))}function J(o,a){if(1&o&&(t.TgZ(0,"div")(1,"h3",30)(2,"span",31),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"span",32),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.qZA(),t.TgZ(14,"div")(15,"div",33)(16,"div",34),t._UZ(17,"progress",35),t.qZA()()()()),2&o){const e=t.oxw(2);t.xp6(3),t.Oqu(e.getSizeNumber()),t.xp6(2),t.Oqu(e.getSizeUnit()),t.xp6(2),t.Oqu(t.lcZ(8,11,"QUOTA.OF")),t.xp6(3),t.Oqu(-1===(null==e.projectQuota||null==e.projectQuota.hard?null:e.projectQuota.hard.storage)?t.lcZ(11,13,"QUOTA.UNLIMITED"):e.getIntegerAndUnit(null==e.projectQuota||null==e.projectQuota.hard?null:e.projectQuota.hard.storage,null==e.projectQuota||null==e.projectQuota.used?null:e.projectQuota.used.storage).partNumberHard),t.xp6(3),t.Oqu(-1===(null==e.projectQuota||null==e.projectQuota.hard?null:e.projectQuota.hard.storage)?"":e.getIntegerAndUnit(null==e.projectQuota||null==e.projectQuota.hard?null:e.projectQuota.hard.storage,null==e.projectQuota||null==e.projectQuota.used?null:e.projectQuota.used.storage).partCharacterHard),t.xp6(3),t.ekj("danger",-1!==(null==e.projectQuota||null==e.projectQuota.hard?null:e.projectQuota.hard.storage)&&(null==e.projectQuota||null==e.projectQuota.used?null:e.projectQuota.used.storage)/(null==e.projectQuota||null==e.projectQuota.hard?null:e.projectQuota.hard.storage)>e.quotaDangerCoefficient)("warning",-1!==(null==e.projectQuota||null==e.projectQuota.hard?null:e.projectQuota.hard.storage)&&(null==e.projectQuota||null==e.projectQuota.used?null:e.projectQuota.used.storage)/(null==e.projectQuota||null==e.projectQuota.hard?null:e.projectQuota.hard.storage)<=e.quotaDangerCoefficient&&(null==e.projectQuota||null==e.projectQuota.used?null:e.projectQuota.used.storage)/(null==e.projectQuota||null==e.projectQuota.hard?null:e.projectQuota.hard.storage)>=e.quotaWarningCoefficient),t.xp6(1),t.s9C("value",-1===(null==e.projectQuota||null==e.projectQuota.hard?null:e.projectQuota.hard.storage)?0:null==e.projectQuota||null==e.projectQuota.used?null:e.projectQuota.used.storage),t.s9C("max",null==e.projectQuota||null==e.projectQuota.hard?null:e.projectQuota.hard.storage)}}function k(o,a){if(1&o&&(t.TgZ(0,"div",14)(1,"div",15)(2,"div",16),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",17),t.YNc(6,J,18,15,"div",2),t.qZA()()()),2&o){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,2,"QUOTA.QUOTA_USED")," "),t.xp6(3),t.Q6J("ngIf",e.projectQuota)}}function V(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"clr-tab")(2,"button",36)(3,"a",37),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.BQk()),2&o){const e=t.oxw(),i=e.$implicit,r=e.index,h=t.oxw();t.xp6(2),t.ekj("clear-default-active",h.isDefaultTab(i,r)),t.s9C("id","project-"+i.linkName),t.s9C("routerLink",i.linkName),t.Q6J("clrTabLinkInOverflow",i.tabLinkInOverflow),t.xp6(2),t.Oqu(t.lcZ(5,6,i.showTabName))}}function F(o,a){if(1&o&&(t.ynx(0),t.YNc(1,V,6,8,"ng-container",2),t.BQk()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.permissions())}}let z=(()=>{var o;class a{constructor(i,r,h,v,w,$,X,_,q){this.projectService=i,this.route=r,this.router=h,this.sessionService=v,this.appConfigService=w,this.userPermissionService=$,this.errorHandler=X,this.cdf=_,this.event=q,this.hasQuotaReadPermission=!1,this.tabLinkNavList=[{linkName:"summary",tabLinkInOverflow:!1,showTabName:"PROJECT_DETAIL.SUMMARY",permissions:()=>this.hasProjectReadPermission},{linkName:"repositories",tabLinkInOverflow:!1,showTabName:"PROJECT_DETAIL.REPOSITORIES",permissions:()=>this.hasRepositoryListPermission},{linkName:"members",tabLinkInOverflow:!1,showTabName:"PROJECT_DETAIL.USERS",permissions:()=>this.hasMemberListPermission},{linkName:"labels",tabLinkInOverflow:!1,showTabName:"PROJECT_DETAIL.LABELS",permissions:()=>this.hasLabelListPermission&&this.hasLabelCreatePermission},{linkName:"scanner",tabLinkInOverflow:!1,showTabName:"SCANNER.SCANNER",permissions:()=>this.hasScannerReadPermission},{linkName:"p2p-provider",tabLinkInOverflow:!1,showTabName:"P2P_PROVIDER.P2P_PROVIDER",permissions:()=>this.hasP2pProviderReadPermission},{linkName:"tag-strategy",tabLinkInOverflow:!1,showTabName:"PROJECT_DETAIL.POLICY",permissions:()=>this.hasTagRetentionPermission||this.hasTagImmutablePermission},{linkName:"robot-account",tabLinkInOverflow:!1,showTabName:"PROJECT_DETAIL.ROBOT_ACCOUNTS",permissions:()=>this.hasRobotListPermission},{linkName:"webhook",tabLinkInOverflow:!1,showTabName:"PROJECT_DETAIL.WEBHOOKS",permissions:()=>this.hasWebhookListPermission},{linkName:"logs",tabLinkInOverflow:!1,showTabName:"PROJECT_DETAIL.LOGS",permissions:()=>this.hasLogListPermission},{linkName:"configs",tabLinkInOverflow:!1,showTabName:"PROJECT_DETAIL.CONFIG",permissions:()=>this.isSessionValid&&this.hasConfigurationListPermission}],this._subject=new P.x,this.isProxyCacheProject=!1,this.quotaDangerCoefficient=p.u1,this.quotaWarningCoefficient=p.HE,this.hasSignedIn=null!==this.sessionService.getCurrentUser(),this.route.data.subscribe(tt=>{this.currentProject=tt.projectResolver,this.currentProject.registry_id&&(this.isProxyCacheProject=!0),this.isMember=this.currentProject.is_member,this.roleName=this.currentProject.role_name})}ngOnInit(){this.projectId=this.route.snapshot.params.id,this.getPermissionsList(this.projectId),this._subscription||(this._subscription=this._subject.pipe((0,C.b)(100)).subscribe(i=>{i===g?this.resetTabsForDownSize():this.resetTabsForUpSize()})),this.eventSub||(this.eventSub=this.event.subscribe(u.n.REFRESH_PROJECT_INFO,()=>{this.refreshProjectInfo()}))}ngAfterViewInit(){this.previousWindowWidth=window.innerWidth,setTimeout(()=>{this.resetTabsForDownSize()},0)}ngOnDestroy(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this.eventSub&&(this.eventSub.unsubscribe(),this.eventSub=null)}getPermissionsList(i){let r=[];r.push(this.userPermissionService.getPermission(i,s._W.PROJECT.KEY,s._W.PROJECT.VALUE.READ)),r.push(this.userPermissionService.getPermission(i,s._W.LOG.KEY,s._W.LOG.VALUE.LIST)),r.push(this.userPermissionService.getPermission(i,s._W.CONFIGURATION.KEY,s._W.CONFIGURATION.VALUE.READ)),r.push(this.userPermissionService.getPermission(i,s._W.MEMBER.KEY,s._W.MEMBER.VALUE.LIST)),r.push(this.userPermissionService.getPermission(i,s._W.LABEL.KEY,s._W.LABEL.VALUE.LIST)),r.push(this.userPermissionService.getPermission(i,s._W.REPOSITORY.KEY,s._W.REPOSITORY.VALUE.LIST)),r.push(this.userPermissionService.getPermission(i,s._W.ROBOT.KEY,s._W.ROBOT.VALUE.LIST)),r.push(this.userPermissionService.getPermission(i,s._W.LABEL.KEY,s._W.LABEL.VALUE.CREATE)),r.push(this.userPermissionService.getPermission(i,s._W.TAG_RETENTION.KEY,s._W.TAG_RETENTION.VALUE.READ)),r.push(this.userPermissionService.getPermission(i,s._W.IMMUTABLE_TAG.KEY,s._W.IMMUTABLE_TAG.VALUE.LIST)),r.push(this.userPermissionService.getPermission(i,s._W.WEBHOOK.KEY,s._W.WEBHOOK.VALUE.LIST)),r.push(this.userPermissionService.getPermission(i,s._W.SCANNER.KEY,s._W.SCANNER.VALUE.READ)),r.push(this.userPermissionService.getPermission(i,s._W.P2P_PROVIDER.KEY,s._W.P2P_PROVIDER.VALUE.READ)),r.push(this.userPermissionService.getPermission(i,s._W.QUOTA.KEY,s._W.QUOTA.VALUE.READ)),(0,L.D)(r).subscribe(h=>{[this.hasProjectReadPermission,this.hasLogListPermission,this.hasConfigurationListPermission,this.hasMemberListPermission,this.hasLabelListPermission,this.hasRepositoryListPermission,this.hasRobotListPermission,this.hasLabelCreatePermission,this.hasTagRetentionPermission,this.hasTagImmutablePermission,this.hasWebhookListPermission,this.hasScannerReadPermission,this.hasP2pProviderReadPermission,this.hasQuotaReadPermission]=h,this.hasQuotaReadPermission&&this.getQuotaInfo()},h=>this.errorHandler.error(h))}getQuotaInfo(){this.projectService.getProjectSummary({projectNameOrId:this.projectId.toString()}).subscribe(i=>{i&&i.quota&&(this.projectQuota=i.quota)},i=>{this.errorHandler.error(i)})}get isSessionValid(){return null!=this.sessionService.getCurrentUser()}backToProject(){window.sessionStorage&&window.sessionStorage.setItem("fromDetails","true"),this.router.navigate(["/harbor","projects"])}isDefaultTab(i,r){return this.route.snapshot.children[0].routeConfig.path!==i.linkName&&0===r}isTabLinkInOverFlow(){return this.tabLinkNavList.some(i=>i.tabLinkInOverflow&&this.route.snapshot.children[0].routeConfig.path===i.linkName)}onResize(i){this.previousWindowWidth&&this._subject.next(this.previousWindowWidth>i.target.innerWidth?g:"up"),this.previousWindowWidth=i.target.innerWidth}resetTabsForDownSize(){this.tabLinkNavList.filter(i=>!i.tabLinkInOverflow).forEach((i,r)=>{const h=document.getElementById("project-"+i.linkName);h&&h.getBoundingClientRect&&window.innerWidth-document.getElementById("project-"+i.linkName).getBoundingClientRect().right<80&&(this.tabLinkNavList[r].tabLinkInOverflow=!0)})}resetTabsForUpSize(){for(let i=0;i<this.tabLinkNavList.length;i++)this.tabLinkNavList[i].tabLinkInOverflow=!1;this.cdf.detectChanges(),this.resetTabsForDownSize()}getIntegerAndUnit(i,r){return(0,l.gv)(i,(0,l.d9)(p.NZ),r,(0,l.d9)(p.NZ))}getSizeNumber(){return this.projectQuota&&this.projectQuota.used&&this.projectQuota.used.storage?(0,l.Zj)(this.projectQuota.used.storage):0}getSizeUnit(){return this.projectQuota?(0,l.T2)(this.projectQuota.used.storage):null}refreshProjectInfo(){this.getQuotaInfo(),this.getProject()}getProject(){this.projectService.getProject({projectNameOrId:this.projectId.toString()}).subscribe(i=>{i&&(this.currentProject=i)})}backToWebhook(){this.router.navigate(["harbor","projects",`${this.projectId}`,"webhook"])}isWebhookTaskListPage(){return this.route?.firstChild?.firstChild?.snapshot.data.routeConfigId===d.j.WEBHOOK_TASKS_PAGE}backToP2pPreheat(){this.router.navigate(["harbor","projects",`${this.projectId}`,"p2p-provider","policies"])}isP2pPreheatTaskListPage(){return this.route?.firstChild?.firstChild?.snapshot.data.routeConfigId===d.j.P2P_TASKS_PAGE}}return(o=a).\u0275fac=function(i){return new(i||o)(t.Y36(b.Y),t.Y36(m.gz),t.Y36(m.F0),t.Y36(R.m),t.Y36(S._),t.Y36(s.Hx),t.Y36(x.q),t.Y36(t.sBO),t.Y36(u.P))},o.\u0275cmp=t.Xpm({type:o,selectors:[["project-detail"]],hostBindings:function(i,r){1&i&&t.NdJ("resize",function(v){return r.onResize(v)},!1,t.Jf7)},decls:31,vars:20,consts:[[1,"back-icon"],["class","backStyle",3,"click",4,"ngIf"],[4,"ngIf"],["class","backStyle",3,"routerLink",4,"ngIf"],[1,"clr-row"],[1,"clr-col-5"],["sub-header-title","",1,"custom-h2","center"],["shape","cloud-traffic","size","30",4,"ngIf"],["shape","organization","size","30",4,"ngIf"],[1,"ml-05","project-name"],["class","divider filter-divider",4,"ngIf"],["class","role-label",4,"ngIf"],["class","clr-row mt-0 line-height-10",4,"ngIf"],[1,"clr-col-7","flex-end"],[1,"card"],[1,"card-block","container"],[1,"head"],[1,"storage-used","font-weight-700"],[1,"mt-0"],["class","card",4,"ngIf"],["id","project-tabs",1,"tabs"],[4,"ngFor","ngForOf"],[1,"backStyle",3,"click"],[1,"backStyle",3,"routerLink"],["shape","cloud-traffic","size","30"],["shape","organization","size","30"],[1,"divider","filter-divider"],[1,"role-label"],[1,"clr-row","mt-0","line-height-10"],[1,"proxy-cache"],[1,"mt-0","clr-display-inline-block"],[1,"size-number"],[1,"of"],[1,"progress-block","progress-min-width","progress-div"],[1,"progress","success"],["data-displayval","100%",3,"value","max"],["clrTabLink","","routerLinkActive","active","type","button",3,"clrTabLinkInOverflow","id","routerLink"],[1,"nav-link"]],template:function(i,r){1&i&&(t.TgZ(0,"span",0),t._uU(1,"<"),t.qZA(),t.YNc(2,M,3,3,"a",1),t.YNc(3,Q,6,3,"ng-container",2),t.YNc(4,W,6,3,"ng-container",2),t.YNc(5,D,3,5,"a",3),t.TgZ(6,"div",4)(7,"div",5)(8,"h1",6),t.YNc(9,Z,1,0,"clr-icon",7),t.YNc(10,Y,1,0,"clr-icon",8),t.TgZ(11,"span",9),t._uU(12),t.qZA(),t.YNc(13,B,1,0,"div",10),t.YNc(14,y,3,3,"span",11),t.qZA(),t.YNc(15,K,4,3,"div",12),t.qZA(),t.TgZ(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"div",17)(23,"div")(24,"h3",18),t._uU(25),t.ALo(26,"translate"),t.qZA()()()()(),t.YNc(27,k,7,4,"div",19),t.qZA()(),t.TgZ(28,"clr-tabs",20),t.YNc(29,F,2,1,"ng-container",21),t.qZA(),t._UZ(30,"router-outlet")),2&i&&(t.xp6(2),t.Q6J("ngIf",r.hasSignedIn),t.xp6(1),t.Q6J("ngIf",r.hasSignedIn&&r.isWebhookTaskListPage()),t.xp6(1),t.Q6J("ngIf",r.hasSignedIn&&r.isP2pPreheatTaskListPage()),t.xp6(1),t.Q6J("ngIf",!r.hasSignedIn),t.xp6(4),t.Q6J("ngIf",r.isProxyCacheProject),t.xp6(1),t.Q6J("ngIf",!r.isProxyCacheProject),t.xp6(2),t.Oqu(r.currentProject.name),t.xp6(1),t.Q6J("ngIf",r.isMember),t.xp6(1),t.Q6J("ngIf",r.isMember),t.xp6(1),t.Q6J("ngIf",r.isProxyCacheProject),t.xp6(5),t.Oqu(t.lcZ(21,16,"PROJECT.ACCESS_LEVEL")),t.xp6(5),t.hij(" ",t.lcZ(26,18,"true"===(null==r.currentProject||null==r.currentProject.metadata?null:r.currentProject.metadata.public)?"PROJECT.PUBLIC":"PROJECT.PRIVATE")," "),t.xp6(2),t.Q6J("ngIf",r.hasQuotaReadPermission),t.xp6(1),t.ekj("in-overflow",r.isTabLinkInOverFlow()),t.xp6(1),t.Q6J("ngForOf",r.tabLinkNavList))},dependencies:[m.lC,m.rH,m.Od,f.qvL,f.S4y,f.gKI,f.Iq$,f.dl,f.Qs7,j.sg,j.O5,N.X$],styles:[".sub-header-title[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:12px}.sub-nav-bg-color[_ngcontent-%COMP%]{background-color:#fafafa}.subnav[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{padding-left:0}.role-label[_ngcontent-%COMP%]{font-size:14px;font-style:italic;letter-spacing:.01em;margin-top:8px}.backStyle[_ngcontent-%COMP%]{color:#007cbb;font-size:16px;cursor:pointer;padding:5px;border-radius:2px}button[_ngcontent-%COMP%]{outline:none}#project-tabs[_ngcontent-%COMP%]   .clear-default-active[_ngcontent-%COMP%]{box-shadow:none}#project-tabs[_ngcontent-%COMP%]   .clear-default-active[_ngcontent-%COMP%]:hover{box-shadow:0 -3px #0077b8 inset}.tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:0}.ml-05[_ngcontent-%COMP%]{margin-left:.5rem}.proxy-cache[_ngcontent-%COMP%]{margin-left:2.5rem;font-size:10px;font-weight:300;opacity:.8}.line-height-10[_ngcontent-%COMP%]{line-height:10px}.back-icon[_ngcontent-%COMP%]{margin-right:5px;color:#007cbb;font-size:16px}.flex-end[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.card[_ngcontent-%COMP%]{width:auto;min-width:10rem;margin-right:.5rem;margin-top:0;height:6rem}.head[_ngcontent-%COMP%]{margin-top:0;margin-bottom:.25rem;font-size:18px}.font-weight-700[_ngcontent-%COMP%]{font-weight:700}.storage-used[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;min-width:8rem}.size-number[_ngcontent-%COMP%]{font-size:1.5rem}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.margin-right-5px[_ngcontent-%COMP%]{margin-right:5px}.center[_ngcontent-%COMP%]{display:flex;align-items:center}.divider[_ngcontent-%COMP%]{height:24px;width:1px;margin-right:24px;margin-left:24px}.progress[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%], .progress-static[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%]{max-height:.48rem}[_nghost-%COMP%]  .progress.warning>progress{color:orange}[_nghost-%COMP%]  .progress.warning>progress::-webkit-progress-value{background-color:orange}[_nghost-%COMP%]  .progress.warning>progress::-moz-progress-bar{background-color:orange}.of[_ngcontent-%COMP%]{margin-right:5px;margin-left:5px}.project-name[_ngcontent-%COMP%]{text-overflow:ellipsis;max-width:20rem;overflow:hidden}"]}),a})();var c=n(7239);const H=[{path:"",component:z,children:[{path:"summary",canActivate:[c.P],data:{permissionParam:{resource:s._W.PROJECT.KEY,action:s._W.PROJECT.VALUE.READ}},loadChildren:()=>n.e(6809).then(n.bind(n,6809)).then(o=>o.SummaryModule)},{path:"repositories",canActivate:[c.P],data:{permissionParam:{resource:s._W.REPOSITORY.KEY,action:s._W.REPOSITORY.VALUE.LIST}},loadChildren:()=>n.e(3274).then(n.bind(n,3274)).then(o=>o.RepositoryModule)},{path:"members",canActivate:[c.P],data:{permissionParam:{resource:s._W.MEMBER.KEY,action:s._W.MEMBER.VALUE.LIST}},loadChildren:()=>Promise.all([n.e(2079),n.e(4529)]).then(n.bind(n,4529)).then(o=>o.MemberModule)},{path:"logs",canActivate:[c.P],data:{permissionParam:{resource:s._W.LOG.KEY,action:s._W.LOG.VALUE.LIST}},loadChildren:()=>n.e(2789).then(n.bind(n,2789)).then(o=>o.AuditLogModule)},{path:"labels",canActivate:[c.P],data:{permissionParam:{resource:s._W.LABEL.KEY,action:s._W.LABEL.VALUE.CREATE}},loadChildren:()=>Promise.all([n.e(1683),n.e(5070)]).then(n.bind(n,5070)).then(o=>o.ProjectLabelModule)},{path:"configs",canActivate:[c.P],data:{permissionParam:{resource:s._W.CONFIGURATION.KEY,action:s._W.CONFIGURATION.VALUE.READ}},loadChildren:()=>n.e(2914).then(n.bind(n,2914)).then(o=>o.ProjectConfigModule)},{path:"robot-account",canActivate:[c.P],data:{permissionParam:{resource:s._W.ROBOT.KEY,action:s._W.ROBOT.VALUE.LIST}},loadChildren:()=>Promise.all([n.e(5817),n.e(3322)]).then(n.bind(n,3322)).then(o=>o.ProjectRobotAccountModule)},{path:"tag-strategy",canActivate:[c.P],data:{permissionParam:{resource:s._W.TAG_RETENTION.KEY,action:s._W.TAG_RETENTION.VALUE.READ}},loadChildren:()=>Promise.all([n.e(575),n.e(6149),n.e(5814)]).then(n.bind(n,5814)).then(o=>o.TagFeatureIntegrationModule)},{path:"webhook",canActivate:[c.P],data:{permissionParam:{resource:s._W.WEBHOOK.KEY,action:s._W.WEBHOOK.VALUE.LIST}},loadChildren:()=>Promise.all([n.e(6379),n.e(8592),n.e(8343)]).then(n.bind(n,8343)).then(o=>o.WebhookModule)},{path:"scanner",canActivate:[c.P],data:{permissionParam:{resource:s._W.SCANNER.KEY,action:s._W.SCANNER.VALUE.READ}},loadChildren:()=>n.e(8833).then(n.bind(n,8833)).then(o=>o.ProjectScannerModule)},{path:"p2p-provider",canActivate:[c.P],data:{permissionParam:{resource:s._W.P2P_PROVIDER.KEY,action:s._W.P2P_PROVIDER.VALUE.READ}},loadChildren:()=>Promise.all([n.e(4665),n.e(575),n.e(8592),n.e(4812)]).then(n.bind(n,4812)).then(o=>o.P2pProviderModule)},{path:"",redirectTo:"repositories",pathMatch:"full"}]}];let G=(()=>{var o;class a{}return(o=a).\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.Bz.forChild(H),O.m]}),a})()},7239:(I,E,n)=>{n.d(E,{P:()=>A});var m=n(5592),O=n(27),P=n(5879),L=n(2787),s=n(7655),C=n(2141);let A=(()=>{var g;class T{constructor(l,u,d){this.router=l,this.errorHandler=u,this.userPermission=d}canActivate(l,u){return this.checkPermission(l.parent.params.id,l.data.permissionParam)}canActivateChild(l,u){return this.canActivate(l,u)}checkPermission(l,u){return new m.y(d=>{this.userPermission.getPermission(l,u.resource,u.action).subscribe({next:t=>{t||this.router.navigate([O.ZB.HARBOR_DEFAULT]),d.next(t)},error:t=>{this.router.navigate([O.ZB.HARBOR_DEFAULT]),d.next(!1),this.errorHandler.error(t)}})})}}return(g=T).\u0275fac=function(l){return new(l||g)(P.LFG(L.F0),P.LFG(s.q),P.LFG(C.Hx))},g.\u0275prov=P.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),T})()}}]);