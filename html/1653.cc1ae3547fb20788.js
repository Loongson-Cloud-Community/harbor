"use strict";(self.webpackChunkharbor_portal=self.webpackChunkharbor_portal||[]).push([[1653],{4910:(q,y,d)=>{d.d(y,{M:()=>E});var f=d(9862),T=d(3586),A=d(2181),e=d(7398),h=d(5879),N=d(9462);let E=(()=>{var C;class Z extends T.b{constructor(c,u){super(c,u)}getLatestScanAllMetricsResponse(c){let u=this.newParams(),m=new f.WM;null!=c&&(m=m.set("X-Request-Id",c.toString()));let _=new f.aW("GET",this.rootUrl+"/scans/all/metrics",null,{headers:m,params:u,responseType:"json"});return this.http.request(_).pipe((0,A.h)(g=>g instanceof f.Zn),(0,e.U)(g=>g))}getLatestScanAllMetrics(c){return this.getLatestScanAllMetricsResponse(c).pipe((0,e.U)(u=>u.body))}getLatestScheduledScanAllMetricsResponse(c){let u=this.newParams(),m=new f.WM;null!=c&&(m=m.set("X-Request-Id",c.toString()));let _=new f.aW("GET",this.rootUrl+"/scans/schedule/metrics",null,{headers:m,params:u,responseType:"json"});return this.http.request(_).pipe((0,A.h)(g=>g instanceof f.Zn),(0,e.U)(g=>g))}getLatestScheduledScanAllMetrics(c){return this.getLatestScheduledScanAllMetricsResponse(c).pipe((0,e.U)(u=>u.body))}getScanAllScheduleResponse(c){let u=this.newParams(),m=new f.WM;null!=c&&(m=m.set("X-Request-Id",c.toString()));let _=new f.aW("GET",this.rootUrl+"/system/scanAll/schedule",null,{headers:m,params:u,responseType:"json"});return this.http.request(_).pipe((0,A.h)(g=>g instanceof f.Zn),(0,e.U)(g=>g))}getScanAllSchedule(c){return this.getScanAllScheduleResponse(c).pipe((0,e.U)(u=>u.body))}updateScanAllScheduleResponse(c){let u=this.newParams(),m=new f.WM,l=null;l=c.schedule,null!=c.XRequestId&&(m=m.set("X-Request-Id",c.XRequestId.toString()));let _=new f.aW("PUT",this.rootUrl+"/system/scanAll/schedule",l,{headers:m,params:u,responseType:"json"});return this.http.request(_).pipe((0,A.h)(g=>g instanceof f.Zn),(0,e.U)(g=>g))}updateScanAllSchedule(c){return this.updateScanAllScheduleResponse(c).pipe((0,e.U)(u=>u.body))}createScanAllScheduleResponse(c){let u=this.newParams(),m=new f.WM,l=null;l=c.schedule,null!=c.XRequestId&&(m=m.set("X-Request-Id",c.XRequestId.toString()));let _=new f.aW("POST",this.rootUrl+"/system/scanAll/schedule",l,{headers:m,params:u,responseType:"json"});return this.http.request(_).pipe((0,A.h)(g=>g instanceof f.Zn),(0,e.U)(g=>g))}createScanAllSchedule(c){return this.createScanAllScheduleResponse(c).pipe((0,e.U)(u=>u.body))}stopScanAllResponse(c){let u=this.newParams(),m=new f.WM;null!=c&&(m=m.set("X-Request-Id",c.toString()));let _=new f.aW("POST",this.rootUrl+"/system/scanAll/stop",null,{headers:m,params:u,responseType:"json"});return this.http.request(_).pipe((0,A.h)(g=>g instanceof f.Zn),(0,e.U)(g=>g))}stopScanAll(c){return this.stopScanAllResponse(c).pipe((0,e.U)(u=>u.body))}}return(C=Z).getLatestScanAllMetricsPath="/scans/all/metrics",C.getLatestScheduledScanAllMetricsPath="/scans/schedule/metrics",C.getScanAllSchedulePath="/system/scanAll/schedule",C.updateScanAllSchedulePath="/system/scanAll/schedule",C.createScanAllSchedulePath="/system/scanAll/schedule",C.stopScanAllPath="/system/scanAll/stop",C.\u0275fac=function(c){return new(c||C)(h.LFG(N.p),h.LFG(f.eN))},C.\u0275prov=h.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),Z})()},6059:(q,y,d)=>{d.d(y,{_:()=>E});var f=d(9862),T=d(3586),A=d(2181),e=d(7398),h=d(5879),N=d(9462);let E=(()=>{var C;class Z extends T.b{constructor(c,u){super(c,u)}getSecuritySummaryResponse(c){let u=this.newParams(),m=new f.WM;null!=c.withDangerousCve&&(u=u.set("with_dangerous_cve",c.withDangerousCve.toString())),null!=c.withDangerousArtifact&&(u=u.set("with_dangerous_artifact",c.withDangerousArtifact.toString())),null!=c.XRequestId&&(m=m.set("X-Request-Id",c.XRequestId.toString()));let _=new f.aW("GET",this.rootUrl+"/security/summary",null,{headers:m,params:u,responseType:"json"});return this.http.request(_).pipe((0,A.h)(g=>g instanceof f.Zn),(0,e.U)(g=>g))}getSecuritySummary(c){return this.getSecuritySummaryResponse(c).pipe((0,e.U)(u=>u.body))}ListVulnerabilitiesResponse(c){let u=this.newParams(),m=new f.WM;null!=c.withTag&&(u=u.set("with_tag",c.withTag.toString())),null!=c.tuneCount&&(u=u.set("tune_count",c.tuneCount.toString())),null!=c.q&&(u=u.set("q",c.q.toString())),null!=c.pageSize&&(u=u.set("page_size",c.pageSize.toString())),null!=c.page&&(u=u.set("page",c.page.toString())),null!=c.XRequestId&&(m=m.set("X-Request-Id",c.XRequestId.toString()));let _=new f.aW("GET",this.rootUrl+"/security/vul",null,{headers:m,params:u,responseType:"json"});return this.http.request(_).pipe((0,A.h)(g=>g instanceof f.Zn),(0,e.U)(g=>g))}ListVulnerabilities(c){return this.ListVulnerabilitiesResponse(c).pipe((0,e.U)(u=>u.body))}}return(C=Z).getSecuritySummaryPath="/security/summary",C.ListVulnerabilitiesPath="/security/vul",C.\u0275fac=function(c){return new(c||C)(h.LFG(N.p),h.LFG(f.eN))},C.\u0275prov=h.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),Z})()},1653:(q,y,d)=>{d.r(y),d.d(y,{InterrogationServicesModule:()=>Xn});var f=d(4554),T=d(2787),A=d(5413),e=d(5879),h=d(6223),N=d(2438),E=d(7398),C=d(3620),Z=d(3997),w=d(2181),c=d(4664),u=d(4716),m=d(2383),l=d(8280),_=d(6814),g=d(9515);const W=["name"],X=["endpointUrl"];function ee(i,a){if(1&i&&(e.TgZ(0,"clr-control-error")(1,"span",29),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,t.nameTooltip))}}function ne(i,a){if(1&i&&(e.TgZ(0,"clr-control-error")(1,"span",30),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,t.endpointTooltip))}}function te(i,a){1&i&&(e.TgZ(0,"clr-control-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SCANNER.USERNAME_REQUIRED")," "))}function ie(i,a){if(1&i&&(e.TgZ(0,"div",1)(1,"label",2),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"input",31)(7,"clr-icon",7),e.qZA(),e.YNc(8,te,3,3,"clr-control-error",9),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,4,"SCANNER.USERNAME")),e.xp6(2),e.ekj("clr-error",!t.isUserNameValid),e.xp6(4),e.Q6J("ngIf",!t.isUserNameValid)}}function re(i,a){1&i&&(e.TgZ(0,"clr-control-error")(1,"span",33),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"SCANNER.PASSWORD_REQUIRED")))}function ae(i,a){if(1&i&&(e.TgZ(0,"div",1)(1,"label",2),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"input",32)(7,"clr-icon",7),e.qZA(),e.YNc(8,re,4,3,"clr-control-error",9),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,4,"SCANNER.PASSWORD")),e.xp6(2),e.ekj("clr-error",!t.isPasswordValid),e.xp6(4),e.Q6J("ngIf",!t.isPasswordValid)}}function oe(i,a){1&i&&(e.TgZ(0,"clr-control-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SCANNER.TOKEN_REQUIRED")," "))}function le(i,a){if(1&i&&(e.TgZ(0,"div",1)(1,"label",2),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"input",34)(7,"clr-icon",7),e.qZA(),e.YNc(8,oe,3,3,"clr-control-error",9),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,4,"SCANNER.TOKEN")),e.xp6(2),e.ekj("clr-error",!t.isTokenValid),e.xp6(4),e.Q6J("ngIf",!t.isTokenValid)}}function se(i,a){1&i&&(e.TgZ(0,"clr-control-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SCANNER.API_KEY_REQUIRED")," "))}function ce(i,a){if(1&i&&(e.TgZ(0,"div",1)(1,"label",2),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"input",35)(7,"clr-icon",7),e.qZA(),e.YNc(8,se,3,3,"clr-control-error",9),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,4,"SCANNER.API_KEY")),e.xp6(2),e.ekj("clr-error",!t.isApiKeyValid),e.xp6(4),e.Q6J("ngIf",!t.isApiKeyValid)}}function ue(i,a){1&i&&(e.TgZ(0,"clr-tooltip-content",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SCANNER.SKIP_CERT_VERIFY")," "))}function pe(i,a){1&i&&(e.TgZ(0,"clr-tooltip-content",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SCANNER.USE_INNER_TIP")," "))}let D=(()=>{var i;class a{constructor(n,r){this.fb=n,this.scannerService=r,this.checkOnGoing=!1,this.newScannerForm=this.fb.group({name:this.fb.control("",[h.kI.required]),description:this.fb.control(""),url:this.fb.control("",[h.kI.required,h.kI.pattern(/^http[s]?:\/\//)]),auth:this.fb.control(""),accessCredential:this.fb.group({username:this.fb.control("",h.kI.required),password:this.fb.control("",h.kI.required),token:this.fb.control("",h.kI.required),apiKey:this.fb.control("",h.kI.required)}),skipCertVerify:this.fb.control(!1),useInner:this.fb.control(!1)}),this.isNameExisting=!1,this.checkEndpointOnGoing=!1,this.isEndpointUrlExisting=!1,this.showEndpointError=!1}ngAfterViewInit(){this.checkNameSubscribe||(this.checkNameSubscribe=(0,N.R)(this.scannerName.nativeElement,"input").pipe((0,E.U)(n=>n.target.value),(0,C.b)(500),(0,Z.x)(),(0,w.h)(n=>(!this.isEdit||!this.originValue||this.originValue.name!==n)&&this.newScannerForm.get("name").valid&&n.length>0),(0,c.w)(n=>(this.isNameExisting=!1,this.checkOnGoing=!0,this.scannerService.listScanners({q:encodeURIComponent(`name=${n}`)}).pipe((0,u.x)(()=>this.checkOnGoing=!1))))).subscribe(n=>{n&&n.length>0&&n.forEach(r=>{r.name!==this.newScannerForm.get("name").value||(this.isNameExisting=!0)})},n=>{this.isNameExisting=!1})),this.checkEndpointUrlSubscribe||(this.checkEndpointUrlSubscribe=(0,N.R)(this.scannerEndpointUrl.nativeElement,"input").pipe((0,E.U)(n=>n.target.value),(0,C.b)(800),(0,Z.x)(),(0,w.h)(n=>(!this.isEdit||!this.originValue||this.originValue.url!==n)&&this.newScannerForm.get("url").valid&&n.length>6),(0,c.w)(n=>(this.isEndpointUrlExisting=!1,this.checkEndpointOnGoing=!0,this.scannerService.listScanners({q:encodeURIComponent(`url=${n}`)}).pipe((0,u.x)(()=>this.checkEndpointOnGoing=!1))))).subscribe(n=>{n&&n.length>0&&n.forEach(r=>{r.url!==this.newScannerForm.get("url").value||(this.isEndpointUrlExisting=!0)})},n=>{this.isEndpointUrlExisting=!1}))}ngOnDestroy(){this.checkNameSubscribe&&(this.checkNameSubscribe.unsubscribe(),this.checkNameSubscribe=null),this.checkEndpointUrlSubscribe&&(this.checkEndpointUrlSubscribe.unsubscribe(),this.checkEndpointUrlSubscribe=null)}get isNameValid(){return!((this.newScannerForm.get("name").dirty||this.newScannerForm.get("name").touched)&&!this.checkOnGoing&&(this.isNameExisting?(this.nameTooltip="SCANNER.NAME_EXISTS",1):this.newScannerForm.get("name").errors&&this.newScannerForm.get("name").errors.required?(this.nameTooltip="SCANNER.NAME_REQUIRED",1):this.newScannerForm.get("name").errors&&this.newScannerForm.get("name").errors.pattern&&(this.nameTooltip="SCANNER.NAME_REX",1)))}get isEndpointValid(){return!((this.newScannerForm.get("url").dirty||this.newScannerForm.get("url").touched)&&!this.checkEndpointOnGoing&&(this.isEndpointUrlExisting?(this.endpointTooltip="SCANNER.ENDPOINT_EXISTS",1):this.newScannerForm.get("url").errors&&this.newScannerForm.get("url").errors.required?(this.endpointTooltip="SCANNER.ENDPOINT_REQUIRED",1):(this.newScannerForm.get("url").errors&&this.newScannerForm.get("url"),0)))}checkEndpointUrl(){this.newScannerForm.get("url").errors&&this.newScannerForm.get("url").errors.pattern&&(this.endpointTooltip="SCANNER.ILLEGAL_ENDPOINT",this.showEndpointError=!0)}get auth(){return this.newScannerForm.get("auth").value}get isUserNameValid(){return!(this.newScannerForm.get("accessCredential").get("username").invalid&&(this.newScannerForm.get("accessCredential").get("username").dirty||this.newScannerForm.get("accessCredential").get("username").touched))}get isPasswordValid(){return!(this.newScannerForm.get("accessCredential").get("password").invalid&&(this.newScannerForm.get("accessCredential").get("password").dirty||this.newScannerForm.get("accessCredential").get("password").touched))}get isTokenValid(){return!(this.newScannerForm.get("accessCredential").get("token").invalid&&(this.newScannerForm.get("accessCredential").get("token").dirty||this.newScannerForm.get("accessCredential").get("token").touched))}get isApiKeyValid(){return!(this.newScannerForm.get("accessCredential").get("apiKey").invalid&&(this.newScannerForm.get("accessCredential").get("apiKey").dirty||this.newScannerForm.get("accessCredential").get("apiKey").touched))}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(h.QS),e.Y36(m.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["new-scanner-form"]],viewQuery:function(n,r){if(1&n&&(e.Gf(W,5),e.Gf(X,5)),2&n){let o;e.iGM(o=e.CRH())&&(r.scannerName=o.first),e.iGM(o=e.CRH())&&(r.scannerEndpointUrl=o.first)}},decls:76,vars:46,consts:[[1,"clr-form","clr-form-horizontal",3,"formGroup"],[1,"clr-form-control"],[1,"required","clr-control-label"],[1,"clr-control-container"],[1,"clr-input-wrapper"],["autocomplete","off","formControlName","name","type","text","id","scanner-name",1,"clr-input","width-280"],["name",""],["shape","exclamation-circle",1,"clr-validate-icon"],[1,"spinner","spinner-inline",3,"hidden"],[4,"ngIf"],[1,"clr-control-label"],["autocomplete","off","formControlName","description","type","text","id","description",1,"clr-textarea","width-280"],["placeholder","http(s)://192.168.1.1","autocomplete","off","formControlName","url","type","text","id","scanner-endpoint",1,"clr-input","width-280",3,"focus","blur"],["endpointUrl",""],[1,"clr-select-wrapper"],["formControlName","auth","id","scanner-authorization",1,"clr-select","width-280"],["value","None"],["value","Basic"],["value","Bearer"],["value","APIKey"],["formGroupName","accessCredential"],["class","clr-form-control",4,"ngIf"],[1,"clr-control-container","padding-top-3"],["name","scanner-skipCertVerify","clrCheckbox","","formControlName","skipCertVerify","type","checkbox","id","scanner-skipCertVerify"],["for","scanner-skipCertVerify"],["clrTooltipTrigger","","shape","info-circle","size","24",1,"color-57"],["clrPosition","top-left","clrSize","md",4,"clrIfOpen"],["name","scanner-use-inner","clrCheckbox","","formControlName","useInner","type","checkbox","id","scanner-use-inner"],["for","scanner-use-inner"],["id","name-error"],["id","endpoint-error"],["formControlName","username","autocomplete","off","type","text","id","scanner-username",1,"clr-input","width-280"],["formControlName","password","autocomplete","off","type","password","id","scanner-password",1,"clr-input","width-280"],["id","pwd-error"],["formControlName","token","autocomplete","off","type","text","id","scanner-token",1,"clr-input","width-280"],["formControlName","apiKey","autocomplete","off","type","text","id","scanner-apiKey",1,"clr-input","width-280"],["clrPosition","top-left","clrSize","md"]],template:function(n,r){1&n&&(e.TgZ(0,"div")(1,"form",0)(2,"div",1)(3,"label",2),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",3)(7,"div",4),e._UZ(8,"input",5,6)(10,"clr-icon",7)(11,"span",8),e.qZA(),e.YNc(12,ee,4,3,"clr-control-error",9),e.qZA()(),e.TgZ(13,"div",1)(14,"label",10),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",3)(18,"textarea",11),e._uU(19,"                "),e.qZA()()(),e.TgZ(20,"div",1)(21,"label",2),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"div",3)(25,"div",4)(26,"input",12,13),e.NdJ("focus",function(){return r.showEndpointError=!1})("blur",function(){return r.checkEndpointUrl()}),e.qZA(),e._UZ(28,"clr-icon",7)(29,"span",8),e.qZA(),e.YNc(30,ne,4,3,"clr-control-error",9),e.qZA()(),e.TgZ(31,"div",1)(32,"label",10),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"div",3)(36,"div",14)(37,"select",15)(38,"option",16),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"option",17),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"option",18),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"option",19),e._uU(48),e.ALo(49,"translate"),e.qZA()()()()(),e.ynx(50,20),e.YNc(51,ie,9,6,"div",21),e.YNc(52,ae,9,6,"div",21),e.YNc(53,le,9,6,"div",21),e.YNc(54,ce,9,6,"div",21),e.BQk(),e.TgZ(55,"div",1)(56,"label",10),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.TgZ(59,"div",22)(60,"clr-checkbox-wrapper"),e._UZ(61,"input",23),e.TgZ(62,"label",24),e._uU(63),e.ALo(64,"translate"),e.TgZ(65,"clr-tooltip"),e._UZ(66,"clr-icon",25),e.YNc(67,ue,3,3,"clr-tooltip-content",26),e.qZA()()(),e.TgZ(68,"clr-checkbox-wrapper"),e._UZ(69,"input",27),e.TgZ(70,"label",28),e._uU(71),e.ALo(72,"translate"),e.TgZ(73,"clr-tooltip"),e._UZ(74,"clr-icon",25),e.YNc(75,pe,3,3,"clr-tooltip-content",26),e.qZA()()()()()()()),2&n&&(e.xp6(1),e.Q6J("formGroup",r.newScannerForm),e.xp6(3),e.Oqu(e.lcZ(5,24,"SCANNER.NAME")),e.xp6(2),e.ekj("clr-error",!r.isNameValid),e.xp6(5),e.Q6J("hidden",!r.checkOnGoing),e.xp6(1),e.Q6J("ngIf",!r.isNameValid),e.xp6(3),e.Oqu(e.lcZ(16,26,"SCANNER.DESCRIPTION")),e.xp6(7),e.Oqu(e.lcZ(23,28,"SCANNER.ENDPOINT")),e.xp6(2),e.ekj("clr-error",!r.isEndpointValid||r.showEndpointError),e.xp6(5),e.Q6J("hidden",!r.checkEndpointOnGoing),e.xp6(1),e.Q6J("ngIf",!r.isEndpointValid||r.showEndpointError),e.xp6(3),e.Oqu(e.lcZ(34,30,"SCANNER.AUTH")),e.xp6(6),e.hij(" ",e.lcZ(40,32,"SCANNER.NONE")," "),e.xp6(3),e.hij(" ",e.lcZ(43,34,"SCANNER.BASIC")," "),e.xp6(3),e.hij(" ",e.lcZ(46,36,"SCANNER.BEARER")," "),e.xp6(3),e.hij(" ",e.lcZ(49,38,"SCANNER.API_KEY")," "),e.xp6(3),e.Q6J("ngIf","Basic"===r.auth),e.xp6(1),e.Q6J("ngIf","Basic"===r.auth),e.xp6(1),e.Q6J("ngIf","Bearer"===r.auth),e.xp6(1),e.Q6J("ngIf","APIKey"===r.auth),e.xp6(3),e.Oqu(e.lcZ(58,40,"SCANNER.OPTIONS")),e.xp6(6),e.hij("",e.lcZ(64,42,"SCANNER.SKIP")," "),e.xp6(8),e.hij("",e.lcZ(72,44,"SCANNER.USE_INNER")," "))},dependencies:[h._Y,h.YN,h.Kr,h.Fj,h.Wl,h.EJ,h.JJ,h.JL,h.sg,h.u,h.x0,l.qvL,l.nqY,l.MgK,l.VqA,l.KKC,l.PEh,l.Jmj,l.bMv,l.zDF,_.O5,g.X$],styles:[".width-280[_ngcontent-%COMP%]{width:280px}.color-57[_ngcontent-%COMP%]{color:#575757}.padding-top-3[_ngcontent-%COMP%]{padding-top:3px}"]}),a})();var F=d(208),S=d(1691),L=d(3419);function de(i,a){1&i&&(e.TgZ(0,"h3",3),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SCANNER.ADD_SCANNER")," "))}function ge(i,a){1&i&&(e.TgZ(0,"h3",3),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SCANNER.EDIT_SCANNER")," "))}function _e(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.create())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("clrLoading",t.saveBtnState)("disabled",!t.valid),e.xp6(1),e.hij(" ",e.lcZ(2,3,"BUTTON.ADD")," ")}}function he(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.save())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("clrLoading",t.saveBtnState)("disabled",!t.validForSaving),e.xp6(1),e.hij(" ",e.lcZ(2,3,"BUTTON.SAVE")," ")}}let P=(()=>{var i;class a{constructor(n,r,o){this.configScannerService=n,this.msgHandler=r,this.translate=o,this.testMap={},this.opened=!1,this.notify=new e.vpe,this.checkBtnState=l.xp5.DEFAULT,this.saveBtnState=l.xp5.DEFAULT,this.onTesting=!1,this.onSaving=!1,this.isEdit=!1}open(){this.opened=!0,this.inlineAlert.close(),this.testMap={},this.newScannerFormComponent.showEndpointError=!1,this.newScannerFormComponent.newScannerForm.reset({auth:"None"})}close(){this.opened=!1}create(){this.onSaving=!0,this.saveBtnState=l.xp5.LOADING;const n={name:"",url:""},r=this.newScannerFormComponent.newScannerForm.value;n.name=r.name,n.description=r.description,n.url=r.url,"None"===r.auth?n.auth="":"Basic"===r.auth?(n.auth=r.auth,n.access_credential=r.accessCredential.username+":"+r.accessCredential.password):"APIKey"===r.auth?(n.auth=r.auth,n.access_credential=r.accessCredential.apiKey):(n.auth=r.auth,n.access_credential=r.accessCredential.token),n.skip_certVerify=!!r.skipCertVerify,n.use_internal_addr=!!r.useInner,this.configScannerService.createScanner({registration:n}).pipe((0,u.x)(()=>this.onSaving=!1)).subscribe(o=>{this.close(),this.msgHandler.showSuccess("SCANNER.ADD_SUCCESS"),this.notify.emit(),this.saveBtnState=l.xp5.SUCCESS},o=>{this.inlineAlert.showInlineError(o),this.saveBtnState=l.xp5.ERROR})}get hasPassedTest(){return this.testMap[this.newScannerFormComponent.newScannerForm.get("url").value]}get canTestEndpoint(){return"Basic"===this.newScannerFormComponent.newScannerForm.get("auth").value?this.newScannerFormComponent.newScannerForm.get("accessCredential").get("username").valid&&this.newScannerFormComponent.newScannerForm.get("accessCredential").get("password").valid:"Bearer"===this.newScannerFormComponent.newScannerForm.get("auth").value?this.newScannerFormComponent.newScannerForm.get("accessCredential").get("token").valid:"APIKey"===this.newScannerFormComponent.newScannerForm.get("auth").value?this.newScannerFormComponent.newScannerForm.get("accessCredential").get("apiKey").valid:!this.onTesting&&this.newScannerFormComponent&&!this.newScannerFormComponent.checkOnGoing&&this.newScannerFormComponent.newScannerForm.get("name").valid&&!this.newScannerFormComponent.checkEndpointOnGoing&&this.newScannerFormComponent.newScannerForm.get("url").valid}get valid(){return!(this.onSaving||this.newScannerFormComponent.isNameExisting||this.newScannerFormComponent.isEndpointUrlExisting||this.onTesting||!this.newScannerFormComponent||this.newScannerFormComponent.checkOnGoing||this.newScannerFormComponent.checkEndpointOnGoing||this.newScannerFormComponent.newScannerForm.get("name").invalid||this.newScannerFormComponent.newScannerForm.get("url").invalid)&&("Basic"===this.newScannerFormComponent.newScannerForm.get("auth").value?this.newScannerFormComponent.newScannerForm.get("accessCredential").get("username").valid&&this.newScannerFormComponent.newScannerForm.get("accessCredential").get("password").valid:"Bearer"===this.newScannerFormComponent.newScannerForm.get("auth").value?this.newScannerFormComponent.newScannerForm.get("accessCredential").get("token").valid:"APIKey"!==this.newScannerFormComponent.newScannerForm.get("auth").value||this.newScannerFormComponent.newScannerForm.get("accessCredential").get("apiKey").valid)}get validForSaving(){return this.valid&&this.hasChange()}hasChange(){return this.originValue.name!==this.newScannerFormComponent.newScannerForm.get("name").value||this.originValue.description!==this.newScannerFormComponent.newScannerForm.get("description").value||this.originValue.url!==this.newScannerFormComponent.newScannerForm.get("url").value||this.originValue.auth!==this.newScannerFormComponent.newScannerForm.get("auth").value||this.originValue.skipCertVerify!==this.newScannerFormComponent.newScannerForm.get("skipCertVerify").value||this.originValue.useInner!==this.newScannerFormComponent.newScannerForm.get("useInner").value||"Basic"===this.originValue.auth&&(this.originValue.accessCredential.username!==this.newScannerFormComponent.newScannerForm.get("accessCredential").get("username").value||this.originValue.accessCredential.password!==this.newScannerFormComponent.newScannerForm.get("accessCredential").get("password").value)||"Bearer"===this.originValue.auth&&this.originValue.accessCredential.token!==this.newScannerFormComponent.newScannerForm.get("accessCredential").get("token").value||"APIKey"===this.originValue.auth&&this.originValue.accessCredential.apiKey!==this.newScannerFormComponent.newScannerForm.get("accessCredential").get("apiKey").value}onTestEndpoint(){this.onTesting=!0,this.checkBtnState=l.xp5.LOADING;const n={name:"",url:""},r=this.newScannerFormComponent.newScannerForm.value;n.name=r.name,n.description=r.description,n.url=r.url,"None"===r.auth?n.auth="":"Basic"===r.auth?(n.auth=r.auth,n.access_credential=r.accessCredential.username+":"+r.accessCredential.password):"APIKey"===r.auth?(n.auth=r.auth,n.access_credential=r.accessCredential.apiKey):(n.auth=r.auth,n.access_credential=r.accessCredential.token),n.skip_certVerify=!!r.skipCertVerify,n.use_internal_addr=!!r.useInner,this.configScannerService.pingScanner({settings:n}).pipe((0,u.x)(()=>this.onTesting=!1)).subscribe(o=>{this.inlineAlert.showInlineSuccess({message:"SCANNER.TEST_PASS"}),this.checkBtnState=l.xp5.SUCCESS,this.testMap[this.newScannerFormComponent.newScannerForm.get("url").value]=!0},o=>{this.translate.get("SCANNER.TEST_FAILED",{name:this.newScannerFormComponent.newScannerForm.get("name").value,url:this.newScannerFormComponent.newScannerForm.get("url").value}).subscribe(p=>{this.inlineAlert.showInlineError(p)}),this.checkBtnState=l.xp5.ERROR})}save(){this.onSaving=!0,this.saveBtnState=l.xp5.LOADING;let n=this.newScannerFormComponent.newScannerForm.value;this.editScanner.name=n.name,this.editScanner.description=n.description,this.editScanner.url=n.url,"None"===n.auth?this.editScanner.auth="":"Basic"===n.auth?(this.editScanner.auth=n.auth,this.editScanner.access_credential=n.accessCredential.username+":"+n.accessCredential.password):"APIKey"===n.auth?(this.editScanner.auth=n.auth,this.editScanner.access_credential=n.accessCredential.apiKey):(this.editScanner.auth=n.auth,this.editScanner.access_credential=n.accessCredential.token),this.editScanner.skip_certVerify=!!n.skipCertVerify,this.editScanner.use_internal_addr=!!n.useInner,this.editScanner.uuid=this.uid;const r=(0,S.d9)(this.editScanner);this.configScannerService.updateScanner({registrationId:this.editScanner.uuid,registration:r}).pipe((0,u.x)(()=>this.onSaving=!1)).subscribe(o=>{this.close(),this.msgHandler.showSuccess("SCANNER.UPDATE_SUCCESS"),this.notify.emit(),this.saveBtnState=l.xp5.SUCCESS},o=>{this.inlineAlert.showInlineError(o),this.saveBtnState=l.xp5.ERROR})}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(m.L),e.Y36(L.d),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["new-scanner-modal"]],viewQuery:function(n,r){if(1&n&&(e.Gf(D,7),e.Gf(F.l,5)),2&n){let o;e.iGM(o=e.CRH())&&(r.newScannerFormComponent=o.first),e.iGM(o=e.CRH())&&(r.inlineAlert=o.first)}},outputs:{notify:"notify"},decls:15,vars:15,consts:[[3,"clrModalOpen","clrModalStaticBackdrop","clrModalClosable","clrModalOpenChange"],["class","modal-title",4,"ngIf"],[1,"modal-body","body-format"],[1,"modal-title"],[1,"modal-footer"],["id","button-test","type","button",1,"btn","btn-outline",3,"clrLoading","disabled","click"],["id","button-cancel","type","button",1,"btn","btn-outline",3,"click"],["id","button-add","type","button","class","btn btn-primary",3,"clrLoading","disabled","click",4,"ngIf"],["id","button-save","type","button","class","btn btn-primary",3,"clrLoading","disabled","click",4,"ngIf"],["id","button-add","type","button",1,"btn","btn-primary",3,"clrLoading","disabled","click"],["id","button-save","type","button",1,"btn","btn-primary",3,"clrLoading","disabled","click"]],template:function(n,r){1&n&&(e.TgZ(0,"clr-modal",0),e.NdJ("clrModalOpenChange",function(p){return r.opened=p}),e.YNc(1,de,3,3,"h3",1),e.YNc(2,ge,3,3,"h3",1),e.TgZ(3,"div",2),e._UZ(4,"inline-alert",3)(5,"new-scanner-form"),e.qZA(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return r.onTestEndpoint()}),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"button",6),e.NdJ("click",function(){return r.close()}),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,_e,3,5,"button",7),e.YNc(14,he,3,5,"button",8),e.qZA()()),2&n&&(e.Q6J("clrModalOpen",r.opened)("clrModalStaticBackdrop",!0)("clrModalClosable",!1),e.xp6(1),e.Q6J("ngIf",!r.isEdit),e.xp6(1),e.Q6J("ngIf",r.isEdit),e.xp6(5),e.Q6J("clrLoading",r.checkBtnState)("disabled",!r.canTestEndpoint),e.xp6(1),e.hij(" ",e.lcZ(9,11,"SCANNER.TEST_CONNECTION")," "),e.xp6(3),e.hij(" ",e.lcZ(12,13,"BUTTON.CANCEL")," "),e.xp6(2),e.Q6J("ngIf",!r.isEdit),e.xp6(1),e.Q6J("ngIf",r.isEdit))},dependencies:[l.qAN,l.VLi,l.cCV,l.MPb,_.O5,F.l,D,g.X$],styles:[".form-group-override[_ngcontent-%COMP%]{padding-left:170px!important}.form-group-label-override[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.sub-label-for-input[_ngcontent-%COMP%]{position:absolute;top:26px;font-size:10px;font-weight:400;line-height:12px;left:170px}.body-format[_ngcontent-%COMP%]{overflow-y:hidden}.loading-top[_ngcontent-%COMP%]{top:8px}"]}),a})();var me=d(6266),M=d(7655),Se=d(3612);function fe(i,a){if(1&i&&(e.TgZ(0,"div",2)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",2),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&i){const t=e.oxw().index,n=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"SCANNER.CAPABILITIES_TYPE")),e.xp6(3),e.hij(" ",e.lcZ(6,4,"sbom"===(null==n.scannerMetadata||null==n.scannerMetadata.capabilities[t]?null:n.scannerMetadata.capabilities[t].type)?"SCANNER.SBOM":"vulnerability"===(null==n.scannerMetadata||null==n.scannerMetadata.capabilities[t]?null:n.scannerMetadata.capabilities[t].type)?"SCANNER.VULNERABILITY":null==n.scannerMetadata||null==n.scannerMetadata.capabilities[t]?null:n.scannerMetadata.capabilities[t].type)," ")}}function Ce(i,a){if(1&i&&(e.TgZ(0,"div",2),e._uU(1),e.TgZ(2,"div",2)(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"span",5),e.qZA(),e.TgZ(7,"div",2)(8,"span"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"span",5),e.qZA(),e.YNc(12,fe,7,6,"div",6),e.qZA()),2&i){const t=a.index,n=e.oxw();e.xp6(1),e.hij(" ",t,": "),e.xp6(3),e.Oqu(e.lcZ(5,6,"SCANNER.CONSUMES_MIME_TYPES_COLON")),e.xp6(2),e.Q6J("innerHTML",n.toString(null==n.scannerMetadata||null==n.scannerMetadata.capabilities[t]?null:n.scannerMetadata.capabilities[t].consumes_mime_types),e.oJD),e.xp6(3),e.Oqu(e.lcZ(10,8,"SCANNER.PRODUCTS_MIME_TYPES_COLON")),e.xp6(2),e.Q6J("innerHTML",n.toString(null==n.scannerMetadata||null==n.scannerMetadata.capabilities[t]?null:n.scannerMetadata.capabilities[t].produces_mime_types),e.oJD),e.xp6(1),e.Q6J("ngIf",null==n.scannerMetadata||null==n.scannerMetadata.capabilities[t]?null:n.scannerMetadata.capabilities[t].type)}}function Ae(i,a){if(1&i&&(e.TgZ(0,"div",2)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span",2),e._uU(4),e.qZA()()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(2),e.hij("",null==t?null:t.key,":"),e.xp6(2),e.Oqu(n.parseDate(t))}}let Te=(()=>{var i;class a{constructor(n,r){this.configScannerService=n,this.errorHandler=r,this.loading=!1}ngOnInit(){this.loading=!0,this.configScannerService.getScannerMetadata({registrationId:this.uid}).pipe((0,u.x)(()=>this.loading=!1)).subscribe(n=>{this.scannerMetadata=n},n=>{this.errorHandler.error(n)})}parseDate(n){return this.hasValue(n)&&this.hasDateValue(n)?new _.uU("en-us").transform(n.value,"short"):this.hasValue(n)?n.value:""}hasValue(n){return n&&n.value}hasDateValue(n){switch(n.key){case S.XZ:case S.vP:return!0;default:return!1}}toString(n){return n&&n.length>0?"["+n.join(" , ")+"]":n}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(m.L),e.Y36(M.q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["scanner-metadata"]],inputs:{uid:"uid"},decls:31,vars:26,consts:[[1,"ml-2",3,"clrLoading"],[1,"clr-control-label"],[1,"ml-1"],["id","scannerMetadata-name",1,"ml-1"],["class","ml-1",4,"ngFor","ngForOf"],[1,"ml-1",3,"innerHTML"],["class","ml-1",4,"ngIf"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"span"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span",3),e._uU(9),e.qZA()(),e.TgZ(10,"div",2)(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"span",2),e._uU(15),e.qZA()(),e.TgZ(16,"div",2)(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"span",2),e._uU(21),e.qZA()(),e.TgZ(22,"div",1),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.YNc(25,Ce,13,10,"div",4),e.TgZ(26,"div",1),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.YNc(29,Ae,5,2,"div",4),e.ALo(30,"keyvalue"),e.qZA()),2&n&&(e.Q6J("clrLoading",r.loading),e.xp6(2),e.hij(" ",e.lcZ(3,12,"SCANNER.SCANNER_COLON")," "),e.xp6(4),e.Oqu(e.lcZ(7,14,"SCANNER.NAME_COLON")),e.xp6(3),e.Oqu(null==r.scannerMetadata||null==r.scannerMetadata.scanner?null:r.scannerMetadata.scanner.name),e.xp6(3),e.Oqu(e.lcZ(13,16,"SCANNER.VENDOR_COLON")),e.xp6(3),e.Oqu(null==r.scannerMetadata||null==r.scannerMetadata.scanner?null:r.scannerMetadata.scanner.vendor),e.xp6(3),e.Oqu(e.lcZ(19,18,"SCANNER.VERSION_COLON")),e.xp6(3),e.Oqu(null==r.scannerMetadata||null==r.scannerMetadata.scanner?null:r.scannerMetadata.scanner.version),e.xp6(2),e.hij(" ",e.lcZ(24,20,"SCANNER.CAPABILITIES")," "),e.xp6(2),e.Q6J("ngForOf",null==r.scannerMetadata?null:r.scannerMetadata.capabilities),e.xp6(2),e.Oqu(e.lcZ(28,22,"SCANNER.PROPERTIES")),e.xp6(2),e.Q6J("ngForOf",e.lcZ(30,24,null==r.scannerMetadata?null:r.scannerMetadata.properties)))},dependencies:[l.cCV,_.sg,_.O5,g.X$,_.Nd]}),a})();function ve(i,a){if(1&i&&(e.TgZ(0,"clr-signpost-content")(1,"a",24),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.s9C("href",t.scannerDocUrl,e.LSH),e.xp6(1),e.Oqu(e.lcZ(3,2,"SCANNER.VIEW_DOC"))}}function Ze(i,a){1&i&&(e.TgZ(0,"span"),e._UZ(1,"clr-icon",32),e.TgZ(2,"span",27),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"WEBHOOK.ENABLED_BUTTON")))}function Ee(i,a){1&i&&(e.TgZ(0,"span"),e._UZ(1,"clr-icon",33),e.TgZ(2,"span",27),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"WEBHOOK.DISABLED_BUTTON")))}function xe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"clr-dropdown-menu")(1,"button",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.editScanner())}),e._UZ(2,"clr-icon",26),e.TgZ(3,"span",27),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"button",28),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.changeStat())}),e.YNc(7,Ze,5,3,"span",22),e.YNc(8,Ee,5,3,"span",22),e.qZA(),e._UZ(9,"div",29),e.TgZ(10,"button",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteScanners())}),e._UZ(11,"clr-icon",30),e.TgZ(12,"span",31),e._uU(13),e.ALo(14,"translate"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.selectedRow),e.xp6(3),e.Oqu(e.lcZ(5,7,"BUTTON.EDIT")),e.xp6(2),e.Q6J("disabled",!(t.selectedRow&&!t.selectedRow.is_default)),e.xp6(1),e.Q6J("ngIf",t.selectedRow&&t.selectedRow.disabled),e.xp6(1),e.Q6J("ngIf",!(t.selectedRow&&t.selectedRow.disabled)),e.xp6(2),e.Q6J("disabled",!t.selectedRow),e.xp6(3),e.Oqu(e.lcZ(14,9,"BUTTON.DELETE"))}}function be(i,a){1&i&&(e.TgZ(0,"span",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"SCANNER.DEFAULT")))}function ye(i,a){1&i&&e._UZ(0,"span",42)}function Ne(i,a){1&i&&(e.TgZ(0,"span",45),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"SCANNER.HEALTHY")))}function we(i,a){1&i&&(e.TgZ(0,"span",46),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"SCANNER.UNHEALTHY")))}function Oe(i,a){if(1&i&&(e.YNc(0,Ne,3,3,"span",43),e.YNc(1,we,3,3,"ng-template",null,44,e.W1O)),2&i){const t=e.MAs(2),n=e.oxw().$implicit;e.Q6J("ngIf",n.metadata)("ngIfElse",t)}}function Ie(i,a){1&i&&(e.TgZ(0,"div",47),e._UZ(1,"clr-icon",48),e.TgZ(2,"span",49),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"WEBHOOK.ENABLED")))}function Ue(i,a){1&i&&(e.TgZ(0,"div",47),e._UZ(1,"clr-icon",50),e.TgZ(2,"span",49),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"WEBHOOK.DISABLED")))}function Le(i,a){if(1&i&&e._UZ(0,"scanner-metadata",51),2&i){const t=e.oxw().$implicit;e.Q6J("uid",t.uuid)}}function Me(i,a){if(1&i&&(e.TgZ(0,"clr-dg-row",34)(1,"clr-dg-cell",35)(2,"span"),e._uU(3),e.qZA(),e.YNc(4,be,3,3,"span",36),e.qZA(),e.TgZ(5,"clr-dg-cell"),e._uU(6),e.qZA(),e.TgZ(7,"clr-dg-cell",35),e.YNc(8,ye,1,0,"span",37),e.YNc(9,Oe,3,2,"ng-template",null,38,e.W1O),e.qZA(),e.TgZ(11,"clr-dg-cell"),e.YNc(12,Ie,5,3,"div",39),e.YNc(13,Ue,5,3,"div",39),e.qZA(),e.TgZ(14,"clr-dg-cell"),e._uU(15),e.qZA(),e.TgZ(16,"clr-dg-cell"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"clr-dg-cell"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"clr-dg-cell"),e._uU(23),e.qZA(),e.YNc(24,Le,1,1,"scanner-metadata",40),e.qZA()),2&i){const t=a.$implicit,n=e.MAs(10),r=e.oxw();e.Q6J("clrDgItem",t),e.xp6(3),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",t.is_default),e.xp6(2),e.Oqu(t.url),e.xp6(2),e.Q6J("ngIf",t.loadingMetadata)("ngIfElse",n),e.xp6(4),e.Q6J("ngIf",!t.disabled),e.xp6(1),e.Q6J("ngIf",t.disabled),e.xp6(2),e.Oqu(t.auth?t.auth:"None"),e.xp6(2),e.Oqu(e.lcZ(18,12,r.supportCapability(t,"vulnerability")?"SCANNER.SUPPORTED":"SCANNER.NOT_SUPPORTED")),e.xp6(3),e.Oqu(e.lcZ(21,14,r.supportCapability(t,"sbom")?"SCANNER.SUPPORTED":"SCANNER.NOT_SUPPORTED")),e.xp6(3),e.Oqu(t.description)}}function Re(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){e.oxw();const t=e.MAs(58);e.xp6(1),e.lnq("",t.firstItem+1," - ",t.lastItem+1," ",e.lcZ(2,3,"DESTINATION.OF"),"")}}const qe=function(){return[15,25,50]};let De=(()=>{var i;class a{constructor(n,r,o,p){this.configScannerService=n,this.errorHandler=r,this.msgHandler=o,this.deletionDialogService=p,this.scanners=[],this.onGoing=!0,this.scannerDocUrl=A.f,this.page=1,this.pageSize=(0,S.tb)(S.V2.SYSTEM_SCANNER_COMPONENT),this.total=0}ngOnInit(){this.deletionSubscription||(this.deletionSubscription=this.deletionDialogService.confirmationConfirm$.subscribe(n=>{n&&14===n.source&&1===n.state&&this.configScannerService.deleteScanner({registrationId:n.data[0].uuid}).subscribe(r=>{this.msgHandler.showSuccess("SCANNER.DELETE_SUCCESS"),this.refresh()},r=>{this.errorHandler.error(r)})}))}ngOnDestroy(){this.deletionSubscription&&(this.deletionSubscription.unsubscribe(),this.deletionSubscription=null)}refresh(){this.page=1,this.selectedRow=null,this.total=0,this.getScanners(this.state)}getScanners(n){let r,o;this.state=n,n&&n.page&&(this.pageSize=n.page.size,(0,S.Pe)(S.V2.SYSTEM_SCANNER_COMPONENT,this.pageSize)),n&&n.filters&&n.filters.length&&(r=encodeURIComponent(`${n.filters[0].property}=~${n.filters[0].value}`)),o=n&&n.sort&&n.sort.by?(0,S.td)(n):"-creation_time",this.onGoing=!0,this.configScannerService.listScannersResponse({page:this.page,pageSize:this.pageSize,q:r,sort:o}).pipe((0,u.x)(()=>this.onGoing=!1)).subscribe(p=>{if(p.headers){let v=p.headers.get("X-Total-Count");v&&(this.total=parseInt(v,0))}this.scanners=p.body||[],this.getMetadataForAll()},p=>{this.errorHandler.error(p)})}getMetadataForAll(){this.scanners&&this.scanners.length>0&&this.scanners.forEach((n,r)=>{n.uuid&&(this.scanners[r].loadingMetadata=!0,this.configScannerService.getScannerMetadata({registrationId:n.uuid}).pipe((0,u.x)(()=>this.scanners[r].loadingMetadata=!1)).subscribe(o=>{this.scanners[r].metadata=o},o=>{this.scanners[r].metadata=null}))})}addNewScanner(){this.newScannerDialog.open(),this.newScannerDialog.isEdit=!1,this.newScannerDialog.newScannerFormComponent.isEdit=!1}addSuccess(){this.getScanners()}supportCapability(n,r){return!!(n&&n.capabilities&&r)&&(n?.capabilities?.[`support_${r}`]??!1)}changeStat(){if(this.selectedRow){let n=(0,S.d9)(this.selectedRow);n.disabled=!n.disabled,this.configScannerService.updateScanner({registrationId:this.selectedRow.uuid,registration:n}).subscribe(r=>{this.msgHandler.showSuccess("SCANNER.UPDATE_SUCCESS"),this.refresh()},r=>{this.errorHandler.error(r)})}}setAsDefault(){this.selectedRow&&this.configScannerService.setScannerAsDefault({registrationId:this.selectedRow.uuid,payload:{is_default:!0}}).subscribe(n=>{this.msgHandler.showSuccess("SCANNER.UPDATE_SUCCESS"),this.refresh()},n=>{this.errorHandler.error(n)})}deleteScanners(){if(this.selectedRow){let n=new me.c("SCANNER.CONFIRM_DELETION","SCANNER.DELETION_SUMMARY",this.selectedRow.name,[this.selectedRow],14,2);this.deletionDialogService.openComfirmDialog(n)}}editScanner(){if(this.selectedRow){this.newScannerDialog.open();let n={};if(n.name=this.selectedRow.name,n.description=this.selectedRow.description,n.url=this.selectedRow.url,n.skipCertVerify=this.selectedRow.skip_certVerify,n.useInner=this.selectedRow.use_internal_addr,"Basic"===this.selectedRow.auth){n.auth="Basic";let r=this.selectedRow.access_credential.split(":")[0],o=this.selectedRow.access_credential.split(":")[1];n.accessCredential={username:r,password:o}}else"Bearer"===this.selectedRow.auth?(n.auth="Bearer",n.accessCredential={token:this.selectedRow.access_credential}):"APIKey"===this.selectedRow.auth?(n.auth="APIKey",n.accessCredential={apiKey:this.selectedRow.access_credential}):n.auth="None";this.newScannerDialog.newScannerFormComponent.newScannerForm.reset(n),this.newScannerDialog.isEdit=!0,this.newScannerDialog.newScannerFormComponent.isEdit=!0,this.newScannerDialog.uid=this.selectedRow.uuid,this.newScannerDialog.originValue=(0,S.d9)(n),this.newScannerDialog.newScannerFormComponent.originValue=(0,S.d9)(n),this.newScannerDialog.editScanner=(0,S.d9)(this.selectedRow)}}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(m.L),e.Y36(M.q),e.Y36(L.d),e.Y36(Se.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["config-scanner"]],viewQuery:function(n,r){if(1&n&&e.Gf(P,5),2&n){let o;e.iGM(o=e.CRH())&&(r.newScannerDialog=o.first)}},decls:66,vars:60,consts:[[1,"row"],[1,"mt-1"],[4,"clrIfOpen"],[3,"clrDgLoading","clrDgSingleSelected","clrDgRefresh","clrDgSingleSelectedChange"],[1,"clr-row"],[1,"clr-col-7"],["type","button",1,"btn","btn-secondary",3,"click"],["shape","plus","size","16"],["id","set-default",1,"btn","btn-secondary",3,"disabled","click"],["clrDropdownTrigger","",1,"btn","btn-link",3,"clrCloseMenuOnItemClick"],["id","action-scanner"],["shape","caret down",1,"clr-icon"],[1,"clr-col-5"],[1,"action-head-pos"],[1,"refresh-btn",3,"click"],["shape","refresh",3,"hidden"],[1,"width-240",3,"clrDgField"],[1,"width-120"],[3,"clrDgItem",4,"ngFor","ngForOf"],[3,"clrDgPageSize","clrDgPage","clrDgTotalItems","clrDgPageChange"],["pagination",""],[3,"clrPageSizeOptions"],[4,"ngIf"],[3,"notify"],["rel","noopener noreferrer","target","_blank",1,"doc",3,"href"],["clrDropdownItem","",1,"btn","btn-secondary",3,"disabled","click"],["size","16","shape","pencil",1,"margin-top-0"],[1,"margin-left-10"],["clrDropdownItem","",3,"disabled","click"],[1,"dropdown-divider"],["size","16","shape","times",1,"margin-top-0"],["id","delete-scanner-action",1,"margin-left-10"],["size","16","shape","success-standard",1,"margin-top-2"],["size","16","shape","ban",1,"margin-top-2"],[3,"clrDgItem"],[1,"position-relative"],["class","label label-info ml-1",4,"ngIf"],["class","spinner spinner-inline ml-2",4,"ngIf","ngIfElse"],["elseBlockLoading",""],["class","icon-wrap",4,"ngIf"],["ngProjectAs","clr-dg-row-detail",5,["clr-dg-row-detail"],3,"uid",4,"clrIfExpanded"],[1,"label","label-info","ml-1"],[1,"spinner","spinner-inline","ml-2"],["class","label label-success",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"label","label-success"],[1,"label","label-danger"],[1,"icon-wrap"],["shape","check-circle","size","20",1,"is-success","enabled-icon"],[1,"margin-left-5px"],["shape","exclamation-triangle","size","20",1,"is-warning"],["ngProjectAs","clr-dg-row-detail",5,["clr-dg-row-detail"],3,"uid"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div")(2,"h4",1),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"clr-signpost"),e.YNc(6,ve,4,4,"clr-signpost-content",2),e.qZA()(),e.TgZ(7,"clr-datagrid",3),e.NdJ("clrDgRefresh",function(p){return r.getScanners(p)})("clrDgSingleSelectedChange",function(p){return r.selectedRow=p}),e.TgZ(8,"clr-dg-action-bar")(9,"div",4)(10,"div",5)(11,"button",6),e.NdJ("click",function(){return r.addNewScanner()}),e._UZ(12,"clr-icon",7),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"button",8),e.NdJ("click",function(){return r.setAsDefault()}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"clr-dropdown",9)(19,"span",10),e._uU(20),e.ALo(21,"translate"),e._UZ(22,"clr-icon",11),e.qZA(),e.YNc(23,xe,15,11,"clr-dropdown-menu",2),e.qZA()(),e.TgZ(24,"div",12)(25,"div",13)(26,"span",14),e.NdJ("click",function(){return r.refresh()}),e._UZ(27,"clr-icon",15),e.qZA()()()()(),e.TgZ(28,"clr-dg-column",16),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"clr-dg-column",16),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"clr-dg-column",17),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"clr-dg-column",17),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"clr-dg-column",17),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"clr-dg-column",17),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"clr-dg-column",17),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"clr-dg-column"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"clr-dg-placeholder"),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.YNc(55,Me,25,16,"clr-dg-row",18),e.TgZ(56,"clr-dg-footer")(57,"clr-dg-pagination",19,20),e.NdJ("clrDgPageChange",function(p){return r.page=p}),e.TgZ(59,"clr-dg-page-size",21),e._uU(60),e.ALo(61,"translate"),e.qZA(),e.YNc(62,Re,3,5,"span",22),e._uU(63),e.ALo(64,"translate"),e.qZA()()()(),e.TgZ(65,"new-scanner-modal",23),e.NdJ("notify",function(){return r.addSuccess()}),e.qZA()()),2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,29,"SCANNER.IMAGE_SCANNERS")," "),e.xp6(4),e.Q6J("clrDgLoading",r.onGoing)("clrDgSingleSelected",r.selectedRow),e.xp6(6),e.hij(" ",e.lcZ(14,31,"SCANNER.NEW_SCANNER")," "),e.xp6(2),e.Q6J("disabled",!(r.selectedRow&&!r.selectedRow.is_default&&!r.selectedRow.disabled)),e.xp6(1),e.hij(" ",e.lcZ(17,33,"SCANNER.SET_AS_DEFAULT")," "),e.xp6(2),e.Q6J("clrCloseMenuOnItemClick",!1),e.xp6(2),e.Oqu(e.lcZ(21,35,"MEMBER.ACTION")),e.xp6(7),e.Q6J("hidden",r.onGoing),e.xp6(1),e.Q6J("clrDgField","name"),e.xp6(1),e.Oqu(e.lcZ(30,37,"SCANNER.NAME")),e.xp6(2),e.Q6J("clrDgField","url"),e.xp6(1),e.Oqu(e.lcZ(33,39,"SCANNER.ENDPOINT")),e.xp6(3),e.Oqu(e.lcZ(36,41,"SCANNER.HEALTH")),e.xp6(3),e.Oqu(e.lcZ(39,43,"SCANNER.ENABLED")),e.xp6(3),e.Oqu(e.lcZ(42,45,"SCANNER.AUTH")),e.xp6(3),e.Oqu(e.lcZ(45,47,"SCANNER.VULNERABILITY")),e.xp6(3),e.Oqu(e.lcZ(48,49,"SCANNER.SBOM")),e.xp6(3),e.Oqu(e.lcZ(51,51,"SCANNER.DESCRIPTION")),e.xp6(3),e.hij(" ",e.lcZ(54,53,"SCANNER.NO_SCANNER")," "),e.xp6(2),e.Q6J("ngForOf",r.scanners),e.xp6(2),e.Q6J("clrDgPageSize",r.pageSize)("clrDgPage",r.page)("clrDgTotalItems",r.total),e.xp6(2),e.Q6J("clrPageSizeOptions",e.DdM(59,qe)),e.xp6(1),e.Oqu(e.lcZ(61,55,"PAGINATION.PAGE_SIZE")),e.xp6(2),e.Q6J("ngIf",r.total),e.xp6(1),e.AsE(" ",r.total," ",e.lcZ(64,57,"DESTINATION.ITEMS")," "))},dependencies:[l.C9t,l.Gwl,l.fv_,l.m4W,l.dRQ,l.YYR,l.Ltv,l.F7K,l.Z4N,l.Nz$,l.jND,l.KHL,l.PDs,l.Gcc,l.dml,l.Nh1,l.K8c,l.qvL,l.nqY,l.DbV,l.f_W,l.zwp,l.ZUS,l.lU3,l.EuU,l.hQ,_.sg,_.O5,P,Te,g.X$],styles:[".action-head-pos[_ngcontent-%COMP%]{padding-right:18px;height:24px;display:flex;justify-content:flex-end}.refresh-btn[_ngcontent-%COMP%]{cursor:pointer;margin-top:7px}.margin-left-5[_ngcontent-%COMP%]{margin-left:5px}.width-240[_ngcontent-%COMP%]{min-width:240px!important}.width-120[_ngcontent-%COMP%]{min-width:120px!important}.margin-top-0[_ngcontent-%COMP%]{margin-top:0}.margin-top-2[_ngcontent-%COMP%]{margin-top:2px}.margin-left-10[_ngcontent-%COMP%]{margin-left:10px}.doc[_ngcontent-%COMP%]{font-size:.7rem}",".config-title[_ngcontent-%COMP%]{display:inline-block}.tooltip-position[_ngcontent-%COMP%]{top:-7px}.clr-form-control-disabled[_ngcontent-%COMP%]{opacity:1}.v-mid[_ngcontent-%COMP%]{vertical-align:middle}"]}),a})();var V=d(5205),Fe=d(6177),Pe=d(3924),O=d(8504),I=d(6306),G=d(9862);class R{}let Ve=(()=>{var i;class a extends R{constructor(n){super(),this.http=n}postSchedule(n){return this.http.post(`${S.S$}/system/scanAll/schedule`,n).pipe((0,I.K)(r=>(0,O._)(r)))}putSchedule(n){return this.http.put(`${S.S$}/system/scanAll/schedule`,n).pipe((0,I.K)(r=>(0,O._)(r)))}getSchedule(){return this.http.get(`${S.S$}/system/scanAll/schedule`).pipe((0,I.K)(n=>(0,O._)(n)))}}return(i=a).\u0275fac=function(n){return new(n||i)(e.LFG(G.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),a})(),Y=(()=>{var i;class a{constructor(n,r){this.http=n,this.scanApiRepository=r}manualScan(){return this.scanApiRepository.postSchedule({schedule:{type:"Manual"}})}getSchedule(){return this.scanApiRepository.getSchedule()}postSchedule(n,r){return this.scanApiRepository.postSchedule({schedule:{type:n,cron:r}})}putSchedule(n,r){return this.scanApiRepository.putSchedule({schedule:{type:n,cron:r}})}getMetrics(){return this.http.get(S.S$+"/scans/all/metrics").pipe((0,I.K)(n=>(0,O._)(n))).pipe((0,E.U)(n=>n))}getScanners(){return this.http.get(S.S$+"/scanners").pipe((0,I.K)(n=>(0,O._)(n)))}getScannerMetadata(n){return this.http.get(`${S.S$}/scanners/${n}/metadata`).pipe((0,I.K)(r=>(0,O._)(r)))}}return(i=a).\u0275fac=function(n){return new(n||i)(e.LFG(G.eN),e.LFG(R))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),a})();var Ge=d(4910),Ye=d(575);function ke(i,a){1&i&&e._UZ(0,"span",2)}function Je(i,a){if(1&i&&(e.TgZ(0,"div",13)(1,"label",14),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"CONFIG.SCANNING.DB_REFRESH_TIME")),e.xp6(3),e.hij("",t.updatedTimeStr," ")}}function He(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"CONFIG.SCANNING.SCAN_NOW")))}function Be(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"VULNERABILITY.STOP_NOW")))}function Qe(i,a){1&i&&(e.TgZ(0,"span",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"CONFIG.SCANNING.MANUAL")))}function je(i,a){1&i&&(e.TgZ(0,"span",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"CONFIG.SCANNING.SCHEDULED")))}const Ke=function(i,a,t,n){return{error:i,finished:a,"in-progress":t,abort:n}};function ze(i,a){if(1&i&&(e.TgZ(0,"div",27)(1,"div",28)(2,"span",29),e._uU(3),e.qZA()(),e.TgZ(4,"div",30),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&i){const t=a.$implicit,n=e.oxw(3);e.xp6(2),e.Q6J("ngClass",e.l5B(5,Ke,n.isError(null==t?null:t.key),n.isFinished(null==t?null:t.key),n.isInProgress(null==t?null:t.key),n.isAborted(null==t?null:t.key))),e.xp6(1),e.Oqu(null==t?null:t.value),e.xp6(2),e.hij(" ",e.lcZ(6,3,n.getI18nKey(null==t?null:t.key))," ")}}function $e(i,a){if(1&i&&(e.TgZ(0,"div",15)(1,"div",16),e.YNc(2,Qe,3,3,"span",17),e.YNc(3,je,3,3,"span",17),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"span",18),e._uU(8),e.qZA()(),e.TgZ(9,"div",19),e._UZ(10,"div",20)(11,"div",21)(12,"div",22)(13,"div",23),e.qZA(),e.TgZ(14,"div",24),e.YNc(15,ze,7,10,"div",25),e.ALo(16,"keyvalue"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.Udp("width",t.totalWidth+"px"),e.xp6(1),e.Q6J("ngIf",t.isManual()),e.xp6(1),e.Q6J("ngIf",t.isSchedule()),e.xp6(2),e.Oqu(e.lcZ(6,19,"SCANNER.TOTAL")),e.xp6(3),e.Oqu(null==t.scanningMetrics?null:t.scanningMetrics.total),e.xp6(1),e.Udp("width",t.totalWidth+"px"),e.xp6(1),e.Udp("width",t.errorWidth()),e.xp6(1),e.Udp("width",t.finishedWidth()),e.xp6(1),e.Udp("width",t.runningWidth()),e.xp6(1),e.Udp("width",t.abortWidth()),e.xp6(1),e.Udp("width",t.totalWidth+"px"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(16,21,null==t.scanningMetrics?null:t.scanningMetrics.metrics))}}function We(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"section",3),e.YNc(2,Je,6,4,"div",4),e.TgZ(3,"div",5)(4,"cron-selection",6),e.NdJ("inputvalue",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.saveSchedule(r))}),e.qZA()()(),e.TgZ(5,"div",7)(6,"div",8)(7,"div",9)(8,"button",10),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.scanOrStop())}),e.YNc(9,He,3,3,"span",1),e.YNc(10,Be,3,3,"span",1),e.qZA(),e._UZ(11,"span",11),e.qZA()(),e.YNc(12,$e,17,23,"div",12),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.updatedTimeStr),e.xp6(2),e.Q6J("disabled",!t.hasDefaultScanner)("labelCurrent",t.getLabelCurrent)("labelEdit",t.getLabelCurrent)("originCron",t.originCron),e.xp6(4),e.Q6J("disabled",t.onSubmitting||!t.hasDefaultScanner),e.xp6(1),e.Q6J("ngIf",!t.isOnScanning()),e.xp6(1),e.Q6J("ngIf",t.isOnScanning()),e.xp6(1),e.Q6J("hidden",!t.isOnScanning()),e.xp6(1),e.Q6J("ngIf",t.scanningMetrics&&t.scanningMetrics.total)}}const k="None";let en=(()=>{var i;class a{constructor(n,r,o,p){this.scanningService=n,this.newScanAllService=r,this.errorHandlerEntity=o,this.translate=p,this.onSubmitting=!1,this.openState=!1,this.totalWidth=200,this.i18nKeyMap={Pending:"CONFIG.SCANNING.STATUS.PENDING",Running:"CONFIG.SCANNING.STATUS.RUNNING",Stopped:"CONFIG.SCANNING.STATUS.STOPPED",Error:"CONFIG.SCANNING.STATUS.ERROR",Success:"CONFIG.SCANNING.STATUS.SUCCESS",Scheduled:"CONFIG.SCANNING.STATUS.SCHEDULED"},this.hasDefaultScanner=!1}get scanningMetrics(){return this._scanningMetrics}set scanningMetrics(n){this._scanningMetrics=n}get scanAvailable(){return!this.onSubmitting&&!this.gettingMetrics&&!this.isOnScanning()&&this.hasDefaultScanner}getScanText(){this.translate.get("CONFIG.SCANNING.SCHEDULE_TO_SCAN_ALL").subscribe(n=>{this.getLabelCurrent=n})}getSchedule(){this.onGoing=!0,this.scanningService.getSchedule().pipe((0,u.x)(()=>{this.onGoing=!1})).subscribe(n=>{this.initSchedule(n)},n=>{this.errorHandlerEntity.error(n)})}getScanners(){this.onGettingUpdatedTimeStr=!0,this.scanningService.getScanners().subscribe(n=>{let r=!1;n&&n.length&&n.forEach(o=>{o.is_default&&(r=!0,this.getMetrics(),this.getSchedule(),this.getScannerMetadata(o.uuid))}),r&&(this.hasDefaultScanner=!0),r||(this.onGettingUpdatedTimeStr=!1,this.translate.get("SCANNER.NO_DEFAULT_SCANNER").subscribe(o=>{this.errorHandlerEntity.warning(o)}))},n=>{this.onGettingUpdatedTimeStr=!1})}getScannerMetadata(n){this.scanningService.getScannerMetadata(n).pipe((0,u.x)(()=>this.onGettingUpdatedTimeStr=!1)).subscribe(r=>{if(r&&r.properties)for(let o in r.properties)o===S.XZ&&r.properties[o]&&(this.updatedTimeStr=new _.uU("en-us").transform(r.properties[o],"short"))})}initSchedule(n){n&&null!==n.schedule?(this.schedule=n,this.originCron=this.schedule.schedule):this.originCron={type:k,cron:""}}ngOnInit(){this.getScanText(),this.getScanners()}ngOnDestroy(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null)}isOnScanning(){return this.scanningMetrics&&this.scanningMetrics.ongoing}getMetrics(){this.gettingMetrics=!0,this.scanningService.getMetrics().pipe((0,u.x)(()=>this.gettingMetrics=!1)).subscribe(n=>{n&&(n.ongoing&&(this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this._timeout||(this._timeout=setTimeout(()=>{this.getMetrics()},5e3))),this.scanningMetrics=n)})}getI18nKey(n){return n&&this.i18nKeyMap[n]?this.i18nKeyMap[n]:n}errorWidth(){return this.scanningMetrics&&this.scanningMetrics.metrics&&this.scanningMetrics.total&&this.scanningMetrics.metrics[S.Iy.ERROR]?this.scanningMetrics.metrics[S.Iy.ERROR]/this.scanningMetrics.total*this.totalWidth+"px":"0"}finishedWidth(){return this.scanningMetrics&&this.scanningMetrics.metrics&&this.scanningMetrics.total&&this.scanningMetrics.metrics[S.Iy.SUCCESS]?this.scanningMetrics.metrics[S.Iy.SUCCESS]/this.scanningMetrics.total*this.totalWidth+"px":"0"}runningWidth(){return this.scanningMetrics&&this.scanningMetrics.metrics&&this.scanningMetrics.total&&this.scanningMetrics.metrics[S.Iy.RUNNING]?this.scanningMetrics.metrics[S.Iy.RUNNING]/this.scanningMetrics.total*this.totalWidth+"px":"0"}abortWidth(){return this.scanningMetrics&&this.scanningMetrics.metrics&&this.scanningMetrics.total&&this.scanningMetrics.metrics[S.Iy.STOPPED]?this.scanningMetrics.metrics[S.Iy.STOPPED]/this.scanningMetrics.total*this.totalWidth+"px":"0"}scanNow(){this.onSubmitting||this.scanAvailable&&(this.onSubmitting=!0,this.scanningService.manualScan().pipe((0,u.x)(()=>this.onSubmitting=!1)).subscribe(()=>{this.translate.get("CONFIG.SCANNING.TRIGGER_SCAN_ALL_SUCCESS").subscribe(n=>{this.errorHandlerEntity.info(n)}),this.scanningMetrics=null,this.getMetrics()},n=>{n&&n.status&&412===n.status?this.translate.get("CONFIG.SCANNING.TRIGGER_SCAN_ALL_FAIL",{error:""+(0,Pe.Po)(n)}).subscribe(r=>{this.errorHandlerEntity.error(r)}):this.errorHandlerEntity.error(n)}))}reset(n){this.schedule={schedule:{type:this.CronScheduleComponent.scheduleType,cron:n}}}saveSchedule(n){let r=this.schedule;r&&r.schedule&&r.schedule.type!==k?this.scanningService.putSchedule(this.CronScheduleComponent.scheduleType,n).subscribe(o=>{this.translate.get("CONFIG.SAVE_SUCCESS").subscribe(p=>{this.errorHandlerEntity.info(p),this.CronScheduleComponent.resetSchedule()}),this.reset(n)},o=>{this.errorHandlerEntity.error(o)}):this.scanningService.postSchedule(this.CronScheduleComponent.scheduleType,n).subscribe(o=>{this.translate.get("CONFIG.SAVE_SUCCESS").subscribe(p=>{this.errorHandlerEntity.info(p),this.CronScheduleComponent.resetSchedule()}),this.reset(n)},o=>{this.errorHandlerEntity.error(o)})}isError(n){return n===S.Iy.ERROR}isFinished(n){return n===S.Iy.SUCCESS}isInProgress(n){return n===S.Iy.RUNNING}isAborted(n){return n===S.Iy.STOPPED}isManual(){return this.scanningMetrics&&this.scanningMetrics.trigger===V.K2.MANUAL}isSchedule(){return this.scanningMetrics&&this.scanningMetrics.trigger===V.K2.SCHEDULE}scanOrStop(){this.isOnScanning()?this.stopNow():this.scanNow()}stopNow(){this.onSubmitting=!0,this.newScanAllService.stopScanAll().pipe((0,u.x)(()=>this.onSubmitting=!1)).subscribe(n=>{this.errorHandlerEntity.info("CONFIG.SCANNING.STOP_SCAN_ALL_SUCCESS")},n=>{this.errorHandlerEntity.error(n)})}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(Y),e.Y36(Ge.M),e.Y36(M.q),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["vulnerability-config"]],viewQuery:function(n,r){if(1&n&&e.Gf(Fe.xp,5),2&n){let o;e.iGM(o=e.CRH())&&(r.CronScheduleComponent=o.first)}},decls:2,vars:2,consts:[["class","mt-1 ml-1 spinner spinner-inline",4,"ngIf"],[4,"ngIf"],[1,"mt-1","ml-1","spinner","spinner-inline"],[1,"form-block"],["class","mt-1 display-flex",4,"ngIf"],[1,"button-group"],[1,"w-100",3,"disabled","labelCurrent","labelEdit","originCron","inputvalue"],[1,"clr-row"],[1,"clr-col-2","flex-200"],[1,"btn-scan-right","btn-scan","margin-top-16px"],["id","scan",1,"btn","btn-primary","btn-scan",3,"disabled","click"],[1,"spinner","spinner-inline","margin-left-5","v-mid",3,"hidden"],["class","clr-col",4,"ngIf"],[1,"mt-1","display-flex"],[1,"update-time"],[1,"clr-col"],[1,"total"],["class","float-left",4,"ngIf"],[1,"margin-left-5"],["id","scan-result-container",1,"container"],[1,"error","h-100"],[1,"finished","h-100"],[1,"in-progress","h-100"],[1,"abort","h-100"],[1,"state-container"],["class","clr-row m-0",4,"ngFor","ngForOf"],[1,"float-left"],[1,"clr-row","m-0"],[1,"state"],[1,"badge",3,"ngClass"],[1,"value"]],template:function(n,r){1&n&&(e.YNc(0,ke,1,0,"span",0),e.YNc(1,We,13,10,"ng-container",1)),2&n&&(e.Q6J("ngIf",r.onGettingUpdatedTimeStr||r.onGoing),e.xp6(1),e.Q6J("ngIf",!(r.onGettingUpdatedTimeStr||r.onGoing)))},dependencies:[l.MgK,_.mk,_.sg,_.O5,Ye.x,g.X$,_.Nd],styles:[".form-group-override[_ngcontent-%COMP%]{padding-left:0!important}.vertical-center[_ngcontent-%COMP%]{display:flex;align-items:center}.normal-wrapper[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:not(:first-child){margin-right:18px}.section-title[_ngcontent-%COMP%]{font-size:14px!important;font-weight:600!important}.btn-font[_ngcontent-%COMP%]{font-size:12px!important}.clr-dropdown-override[_ngcontent-%COMP%]{margin-top:-8px}.clr-dropdown-override[_ngcontent-%COMP%]   .dropdown-namespace[_ngcontent-%COMP%]{min-width:300px}.clr-dropdown-override[_ngcontent-%COMP%]   .dropdown-namespace[_ngcontent-%COMP%]   .namespace[_ngcontent-%COMP%]{margin-left:24px}.button-group[_ngcontent-%COMP%]{display:flex;align-items:center}.button-group[_ngcontent-%COMP%]   .btn-scan-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:160px;margin-bottom:0;margin-top:41px}.update-time[_ngcontent-%COMP%]{font-size:.5417rem;width:200px;padding-right:1rem}.font-style[_ngcontent-%COMP%]{color:#000}.margin-left-5[_ngcontent-%COMP%]{margin-left:5px}.margin-top-16px[_ngcontent-%COMP%]{margin-top:16px}.v-mid[_ngcontent-%COMP%]{vertical-align:middle}.flex-200[_ngcontent-%COMP%]{flex:0 0 200px}.total[_ngcontent-%COMP%]{text-align:right;line-height:15px;height:15px;font-size:10px;margin-top:7px;margin-bottom:3px}.info[_ngcontent-%COMP%]{height:18px;line-height:18px;font-size:14px}.container[_ngcontent-%COMP%]{height:18px;display:flex;background-color:#eee}.state[_ngcontent-%COMP%]{flex:1;padding-left:3px}.value[_ngcontent-%COMP%]{flex:3}.float-left[_ngcontent-%COMP%]{float:left}.display-flex[_ngcontent-%COMP%]{display:flex}.error[_ngcontent-%COMP%]{background-color:#e62700}.finished[_ngcontent-%COMP%]{background-color:#62a420}.in-progress[_ngcontent-%COMP%]{background-color:#0079b8}.abort[_ngcontent-%COMP%]{background-color:#cccc15}.badge[_ngcontent-%COMP%]{min-width:30px}.info-tips-icon[_ngcontent-%COMP%]{color:gray}.info-tips-icon[_ngcontent-%COMP%]:hover{color:#007cbb}.replication-config[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.replication-text[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.replication-tooltip[_ngcontent-%COMP%]{top:-8px}.margin-top-3px[_ngcontent-%COMP%]{margin-top:3px}"]}),a})(),nn=(()=>{var i;class a{constructor(){}}return(i=a).\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-interrogation-services"]],decls:18,vars:12,consts:[["sub-header-title","",1,"custom-h2"],[1,"mt-1"],[1,"nav"],[1,"nav-item"],["routerLink","security-hub","routerLinkActive","active",1,"nav-link"],["routerLink","scanners","routerLinkActive","active",1,"nav-link"],["routerLink","vulnerability","routerLinkActive","active",1,"nav-link"]],template:function(n,r){1&n&&(e.TgZ(0,"h2",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"nav",1)(4,"ul",2)(5,"li",3)(6,"a",4),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"li",3)(10,"a",5),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"li",3)(14,"a",6),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e._UZ(17,"router-outlet")),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,4,"SIDE_NAV.SYSTEM_MGMT.INTERROGATION_SERVICES"),"\n"),e.xp6(6),e.Oqu(e.lcZ(8,6,"SECURITY_HUB.SECURITY_HUB")),e.xp6(4),e.Oqu(e.lcZ(12,8,"SCANNER.SCANNERS")),e.xp6(4),e.Oqu(e.lcZ(16,10,"CONFIG.VULNERABILITY")))},dependencies:[T.lC,T.rH,T.Od,g.X$],styles:[".sub-header-title[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:12px}.subnav[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{padding-left:0}.role-label[_ngcontent-%COMP%]{color:#ccc;font-size:14px;font-style:italic;letter-spacing:.01em}.backStyle[_ngcontent-%COMP%]{color:#007cbb;font-size:12px;cursor:pointer}"]}),a})();var s=d(3179);function tn(i,a){1&i&&(e.TgZ(0,"clr-tooltip-content",18)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"SECURITY_HUB.TOOLTIP")))}function rn(i,a){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"clr-tooltip"),e._UZ(4,"clr-icon",16),e.YNc(5,tn,4,3,"clr-tooltip-content",17),e.qZA(),e.BQk()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"SECURITY_HUB.FILTER_BY")))}function an(i,a){if(1&i&&(e.TgZ(0,"option",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.s9C("value",t.OptionType.ALL),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.OptionType_I18n_Map[t.OptionType.ALL])," ")}}function on(i,a){if(1&i&&(e.TgZ(0,"option",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=a.$implicit,n=e.oxw(2);e.s9C("value",t),e.xp6(1),e.hij(" ",e.lcZ(2,2,n.OptionType_I18n_Map[t])," ")}}const U=function(){return{standalone:!0}};function ln(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",20)(1,"input",21),e.NdJ("ngModelChange",function(r){e.CHM(t);const o=e.oxw().index,p=e.oxw();return e.KtG(p.valueMap[p.selectedOptions[o]]=r)}),e.qZA()()}if(2&i){const t=e.oxw().index,n=e.oxw();e.xp6(1),e.Q6J("ngModelOptions",e.DdM(2,U))("ngModel",n.valueMap[n.selectedOptions[t]])}}function sn(i,a){if(1&i&&(e.TgZ(0,"option",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=a.$implicit;e.s9C("value",t.severity),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.severityLevel)," ")}}function cn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"select",23),e.NdJ("ngModelChange",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.severity=r)}),e.YNc(2,sn,3,4,"option",12),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.severity)("ngModelOptions",e.DdM(3,U)),e.xp6(1),e.Q6J("ngForOf",t.SEVERITY_OPTIONS)}}function un(i,a){1&i&&(e.TgZ(0,"clr-control-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"SECURITY_HUB.INVALID_VALUE")))}function pn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",20)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",21),e.NdJ("ngModelChange",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.startScore=r)}),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"input",21),e.NdJ("ngModelChange",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.endScore=r)}),e.qZA(),e.YNc(9,un,3,3,"clr-control-error",7),e.qZA()}if(2&i){const t=e.oxw(2);e.ekj("clr-error",t.isInvalid()),e.xp6(2),e.Oqu(e.lcZ(3,9,"BANNER_MESSAGE.FROM")),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(13,U))("ngModel",t.startScore),e.xp6(2),e.Oqu(e.lcZ(7,11,"BANNER_MESSAGE.TO")),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(14,U))("ngModel",t.endScore),e.xp6(1),e.Q6J("ngIf",t.isInvalid())}}function dn(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"clr-icon",24),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.add())}),e.qZA(),e.TgZ(2,"clr-icon",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.reduce())}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(1),e.ekj("disabled",!t.canAdd()),e.xp6(1),e.ekj("disabled",!t.canReduce())}}function gn(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",5)(2,"label",6),e.YNc(3,rn,6,3,"ng-container",7),e.qZA(),e.TgZ(4,"div",8)(5,"div",9)(6,"select",10),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.select())})("ngModelChange",function(r){const p=e.CHM(t).index,v=e.oxw();return e.KtG(v.selectedOptions[p]=r)}),e.YNc(7,an,3,4,"option",11),e.YNc(8,on,3,4,"option",12),e.qZA()(),e.YNc(9,ln,2,3,"div",13),e.YNc(10,cn,3,4,"div",14),e.YNc(11,pn,10,15,"div",15),e.YNc(12,dn,3,4,"ng-container",7),e.qZA()(),e.BQk()}if(2&i){const t=a.index,n=e.oxw();e.xp6(3),e.Q6J("ngIf",0===t),e.xp6(3),e.Q6J("ngModel",n.selectedOptions[t])("ngModelOptions",e.DdM(9,U)),e.xp6(1),e.Q6J("ngIf",0===t),e.xp6(1),e.Q6J("ngForOf",n.getOption(n.selectedOptions[t])),e.xp6(1),e.Q6J("ngIf",n.selectedOptions[t]!==n.OptionType.ALL&&n.selectedOptions[t]!==n.OptionType.SEVERITY&&n.selectedOptions[t]!==n.OptionType.CVSS3),e.xp6(1),e.Q6J("ngIf",n.selectedOptions[t]===n.OptionType.SEVERITY),e.xp6(1),e.Q6J("ngIf",n.selectedOptions[t]===n.OptionType.CVSS3),e.xp6(1),e.Q6J("ngIf",n.selectedOptions[t]!==n.OptionType.ALL&&0===t)}}let J=(()=>{var i;class a{constructor(){this.selectedOptions=["all"],this.candidates=[s.GL.CVE_ID,s.GL.SEVERITY,s.GL.CVSS3,s.GL.PROJECT_ID,s.GL.REPO,s.GL.PACKAGE,s.GL.TAG,s.GL.DIGEST],this.allOptions=[s.GL.CVE_ID,s.GL.SEVERITY,s.GL.CVSS3,s.GL.PROJECT_ID,s.GL.REPO,s.GL.PACKAGE,s.GL.TAG,s.GL.DIGEST],this.valueMap={},this.search=new e.vpe,this.SEVERITY_OPTIONS=s.og,this.OptionType=s.GL,this.OptionType_I18n_Map=s.Iz,this.loading=!1}select(){"all"===this.selectedOptions[0]&&(this.selectedOptions=["all"]),this.candidates=this.allOptions.filter(n=>!this.selectedOptions.find(r=>r===n))}add(){this.canAdd()&&(this.selectedOptions.push(this.candidates[0]),this.candidates.shift())}reduce(){this.canReduce()&&(this.candidates.unshift(this.selectedOptions[this.selectedOptions.length-1]),this.selectedOptions.pop())}canAdd(){return this.selectedOptions.length<this.allOptions.length}canReduce(){return this.selectedOptions.length>=2}getOption(n){return"all"===n?this.candidates:[n].concat(this.candidates)}fireSearchEvent(){let n={normal:[],projectId:""};this.selectedOptions.forEach(r=>{r!==s.GL.ALL?r===s.GL.PROJECT_ID&&this.valueMap[s.GL.PROJECT_ID]?.trim()?n.projectId=this.valueMap[s.GL.PROJECT_ID]?.trim():r===s.GL.SEVERITY?this.severity&&n.normal.push(`${s.GL.SEVERITY}=${this.severity}`):r===s.GL.CVSS3?(this.startScore?.trim()||this.endScore?.trim())&&n.normal.push(`${s.GL.CVSS3}=[${this.startScore?this.startScore?.trim():"0.0"}~${this.endScore?this.endScore?.trim():"10.0"}]`):this.valueMap[r]?.trim()&&n.normal.push(`${r}=${this.valueMap[r]?.trim()}`):this.search.emit(n)}),this.search.emit(n)}isInvalid(){if(-1!==this.selectedOptions.indexOf(s.GL.CVSS3)){if(this.startScore&&!s.d4.test(this.startScore)||this.endScore&&!s.d4.test(this.endScore))return!0;if(this.startScore&&this.endScore)return+this.startScore>+this.endScore}return!1}}return(i=a).\u0275fac=function(n){return new(n||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-vulnerability-filter"]],inputs:{loading:"loading"},outputs:{search:"search"},decls:7,vars:6,consts:[[1,"clr-row"],[1,"clr-form","clr-form-horizontal"],[4,"ngFor","ngForOf"],["id","search","type","button",1,"btn","btn-primary","ml-1",3,"disabled","clrLoading","click"],["shape","search"],[1,"clr-form-control"],[1,"clr-control-label"],[4,"ngIf"],[1,"clr-control-container","flex"],[1,"clr-select-wrapper"],[1,"clr-select",3,"ngModel","ngModelOptions","change","ngModelChange"],[3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["class","clr-input-wrapper ml-1",4,"ngIf"],["class","clr-select-wrapper ml-1",4,"ngIf"],["class","clr-input-wrapper ml-1",3,"clr-error",4,"ngIf"],["clrTooltipTrigger","","shape","info-circle","size","24"],["clrPosition","top-right","clrSize","lg",4,"clrIfOpen"],["clrPosition","top-right","clrSize","lg"],[3,"value"],[1,"clr-input-wrapper","ml-1"],["type","text",1,"clr-input",3,"ngModelOptions","ngModel","ngModelChange"],[1,"clr-select-wrapper","ml-1"],[1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange"],["shape","plus-circle",1,"plus",3,"click"],["shape","minus-circle",1,"minus",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"form",1),e.YNc(2,gn,13,10,"ng-container",2),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return r.fireSearchEvent()}),e._UZ(4,"clr-icon",4),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("ngForOf",r.selectedOptions),e.xp6(1),e.Q6J("disabled",r.loading||r.isInvalid())("clrLoading",r.loading),e.xp6(2),e.hij("",e.lcZ(6,4,"SECURITY_HUB.SEARCH")," "))},dependencies:[h._Y,h.YN,h.Kr,h.Fj,h.EJ,h.JJ,h.JL,h.On,h.F,l.qvL,l.cCV,l.nqY,l.MPb,l.MgK,l.VqA,l.Jmj,l.bMv,l.zDF,_.sg,_.O5,g.X$],styles:[".flex[_ngcontent-%COMP%]{display:flex}.clr-control-container[_ngcontent-%COMP%]{align-items:center}.clr-select[_ngcontent-%COMP%]{min-width:8rem;margin-top:1px}.clr-input-wrapper[_ngcontent-%COMP%]{min-width:8rem}.clr-control-label[_ngcontent-%COMP%]{width:4rem!important}.plus[_ngcontent-%COMP%]{margin-left:2rem;background-color:green;border-radius:50%;color:#fff;cursor:pointer}.minus[_ngcontent-%COMP%]{margin-left:1rem;background-color:red;border-radius:50%;color:#fff;cursor:pointer}.clr-form[_ngcontent-%COMP%]{padding-left:.75rem}.disabled[_ngcontent-%COMP%]{cursor:not-allowed;background-color:gray}.clr-row[_ngcontent-%COMP%]{align-items:baseline}"]}),a})();var H=d(6059),_n=d(5738);let B=(()=>{var i;class a{constructor(){this.sections=new Map}scroll(n){this.sections.get(n).scroll()}register(n){this.sections.set(n.id,n)}remove(n){this.sections.delete(n.id)}}return(i=a).\u0275fac=function(n){return new(n||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),a})(),hn=(()=>{var i;class a{constructor(n,r){this.host=n,this.manager=r}ngOnInit(){this.manager.register(this)}ngOnDestroy(){this.manager.remove(this)}scroll(){this.host.nativeElement.scrollIntoView({behavior:"smooth"})}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(e.SBq),e.Y36(B))},i.\u0275dir=e.lG2({type:i,selectors:[["","appScrollSection",""]],inputs:{id:["appScrollSection","id"]}}),a})();var Q=d(5477),j=d(3555),K=d(1819);let mn=(()=>{var i;class a{constructor(n){this.manager=n}scroll(){this.manager.scroll(this.id)}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(B))},i.\u0275dir=e.lG2({type:i,selectors:[["","appScrollAnchor",""]],hostBindings:function(n,r){1&n&&e.NdJ("click",function(){return r.scroll()})},inputs:{id:["appScrollAnchor","id"]}}),a})();const Sn=["container"];let fn=(()=>{var i;class a{constructor(n){this.translate=n}ngOnChanges(n){n&&n.dangerousArtifact&&this.initChart()}initChart(){const n=K.S1(this.container.nativeElement),[r,o,p,v]=["VULNERABILITY.GRID.COLUMN_SEVERITY","VULNERABILITY.SEVERITY.CRITICAL","VULNERABILITY.SEVERITY.HIGH","VULNERABILITY.SEVERITY.MEDIUM"];this.translate.get([r,o,p,v]).subscribe(x=>{n.setOption({color:[s.gX.CRITICAL,s.gX.HIGH,s.gX.MEDIUM],title:{text:""},tooltip:{formatter:"{b}: {c}",textStyle:{fontSize:"12px",whiteSpace:"nowrap"}},legend:{show:!1},series:[{type:"pie",radius:"65%",name:x[r],startAngle:180,itemStyle:{borderRadius:2,borderWidth:1},labelLine:{show:!1},label:{show:!0,position:"inside",formatter:"{c}",fontSize:"9px"},data:[{name:x[o],value:this.dangerousArtifact?.critical_cnt||0},{name:x[p],value:this.dangerousArtifact?.high_cnt||0},{name:x[v],value:this.dangerousArtifact?.medium_cnt||0},{value:this.dangerousArtifact?.critical_cnt+this.dangerousArtifact?.high_cnt+this.dangerousArtifact?.medium_cnt||0,itemStyle:{color:"none",decal:{symbol:"none"}},label:{show:!1}}]}]})})}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-single-bar"]],viewQuery:function(n,r){if(1&n&&e.Gf(Sn,7),2&n){let o;e.iGM(o=e.CRH())&&(r.container=o.first)}},inputs:{dangerousArtifact:"dangerousArtifact"},features:[e.TTD],decls:2,vars:0,consts:[[1,"single-bar"],["container",""]],template:function(n,r){1&n&&e._UZ(0,"div",0,1)},styles:[".single-bar[_ngcontent-%COMP%]{width:160px;height:80px;position:absolute;top:-12px}"],changeDetection:0}),a})();const Cn=["pieChart"];function An(i,a){1&i&&(e.TgZ(0,"clr-tooltip-content",27)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"SECURITY_HUB.PAGE_TITLE_TOOLTIP")))}function Tn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"a",31),e.NdJ("click",function(){const o=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.searchRepoClick(o))}),e.TgZ(3,"span",32),e._UZ(4,"clr-icon",33),e._uU(5),e.qZA()()(),e.TgZ(6,"div",34)(7,"a",35)(8,"span",32),e._uU(9),e.qZA()()(),e.TgZ(10,"div",30)(11,"div",36),e._UZ(12,"app-single-bar",37),e.qZA()()()}if(2&i){const t=a.$implicit,n=e.oxw(2);e.xp6(2),e.s9C("appScrollAnchor",n.vulId),e.s9C("title",t.repository_name),e.xp6(3),e.hij("",t.repository_name," "),e.xp6(1),e.s9C("title",null==t?null:t.digest),e.xp6(1),e.Q6J("routerLink",n.getDigestLink(null==t?null:t.project_id,null==t?null:t.repository_name,t.digest)),e.xp6(2),e.Oqu(null==t||null==t.digest?null:t.digest.slice(0,15)),e.xp6(3),e.Q6J("dangerousArtifact",t)}}function vn(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Tn,13,7,"div",28),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.securitySummary?null:t.securitySummary.dangerous_artifacts)}}function Zn(i,a){1&i&&(e.TgZ(0,"div",38),e._UZ(1,"div",39),e.TgZ(2,"span",40),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"SECURITY_HUB.NO_VUL")))}function En(i,a){if(1&i&&(e.TgZ(0,"span",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,n.severityText(t.severity)))}}function xn(i,a){if(1&i&&(e.TgZ(0,"span",53),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,n.severityText(t.severity)))}}function bn(i,a){if(1&i&&(e.TgZ(0,"span",54),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,n.severityText(t.severity)))}}function yn(i,a){if(1&i&&(e.TgZ(0,"span",55),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,n.severityText(t.severity)))}}function Nn(i,a){if(1&i&&(e.TgZ(0,"span",56),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,n.severityText(t.severity)))}}function wn(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,n.severityText(t.severity)))}}function On(i,a){if(1&i&&(e.TgZ(0,"span",57),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("title",(null==t?null:t.package)+"@"+(null==t?null:t.version)),e.xp6(1),e.hij(" ",(null==t?null:t.package)+"@"+(null==t?null:t.version)," ")}}function In(i,a){if(1&i&&(e.TgZ(0,"span",57),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("title",null==t?null:t.package),e.xp6(1),e.hij(" ",null==t?null:t.package," ")}}function Un(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",41)(2,"a",31),e.NdJ("click",function(){const o=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.searchCVEClick(null==o?null:o.cve_id))}),e.TgZ(3,"span",32),e._UZ(4,"clr-icon",33),e._uU(5),e.qZA()()(),e.TgZ(6,"div",42),e.ynx(7,43),e.YNc(8,En,3,3,"span",44),e.YNc(9,xn,3,3,"span",45),e.YNc(10,bn,3,3,"span",46),e.YNc(11,yn,3,3,"span",47),e.YNc(12,Nn,3,3,"span",48),e.YNc(13,wn,3,3,"span",49),e.BQk(),e.qZA(),e.TgZ(14,"div",42),e._uU(15),e.qZA(),e.TgZ(16,"div",50),e.YNc(17,On,2,2,"span",51),e.YNc(18,In,2,2,"span",51),e.qZA()()}if(2&i){const t=a.$implicit,n=e.oxw(2);e.xp6(2),e.s9C("appScrollAnchor",n.vulId),e.s9C("title",t.cve_id),e.xp6(3),e.hij("",t.cve_id," "),e.xp6(2),e.Q6J("ngSwitch",t.severity),e.xp6(1),e.Q6J("ngSwitchCase","Critical"),e.xp6(1),e.Q6J("ngSwitchCase","High"),e.xp6(1),e.Q6J("ngSwitchCase","Medium"),e.xp6(1),e.Q6J("ngSwitchCase","Low"),e.xp6(1),e.Q6J("ngSwitchCase","None"),e.xp6(3),e.hij(" ",null==t?null:t.cvss_score_v3," "),e.xp6(2),e.Q6J("ngIf",null==t?null:t.version),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.version))}}function Ln(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Un,19,12,"div",28),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.securitySummary?null:t.securitySummary.dangerous_cves)}}function Mn(i,a){1&i&&(e.TgZ(0,"div",38),e._UZ(1,"div",39),e.TgZ(2,"span",40),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"SECURITY_HUB.NO_VUL")))}const Rn=function(i,a){return{totalNum:i,fixableNum:a}};let qn=(()=>{var i;class a{constructor(n,r,o,p){this.securityHubService=n,this.messageHandler=r,this.event=o,this.translate=p,this.searchCVE=new e.vpe,this.searchRepo=new e.vpe,this.vulId=s.If,this.severityText=s.i4,this.getDigestLink=s.ur,this.loadingSummary=!1}ngOnInit(){this.chart=K.S1(this.pieChartEle.nativeElement),this.getSummary(),this.harborEventSub||(this.harborEventSub=this.event.subscribe(j.n.THEME_CHANGE,()=>{this.securitySummary&&this.setOption(this.securitySummary)}))}ngOnDestroy(){this.harborEventSub&&(this.harborEventSub.unsubscribe(),this.harborEventSub=null)}getSummary(){this.loadingSummary=!0,this.securityHubService.getSecuritySummary({withDangerousArtifact:!0,withDangerousCve:!0}).pipe((0,u.x)(()=>this.loadingSummary=!1)).subscribe({next:n=>{this.securitySummary=n,this.setOption(n)},error:n=>{this.messageHandler.error(n)}})}setOption(n){const[r,o,p,v,x,z,$]=["VULNERABILITY.GRID.COLUMN_SEVERITY","VULNERABILITY.SEVERITY.CRITICAL","VULNERABILITY.SEVERITY.HIGH","VULNERABILITY.SEVERITY.MEDIUM","VULNERABILITY.SEVERITY.LOW","VULNERABILITY.SEVERITY.NONE","UNKNOWN"];this.translate.get([r,o,p,v,x,z,$]).subscribe(b=>{this.chart.setOption({color:[s.gX.CRITICAL,s.gX.HIGH,s.gX.MEDIUM,s.gX.LOW,s.gX.NA,s.gX.NONE],title:{text:""},tooltip:{formatter:"<b>{b}: {d}%</b>"},legend:{align:"left",left:5,bottom:5,formatter:"{a|{name}}",textStyle:{color:this.getColorByTheme(),width:50,backgroundColor:"transparent",rich:{a:{fontWeight:"100",fontSize:"12px",verticalAlign:"bottom",height:12,lineHeight:15}}},itemWidth:12,itemHeight:12,width:"50%"},series:[{itemStyle:{borderRadius:3,borderWidth:1},label:{show:!1},radius:["50%","80%"],name:b[r],type:"pie",center:["68%","50%"],data:[{name:b[o],value:n?.critical_cnt||0},{name:b[p],value:n?.high_cnt||0},{name:b[v],value:n?.medium_cnt||0},{name:b[x],value:n?.low_cnt||0},{name:b[$],value:n?.unknown_cnt||0},{name:b[z],value:n?.none_cnt||0}]}]})})}searchCVEClick(n){this.searchCVE.emit(n)}searchRepoClick(n){this.searchRepo.emit(n)}getColorByTheme(){return localStorage?.getItem(Q.BJ)===Q.XO.LIGHT?"#000":"#fff"}onResize(n){this.chart.resize()}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(H._),e.Y36(L.d),e.Y36(j.P),e.Y36(g.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-vulnerability-summary"]],viewQuery:function(n,r){if(1&n&&e.Gf(Cn,7),2&n){let o;e.iGM(o=e.CRH())&&(r.pieChartEle=o.first)}},hostBindings:function(n,r){1&n&&e.NdJ("resize",function(p){return r.onResize(p)},!1,e.Jf7)},outputs:{searchCVE:"searchCVE",searchRepo:"searchRepo"},decls:104,vars:78,consts:[[1,"page-title-tooltip"],["clrTooltipTrigger","","shape","info-circle","size","24"],["clrPosition","top-right","clrSize","lg",4,"clrIfOpen"],[1,"container"],[1,"card"],[1,"card-header","text-truncate"],[1,"card-block"],[1,"clr-row"],[1,"clr-col","center"],[1,"card-header","text-truncate","sub-header-title"],[1,"clr-row","severity-item"],[1,"clr-col-3","center"],[1,"text-truncate"],[1,"clr-col-9"],[1,"clr-col-3"],[1,"clr-row",3,"hidden"],[1,"placeholder"],["id","pie-chart",1,"pie-chart"],["pieChart",""],[1,"card-header","pb-0"],[1,"mb-1"],[1,"clr-col","column"],[1,"card-block","pt-1"],[4,"ngIf"],["class","datagrid-placeholder",4,"ngIf"],[1,"clr-col-4","column"],[1,"clr-col-2","column"],["clrPosition","top-right","clrSize","lg"],["class","clr-row row",4,"ngFor","ngForOf"],[1,"clr-row","row"],[1,"clr-col"],["href","javascript:void(0)",1,"search",3,"appScrollAnchor","title","click"],[1,"ellipsis"],["shape","search"],[1,"clr-col",3,"title"],["href","javascript:void(0)",3,"routerLink"],[1,"single-bar-container"],[3,"dangerousArtifact"],[1,"datagrid-placeholder"],[1,"datagrid-placeholder-image"],[1,"datagrid-placeholder-content"],[1,"clr-col-4"],[1,"clr-col-2"],[3,"ngSwitch"],["class","label label-critical no-border",4,"ngSwitchCase"],["class","label label-danger no-border",4,"ngSwitchCase"],["class","label label-medium no-border",4,"ngSwitchCase"],["class","label label-low no-border",4,"ngSwitchCase"],["class","label label-none no-border",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"clr-col-4","ellipsis"],[3,"title",4,"ngIf"],[1,"label","label-critical","no-border"],[1,"label","label-danger","no-border"],[1,"label","label-medium","no-border"],[1,"label","label-low","no-border"],[1,"label","label-none","no-border"],[3,"title"]],template:function(n,r){1&n&&(e.TgZ(0,"h2"),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"translate"),e.TgZ(5,"clr-tooltip",0),e._UZ(6,"clr-icon",1),e.YNc(7,An,4,3,"clr-tooltip-content",2),e.qZA()(),e.TgZ(8,"div",3)(9,"div",4)(10,"div",5),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",6)(14,"div",7)(15,"div",8)(16,"label",9),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"div",10)(20,"div",11)(21,"label",12),e._uU(22),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",13),e._uU(25),e.qZA()(),e.TgZ(26,"div",10)(27,"div",14)(28,"label",12),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",13),e._uU(32),e.qZA()(),e.TgZ(33,"div",10)(34,"div",14)(35,"label",12),e._uU(36),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",13),e._uU(39),e.qZA()(),e.TgZ(40,"div",10)(41,"div",14)(42,"label",12),e._uU(43),e.ALo(44,"translate"),e.qZA()(),e.TgZ(45,"div",13),e._uU(46),e.qZA()(),e.TgZ(47,"div",10)(48,"div",14)(49,"label",12),e._uU(50),e.ALo(51,"translate"),e.qZA()(),e.TgZ(52,"div",13),e._uU(53),e.qZA()(),e.TgZ(54,"div",10)(55,"div",14)(56,"label",12),e._uU(57),e.ALo(58,"translate"),e.qZA()(),e.TgZ(59,"div",13),e._uU(60),e.qZA()(),e.TgZ(61,"div",15)(62,"div",16),e._UZ(63,"div",17,18),e.qZA()()()(),e.TgZ(65,"div",4)(66,"div",19)(67,"div",20),e._uU(68),e.ALo(69,"translate"),e.qZA(),e.TgZ(70,"div",7)(71,"div",21),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.TgZ(74,"div",21),e._uU(75),e.ALo(76,"translate"),e.qZA(),e.TgZ(77,"div",21),e._uU(78),e.ALo(79,"translate"),e.qZA()()(),e.TgZ(80,"div",22),e.YNc(81,vn,2,1,"ng-container",23),e.YNc(82,Zn,5,3,"div",24),e.qZA()(),e.TgZ(83,"div",4)(84,"div",19)(85,"div",20),e._uU(86),e.ALo(87,"translate"),e.qZA(),e.TgZ(88,"div",7)(89,"div",25),e._uU(90),e.ALo(91,"translate"),e.qZA(),e.TgZ(92,"div",26),e._uU(93),e.ALo(94,"translate"),e.qZA(),e.TgZ(95,"div",26),e._uU(96),e.ALo(97,"translate"),e.qZA(),e.TgZ(98,"div",25),e._uU(99),e.ALo(100,"translate"),e.qZA()()(),e.TgZ(101,"div",22),e.YNc(102,Ln,2,1,"ng-container",23),e.YNc(103,Mn,5,3,"div",24),e.qZA()()()),2&n&&(e.xp6(1),e.gL8(" ",(null==r.securitySummary?null:r.securitySummary.total_artifact)||0," ",e.lcZ(2,34,"SECURITY_HUB.ARTIFACTS"),", ",(null==r.securitySummary?null:r.securitySummary.scanned_cnt)||0," ",e.lcZ(3,36,"SECURITY_HUB.SCANNED"),", ",(null==r.securitySummary?null:r.securitySummary.total_artifact)-(null==r.securitySummary?null:r.securitySummary.scanned_cnt)," ",e.lcZ(4,38,"SECURITY_HUB.NOT_SCANNED")," "),e.xp6(10),e.hij(" ",e.lcZ(12,40,"SECURITY_HUB.TOTAL_VUL")," "),e.xp6(6),e.hij(" ",e.xi3(18,42,"SECURITY_HUB.TOTAL_AND_FIXABLE",e.WLB(75,Rn,(null==r.securitySummary?null:r.securitySummary.total_vuls)||0,(null==r.securitySummary?null:r.securitySummary.fixable_cnt)||0))," "),e.xp6(5),e.hij("",e.lcZ(23,45,"VULNERABILITY.SEVERITY.CRITICAL")," "),e.xp6(3),e.hij(" ",(null==r.securitySummary?null:r.securitySummary.critical_cnt)||0," "),e.xp6(4),e.Oqu(e.lcZ(30,47,"VULNERABILITY.SEVERITY.HIGH")),e.xp6(3),e.hij(" ",(null==r.securitySummary?null:r.securitySummary.high_cnt)||0," "),e.xp6(4),e.Oqu(e.lcZ(37,49,"VULNERABILITY.SEVERITY.MEDIUM")),e.xp6(3),e.hij(" ",(null==r.securitySummary?null:r.securitySummary.medium_cnt)||0," "),e.xp6(4),e.Oqu(e.lcZ(44,51,"VULNERABILITY.SEVERITY.LOW")),e.xp6(3),e.hij(" ",(null==r.securitySummary?null:r.securitySummary.low_cnt)||0," "),e.xp6(4),e.Oqu(e.lcZ(51,53,"UNKNOWN")),e.xp6(3),e.hij(" ",(null==r.securitySummary?null:r.securitySummary.unknown_cnt)||0," "),e.xp6(4),e.Oqu(e.lcZ(58,55,"VULNERABILITY.SEVERITY.NONE")),e.xp6(3),e.hij(" ",(null==r.securitySummary?null:r.securitySummary.none_cnt)||0," "),e.xp6(1),e.Q6J("hidden",!(null!=r.securitySummary&&r.securitySummary.total_vuls)),e.xp6(7),e.hij(" ",e.lcZ(69,57,"SECURITY_HUB.TOP_5_ARTIFACT")," "),e.xp6(4),e.hij(" ",e.lcZ(73,59,"SECURITY_HUB.REPO_NAME")," "),e.xp6(3),e.hij(" ",e.lcZ(76,61,"P2P_PROVIDER.DIGEST")," "),e.xp6(3),e.hij(" ",e.lcZ(79,63,"VULNERABILITY.PLURAL")," "),e.xp6(3),e.Q6J("ngIf",null==r.securitySummary||null==r.securitySummary.dangerous_artifacts?null:r.securitySummary.dangerous_artifacts.length),e.xp6(1),e.Q6J("ngIf",!(r.loadingSummary||null!=r.securitySummary&&null!=r.securitySummary.dangerous_artifacts&&r.securitySummary.dangerous_artifacts.length)),e.xp6(4),e.Oqu(e.lcZ(87,65,"SECURITY_HUB.TOP_5_CVE")),e.xp6(4),e.hij(" ",e.lcZ(91,67,"SECURITY_HUB.CVE_ID")," "),e.xp6(3),e.hij(" ",e.lcZ(94,69,"VULNERABILITY.GRID.COLUMN_SEVERITY")," "),e.xp6(3),e.hij(" ",e.lcZ(97,71,"VULNERABILITY.GRID.CVSS3")," "),e.xp6(3),e.hij(" ",e.lcZ(100,73,"VULNERABILITY.GRID.COLUMN_PACKAGE")," "),e.xp6(3),e.Q6J("ngIf",null==r.securitySummary||null==r.securitySummary.dangerous_cves?null:r.securitySummary.dangerous_cves.length),e.xp6(1),e.Q6J("ngIf",!(r.loadingSummary||null!=r.securitySummary&&null!=r.securitySummary.dangerous_cves&&r.securitySummary.dangerous_cves.length)))},dependencies:[l.qvL,l.nqY,l.MgK,l.Jmj,l.bMv,l.zDF,_.sg,_.O5,_.RF,_.n9,_.ED,mn,T.rH,fn,g.X$],styles:['.sub-header-title[_ngcontent-%COMP%]{padding:0!important}.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.card[_ngcontent-%COMP%]{max-width:32%;min-width:20rem;flex-grow:0;flex-shrink:0;height:17rem}.card[_ngcontent-%COMP%]:not(:last-child){margin-right:1rem}.placeholder[_ngcontent-%COMP%]{position:relative;width:100%}.pie-chart[_ngcontent-%COMP%]{position:absolute;top:-6rem;width:100%;height:200px}.column[_ngcontent-%COMP%]{font-size:10px;font-weight:bolder;text-transform:uppercase}.ellipsis[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.single-bar-container[_ngcontent-%COMP%]{position:relative;height:48px;width:60px}.card-header[_ngcontent-%COMP%]{height:4rem}.row[_ngcontent-%COMP%]{height:48px}.search[_ngcontent-%COMP%]{display:flex;align-items:center}.label-critical[_ngcontent-%COMP%]{background:#ff4d2e;color:#000}.label-danger[_ngcontent-%COMP%]{background:#ff8f3d!important;color:#000!important}.label-medium[_ngcontent-%COMP%]{background-color:#ffce66;color:#000}.label-low[_ngcontent-%COMP%]{background:#fff1ad;color:#000}.label-none[_ngcontent-%COMP%]{background-color:#2ec0ff;color:#000}.no-border[_ngcontent-%COMP%]{border:none}.clr-col[_ngcontent-%COMP%]{min-width:0}.page-title-tooltip[_ngcontent-%COMP%]{margin-left:5px;margin-top:-2px}.h2[_ngcontent-%COMP%]{display:flex;align-items:center}.label[_ngcontent-%COMP%]{min-width:3rem}.datagrid-placeholder[_ngcontent-%COMP%]{margin-top:2.5rem;border-top:0;padding:.6rem;display:flex;flex-flow:column nowrap;align-items:center;justify-content:flex-start;font-size:.8rem;color:#b3b3b3}.datagrid-placeholder-image[_ngcontent-%COMP%]{height:3rem;width:3rem;margin-bottom:.6rem;background-repeat:no-repeat;background-size:contain;background-position:center;background-image:url("data:image/svg+xml;charset=utf8,%3Csvg%20viewBox%3D%220%200%2060%2072%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3Cellipse%20id%3D%22path-1%22%20cx%3D%2230%22%20cy%3D%2261.7666667%22%20rx%3D%2215.4512904%22%20ry%3D%224.73333333%22%3E%3C%2Fellipse%3E%0A%20%20%20%20%20%20%20%20%3Cmask%20id%3D%22mask-2%22%20maskContentUnits%3D%22userSpaceOnUse%22%20maskUnits%3D%22objectBoundingBox%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2230.9025808%22%20height%3D%229.46666667%22%20fill%3D%22white%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20xlink%3Ahref%3D%22%23path-1%22%3E%3C%2Fuse%3E%0A%20%20%20%20%20%20%20%20%3C%2Fmask%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Page-1%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Artboard%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cuse%20id%3D%22Oval-10%22%20stroke%3D%22%23C1DFEF%22%20mask%3D%22url(%23mask-2)%22%20stroke-width%3D%222.8%22%20stroke-linecap%3D%22square%22%20stroke-dasharray%3D%223%2C6%2C3%2C5%22%20xlink%3Ahref%3D%22%23path-1%22%3E%3C%2Fuse%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M38.4613647%2C18.1642456%20L30.9890137%2C34.9141846%20L31%2C47%20L32.5977783%2C46.5167236%20L32.5977783%2C34.9141846%20L51.0673218%2C15.7560425%20C51.0673218%2C15.7560425%2048.6295166%2C16.6542969%2044.9628906%2C17.3392334%20C41.2962646%2C18.0241699%2038.4613647%2C18.1642456%2038.4613647%2C18.1642456%20Z%22%20id%3D%22Path-195%22%20fill%3D%22%23C1DFEF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M4.74639226%2C12.5661855%20L4.62065726%2C12.1605348%20L5.3515414%2C11.1625044%20L5.77622385%2C11.159939%20L6.20936309%2C12.5573481%20L4.74639226%2C12.5661855%20Z%20M6.20936309%2C12.5573481%20L6.32542632%2C12.9317954%20L28.4963855%2C34.8796718%20L28.4963855%2C47.8096691%20L32.6%2C46.4836513%20L32.6%2C34.8992365%20L53.973494%2C12.7035813%20L53.973494%2C12.2688201%20L6.20936309%2C12.5573481%20Z%20M55.373494%2C10.8603376%20L55.373494%2C13.2680664%20L34%2C35.4637216%20L34%2C47.5025401%20L27.0963855%2C49.7333333%20L27.0963855%2C35.4637219%20L5.09179688%2C13.680542%20L4.31325301%2C11.1687764%20L55.373494%2C10.8603376%20Z%22%20id%3D%22Path-149%22%20fill%3D%22%237FBDDD%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cellipse%20id%3D%22Oval-9%22%20fill%3D%22%23FFFFFF%22%20cx%3D%2230%22%20cy%3D%2211.785654%22%20rx%3D%2226%22%20ry%3D%226.78565401%22%3E%3C%2Fellipse%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M30%2C17.171308%20C36.8772177%2C17.171308%2043.3112282%2C16.4610701%2048.0312371%2C15.2292106%20C50.2777611%2C14.6428977%2052.0507619%2C13.9579677%2053.2216231%2C13.2354973%20C54.1938565%2C12.6355886%2054.6%2C12.1175891%2054.6%2C11.785654%20C54.6%2C11.4537189%2054.1938565%2C10.9357194%2053.2216231%2C10.3358107%20C52.0507619%2C9.61334032%2050.2777611%2C8.92841034%2048.0312371%2C8.34209746%20C43.3112282%2C7.11023795%2036.8772177%2C6.4%2030%2C6.4%20C23.1227823%2C6.4%2016.6887718%2C7.11023795%2011.9687629%2C8.34209746%20C9.72223886%2C8.92841034%207.94923814%2C9.61334032%206.77837689%2C10.3358107%20C5.8061435%2C10.9357194%205.4%2C11.4537189%205.4%2C11.785654%20C5.4%2C12.1175891%205.8061435%2C12.6355886%206.77837689%2C13.2354973%20C7.94923814%2C13.9579677%209.72223886%2C14.6428977%2011.9687629%2C15.2292106%20C16.6887718%2C16.4610701%2023.1227823%2C17.171308%2030%2C17.171308%20Z%20M30%2C18.571308%20C15.6405965%2C18.571308%204%2C15.5332672%204%2C11.785654%20C4%2C8.03804078%2015.6405965%2C5%2030%2C5%20C44.3594035%2C5%2056%2C8.03804078%2056%2C11.785654%20C56%2C15.5332672%2044.3594035%2C18.571308%2030%2C18.571308%20Z%22%20id%3D%22Oval-9-Copy%22%20fill%3D%22%237FBDDD%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M18.2608643%2C7.14562988%20L22.727356%2C16.9047241%20C22.727356%2C16.9047241%2015.3006592%2C16.3911743%2010.276001%2C14.7511597%20C5.25134277%2C13.111145%205.38031006%2C11.8284302%205.38031006%2C11.6882935%20C5.38031006%2C10.4832831%208.16633152%2C9.41877716%2011.114563%2C8.57324219%20C14.549319%2C7.58817492%2018.2608643%2C7.14562988%2018.2608643%2C7.14562988%20Z%22%20id%3D%22Path-196%22%20fill%3D%22%23C1DFEF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E")}']}),a})();const Dn=["pagination"];function Fn(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.cve_id)}}function Pn(i,a){if(1&i&&(e.TgZ(0,"a",27),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("href",null==t?null:t.links[0],e.LSH),e.xp6(1),e.Oqu(t.cve_id)}}function Vn(i,a){if(1&i&&(e.TgZ(0,"div",30)(1,"a",27),e._uU(2),e.qZA()()),2&i){const t=a.$implicit;e.xp6(1),e.s9C("href",t,e.LSH),e.xp6(1),e.Oqu(t)}}function Gn(i,a){if(1&i&&(e.TgZ(0,"clr-signpost-content"),e.YNc(1,Vn,3,2,"div",29),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",null==t?null:t.links)}}function Yn(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"clr-signpost"),e.YNc(3,Gn,2,1,"clr-signpost-content",28),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.cve_id," ")}}function kn(i,a){if(1&i&&(e.TgZ(0,"span",31),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,n.severityText(t.severity)))}}function Jn(i,a){if(1&i&&(e.TgZ(0,"span",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,n.severityText(t.severity)))}}function Hn(i,a){if(1&i&&(e.TgZ(0,"span",33),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,n.severityText(t.severity)))}}function Bn(i,a){if(1&i&&(e.TgZ(0,"span",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,n.severityText(t.severity)))}}function Qn(i,a){if(1&i&&(e.TgZ(0,"span",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,n.severityText(t.severity)))}}function jn(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,n.severityText(t.severity)))}}function Kn(i,a){if(1&i&&(e.TgZ(0,"clr-dg-row-detail"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,2,"VULNERABILITY.GRID.COLUMN_DESCRIPTION"),": ",t.desc," ")}}function zn(i,a){if(1&i&&(e.TgZ(0,"clr-dg-row",13)(1,"clr-dg-cell",7),e.YNc(2,Fn,2,1,"span",14),e.YNc(3,Pn,2,2,"a",15),e.YNc(4,Yn,4,1,"span",14),e.qZA(),e.TgZ(5,"clr-dg-cell",16)(6,"a",17),e._uU(7),e.qZA()(),e.TgZ(8,"clr-dg-cell",16)(9,"a",17),e._uU(10),e.qZA()(),e.TgZ(11,"clr-dg-cell",18),e._uU(12),e.qZA(),e.TgZ(13,"clr-dg-cell"),e._uU(14),e.qZA(),e.TgZ(15,"clr-dg-cell",19),e.YNc(16,kn,3,3,"span",20),e.YNc(17,Jn,3,3,"span",21),e.YNc(18,Hn,3,3,"span",22),e.YNc(19,Bn,3,3,"span",23),e.YNc(20,Qn,3,3,"span",24),e.YNc(21,jn,3,3,"span",25),e.qZA(),e.TgZ(22,"clr-dg-cell",18),e._uU(23),e.qZA(),e.TgZ(24,"clr-dg-cell",18),e._uU(25),e.qZA(),e.TgZ(26,"clr-dg-cell",18),e._uU(27),e.qZA(),e.YNc(28,Kn,3,4,"clr-dg-row-detail",26),e.qZA()),2&i){const t=a.$implicit,n=e.oxw();e.Q6J("clrDgItem",t),e.xp6(2),e.Q6J("ngIf",!(null!=t&&t.links&&0!==(null==t||null==t.links?null:t.links.length)&&(1!==(null==t||null==t.links?null:t.links.length)||null!=t&&t.links[0]))),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.links)&&1===(null==t?null:t.links.length)&&(null==t?null:t.links[0])),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.links)&&(null==t?null:t.links.length)>1),e.xp6(1),e.s9C("title",t.repository_name),e.xp6(1),e.Q6J("routerLink",n.getRepoLink(t.project_id,t.repository_name)),e.xp6(1),e.Oqu(t.repository_name),e.xp6(1),e.s9C("title",null==t?null:t.digest),e.xp6(1),e.Q6J("routerLink",n.getDigestLink(t.project_id,t.repository_name,t.digest)),e.xp6(1),e.Oqu(null==t||null==t.digest?null:t.digest.slice(0,15)),e.xp6(1),e.s9C("title",null==t.tags?null:t.tags.join(", ")),e.xp6(1),e.Oqu(null==t.tags?null:t.tags.join(", ")),e.xp6(2),e.Oqu(t.cvss_v3_score),e.xp6(1),e.Q6J("ngSwitch",t.severity),e.xp6(1),e.Q6J("ngSwitchCase","Critical"),e.xp6(1),e.Q6J("ngSwitchCase","High"),e.xp6(1),e.Q6J("ngSwitchCase","Medium"),e.xp6(1),e.Q6J("ngSwitchCase","Low"),e.xp6(1),e.Q6J("ngSwitchCase","None"),e.xp6(2),e.s9C("title",t.package),e.xp6(1),e.Oqu(t.package),e.xp6(1),e.s9C("title",t.version),e.xp6(1),e.Oqu(t.version),e.xp6(1),e.s9C("title",t.fixed_version),e.xp6(1),e.Oqu(t.fixed_version)}}const $n=function(){return[10,25,50]},Wn=[{path:"",component:nn,children:[{path:"scanners",component:De},{path:"vulnerability",component:en},{path:"security-hub",component:(()=>{var i;class a{constructor(n,r,o,p){this.securityHubService=n,this.messageHandler=r,this.projectService=o,this.cd=p,this.loading=!0,this.currentPage=1,this.pageSize=(0,S.tb)(S.V2.SECURITY_HUB_VUL,10),this.total=0,this.vul=[],this.options=[],this.maxNum=Number.MAX_SAFE_INTEGER,this.vulId=s.If,this.severityText=s.i4,this.getDigestLink=s.ur,this.getRepoLink=s.SF}clrDgRefresh(n,r){n&&n.page&&(this.pageSize=n.page.size,(0,S.Pe)(S.V2.SECURITY_HUB_VUL,this.pageSize)),this.loading=!0,this.state=n,this.options=r,this.securityHubService.ListVulnerabilitiesResponse({tuneCount:!0,withTag:!0,page:this.currentPage,pageSize:this.pageSize,q:encodeURIComponent(this.options?.length?this.options.join(","):"")}).pipe((0,u.x)(()=>this.loading=!1)).subscribe({next:o=>{if(o.headers){const p=o.headers.get("X-Total-Count");p&&(this.total=parseInt(p,0),this.cd.detectChanges(),this.updateTotalPage()),this.vul=o.body}},error:o=>{this.messageHandler.error(o)}})}search(n){n?.projectId?this.projectService.listProjects({name:n.projectId,page:1,pageSize:1,withDetail:!1}).subscribe({next:r=>{r?.length?(n.normal.push(`${s.GL.PROJECT_ID}=${r[0]?.project_id}`),this.clrDgRefresh(this.state,n?.normal)):(n.normal.push(`${s.GL.PROJECT_ID}=0`),this.clrDgRefresh(this.state,n?.normal))},error:r=>{n.normal.push(`${s.GL.PROJECT_ID}=0`),this.clrDgRefresh(this.state,n?.normal)}}):this.clrDgRefresh(this.state,n?.normal)}refresh(){this.loading||(this.currentPage=1,this.clrDgRefresh(this.state,this.options))}updateTotalPage(){const n=document.querySelector("app-security-hub clr-datagrid clr-dg-pagination .pagination-list>span"),r=document.querySelector("app-security-hub clr-datagrid clr-dg-pagination .pagination-last");-1===this.total?(n&&(n.innerText=Math.ceil(1e3/this.pageSize)+"+"),r&&(r.disabled=!0)):(n&&(n.innerText=Math.ceil(this.total/this.pageSize).toString()),r&&(r.disabled=!1))}searchCVE(n){this.vulnerabilityFilterComponent.selectedOptions=[s.GL.CVE_ID],this.vulnerabilityFilterComponent.candidates=[s.GL.SEVERITY,s.GL.CVSS3,s.GL.PROJECT_ID,s.GL.REPO,s.GL.PACKAGE,s.GL.TAG],this.vulnerabilityFilterComponent.valueMap={},this.vulnerabilityFilterComponent.valueMap[s.GL.CVE_ID]=n,this.currentPage=1,this.clrDgRefresh(this.state,[`${s.GL.CVE_ID}=${n}`])}searchRepo(n){this.vulnerabilityFilterComponent.selectedOptions=[s.GL.REPO,s.GL.DIGEST],this.vulnerabilityFilterComponent.candidates=[s.GL.CVE_ID,s.GL.SEVERITY,s.GL.CVSS3,s.GL.PROJECT_ID,s.GL.PACKAGE,s.GL.TAG],this.vulnerabilityFilterComponent.valueMap={},this.vulnerabilityFilterComponent.valueMap[s.GL.REPO]=n?.repository_name,this.vulnerabilityFilterComponent.valueMap[s.GL.DIGEST]=n?.digest,this.currentPage=1,this.clrDgRefresh(this.state,[`${s.GL.REPO}=${n?.repository_name}`,`${s.GL.DIGEST}=${n?.digest}`])}}return(i=a).\u0275fac=function(n){return new(n||i)(e.Y36(H._),e.Y36(L.d),e.Y36(_n.Y),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-security-hub"]],viewQuery:function(n,r){if(1&n&&(e.Gf(Dn,7),e.Gf(J,7)),2&n){let o;e.iGM(o=e.CRH())&&(r.pagination=o.first),e.iGM(o=e.CRH())&&(r.vulnerabilityFilterComponent=o.first)}},decls:49,vars:49,consts:[[3,"searchCVE","searchRepo"],[3,"appScrollSection"],[3,"clrDgLoading","clrDgRefresh"],[1,"action-bar"],[3,"loading","search"],[1,"refresh-btn",3,"click"],["shape","refresh"],[1,"min-width"],[3,"clrDgItem",4,"ngFor","ngForOf"],[1,"mr-1"],[3,"clrDgTotalItems","clrDgPageSize","clrDgPage","clrDgPageChange"],["pagination",""],[3,"clrPageSizeOptions"],[3,"clrDgItem"],[4,"ngIf"],["rel","noopener noreferrer","target","_blank",3,"href",4,"ngIf"],[1,"ellipsis","min-width",3,"title"],["href","javascript:void(0)",3,"routerLink"],[1,"ellipsis",3,"title"],[3,"ngSwitch"],["class","label label-critical no-border",4,"ngSwitchCase"],["class","label label-danger no-border",4,"ngSwitchCase"],["class","label label-medium no-border",4,"ngSwitchCase"],["class","label label-low no-border",4,"ngSwitchCase"],["class","label label-none no-border",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"clrIfExpanded"],["rel","noopener noreferrer","target","_blank",3,"href"],[4,"clrIfOpen"],["class","mt-5px",4,"ngFor","ngForOf"],[1,"mt-5px"],[1,"label","label-critical","no-border"],[1,"label","label-danger","no-border"],[1,"label","label-medium","no-border"],[1,"label","label-low","no-border"],[1,"label","label-none","no-border"]],template:function(n,r){1&n&&(e.TgZ(0,"app-vulnerability-summary",0),e.NdJ("searchCVE",function(p){return r.searchCVE(p)})("searchRepo",function(p){return r.searchRepo(p)}),e.qZA(),e.TgZ(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"clr-datagrid",2),e.NdJ("clrDgRefresh",function(p){return r.clrDgRefresh(p,r.options)}),e.TgZ(5,"clr-dg-action-bar",3)(6,"app-vulnerability-filter",4),e.NdJ("search",function(p){return r.search(p)}),e.qZA(),e.TgZ(7,"span",5),e.NdJ("click",function(){return r.refresh()}),e._UZ(8,"clr-icon",6),e.qZA()(),e.TgZ(9,"clr-dg-column",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"clr-dg-column",7),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"clr-dg-column",7),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"clr-dg-column"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"clr-dg-column"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"clr-dg-column"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"clr-dg-column",7),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"clr-dg-column"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"clr-dg-column"),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"clr-dg-placeholder"),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.YNc(39,zn,29,25,"clr-dg-row",8),e.TgZ(40,"clr-dg-footer")(41,"span",9),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"clr-dg-pagination",10,11),e.NdJ("clrDgPageChange",function(p){return r.currentPage=p}),e.TgZ(46,"clr-dg-page-size",12),e._uU(47),e.ALo(48,"translate"),e.qZA()()()()),2&n&&(e.xp6(1),e.s9C("appScrollSection",r.vulId),e.xp6(1),e.Oqu(e.lcZ(3,22,"SECURITY_HUB.VUL")),e.xp6(2),e.Q6J("clrDgLoading",r.loading),e.xp6(2),e.Q6J("loading",r.loading),e.xp6(4),e.Oqu(e.lcZ(11,24,"SECURITY_HUB.CVE_ID")),e.xp6(3),e.Oqu(e.lcZ(14,26,"SECURITY_HUB.REPO_NAME")),e.xp6(3),e.Oqu(e.lcZ(17,28,"P2P_PROVIDER.DIGEST")),e.xp6(3),e.Oqu(e.lcZ(20,30,"AUDIT_LOG.TAGS")),e.xp6(3),e.Oqu(e.lcZ(23,32,"VULNERABILITY.GRID.CVSS3")),e.xp6(3),e.Oqu(e.lcZ(26,34,"VULNERABILITY.GRID.COLUMN_SEVERITY")),e.xp6(3),e.Oqu(e.lcZ(29,36,"VULNERABILITY.GRID.COLUMN_PACKAGE")),e.xp6(3),e.Oqu(e.lcZ(32,38,"VULNERABILITY.GRID.COLUMN_VERSION")),e.xp6(3),e.Oqu(e.lcZ(35,40,"VULNERABILITY.GRID.COLUMN_FIXED")),e.xp6(3),e.hij("",e.lcZ(38,42,"SECURITY_HUB.NO_VUL")," "),e.xp6(2),e.Q6J("ngForOf",r.vul),e.xp6(3),e.AsE("",-1===r.total?"1000+":r.total," ",e.lcZ(43,44,"SECURITY_HUB.CVE"),""),e.xp6(2),e.Q6J("clrDgTotalItems",-1===r.total?r.maxNum:r.total)("clrDgPageSize",r.pageSize)("clrDgPage",r.currentPage),e.xp6(2),e.Q6J("clrPageSizeOptions",e.DdM(48,$n)),e.xp6(1),e.Oqu(e.lcZ(48,46,"PAGINATION.PAGE_SIZE")))},dependencies:[l.C9t,l.Gwl,l.fv_,l.m4W,l.dRQ,l.YYR,l.Ltv,l.F7K,l.Z4N,l.O7r,l.Nz$,l.jND,l.KHL,l.PDs,l.Gcc,l.dml,l.Nh1,l.K8c,l.qvL,l.nqY,l.DbV,l.EuU,l.hQ,_.sg,_.O5,_.RF,_.n9,_.ED,hn,T.rH,J,qn,g.X$],styles:[".flex[_ngcontent-%COMP%]{display:flex}.label-critical[_ngcontent-%COMP%]{background:#ff4d2e;color:#000}.label-danger[_ngcontent-%COMP%]{background:#ff8f3d!important;color:#000!important}.label-medium[_ngcontent-%COMP%]{background-color:#ffce66;color:#000}.label-low[_ngcontent-%COMP%]{background:#fff1ad;color:#000}.label-none[_ngcontent-%COMP%]{background-color:#2ec0ff;color:#000}.no-border[_ngcontent-%COMP%]{border:none}.action-bar[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between}.refresh-btn[_ngcontent-%COMP%]{margin-right:2rem;cursor:pointer}.refresh-btn[_ngcontent-%COMP%]:hover{color:#007cbb}.repo-name[_ngcontent-%COMP%]{min-width:10rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ellipsis[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.min-width[_ngcontent-%COMP%]{min-width:9rem!important}.label[_ngcontent-%COMP%]{min-width:3rem}"]}),a})()},{path:"",redirectTo:"security-hub",pathMatch:"full"}]}];let Xn=(()=>{var i;class a{}return(i=a).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[Y,{provide:R,useClass:Ve}],imports:[f.m,T.Bz.forChild(Wn)]}),a})()}}]);